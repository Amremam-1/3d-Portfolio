(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();function pv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var PM={exports:{}},J0={};var Y3;function F9(){if(Y3)return J0;Y3=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,n,a){var s=null;if(a!==void 0&&(s=""+a),n.key!==void 0&&(s=""+n.key),"key"in n){a={};for(var l in n)l!=="key"&&(a[l]=n[l])}else a=n;return n=a.ref,{$$typeof:i,type:r,key:s,ref:n!==void 0?n:null,props:a}}return J0.Fragment=e,J0.jsx=t,J0.jsxs=t,J0}var J3;function H9(){return J3||(J3=1,PM.exports=F9()),PM.exports}var ne=H9(),FM={exports:{}},hn={};var q3;function k9(){if(q3)return hn;q3=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function x(Z){return Z===null||typeof Z!="object"?null:(Z=_&&Z[_]||Z["@@iterator"],typeof Z=="function"?Z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,T={};function A(Z,he,Be){this.props=Z,this.context=he,this.refs=T,this.updater=Be||b}A.prototype.isReactComponent={},A.prototype.setState=function(Z,he){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,he,"setState")},A.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function R(){}R.prototype=A.prototype;function B(Z,he,Be){this.props=Z,this.context=he,this.refs=T,this.updater=Be||b}var D=B.prototype=new R;D.constructor=B,M(D,A.prototype),D.isPureReactComponent=!0;var I=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function O(Z,he,Be){var we=Be.ref;return{$$typeof:i,type:Z,key:he,ref:we!==void 0?we:null,props:Be}}function U(Z,he){return O(Z.type,he,Z.props)}function G(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===i}function X(Z){var he={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Be){return he[Be]})}var te=/\/+/g;function ce(Z,he){return typeof Z=="object"&&Z!==null&&Z.key!=null?X(""+Z.key):he.toString(36)}function le(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(L,L):(Z.status="pending",Z.then(function(he){Z.status==="pending"&&(Z.status="fulfilled",Z.value=he)},function(he){Z.status==="pending"&&(Z.status="rejected",Z.reason=he)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function V(Z,he,Be,we,Xe){var _e=typeof Z;(_e==="undefined"||_e==="boolean")&&(Z=null);var Ce=!1;if(Z===null)Ce=!0;else switch(_e){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(Z.$$typeof){case i:case e:Ce=!0;break;case m:return Ce=Z._init,V(Ce(Z._payload),he,Be,we,Xe)}}if(Ce)return Xe=Xe(Z),Ce=we===""?"."+ce(Z,0):we,I(Xe)?(Be="",Ce!=null&&(Be=Ce.replace(te,"$&/")+"/"),V(Xe,he,Be,"",function(mt){return mt})):Xe!=null&&(G(Xe)&&(Xe=U(Xe,Be+(Xe.key==null||Z&&Z.key===Xe.key?"":(""+Xe.key).replace(te,"$&/")+"/")+Ce)),he.push(Xe)),1;Ce=0;var Ze=we===""?".":we+":";if(I(Z))for(var et=0;et<Z.length;et++)we=Z[et],_e=Ze+ce(we,et),Ce+=V(we,he,Be,_e,Xe);else if(et=x(Z),typeof et=="function")for(Z=et.call(Z),et=0;!(we=Z.next()).done;)we=we.value,_e=Ze+ce(we,et++),Ce+=V(we,he,Be,_e,Xe);else if(_e==="object"){if(typeof Z.then=="function")return V(le(Z),he,Be,we,Xe);throw he=String(Z),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function q(Z,he,Be){if(Z==null)return Z;var we=[],Xe=0;return V(Z,we,"","",function(_e){return he.call(Be,_e,Xe++)}),we}function ee(Z){if(Z._status===-1){var he=Z._result;he=he(),he.then(function(Be){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Be)},function(Be){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Be)}),Z._status===-1&&(Z._status=0,Z._result=he)}if(Z._status===1)return Z._result.default;throw Z._result}var ve=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},J={map:q,forEach:function(Z,he,Be){q(Z,function(){he.apply(this,arguments)},Be)},count:function(Z){var he=0;return q(Z,function(){he++}),he},toArray:function(Z){return q(Z,function(he){return he})||[]},only:function(Z){if(!G(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return hn.Activity=g,hn.Children=J,hn.Component=A,hn.Fragment=t,hn.Profiler=n,hn.PureComponent=B,hn.StrictMode=r,hn.Suspense=f,hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,hn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return P.H.useMemoCache(Z)}},hn.cache=function(Z){return function(){return Z.apply(null,arguments)}},hn.cacheSignal=function(){return null},hn.cloneElement=function(Z,he,Be){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var we=M({},Z.props),Xe=Z.key;if(he!=null)for(_e in he.key!==void 0&&(Xe=""+he.key),he)!F.call(he,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&he.ref===void 0||(we[_e]=he[_e]);var _e=arguments.length-2;if(_e===1)we.children=Be;else if(1<_e){for(var Ce=Array(_e),Ze=0;Ze<_e;Ze++)Ce[Ze]=arguments[Ze+2];we.children=Ce}return O(Z.type,Xe,we)},hn.createContext=function(Z){return Z={$$typeof:s,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:a,_context:Z},Z},hn.createElement=function(Z,he,Be){var we,Xe={},_e=null;if(he!=null)for(we in he.key!==void 0&&(_e=""+he.key),he)F.call(he,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Xe[we]=he[we]);var Ce=arguments.length-2;if(Ce===1)Xe.children=Be;else if(1<Ce){for(var Ze=Array(Ce),et=0;et<Ce;et++)Ze[et]=arguments[et+2];Xe.children=Ze}if(Z&&Z.defaultProps)for(we in Ce=Z.defaultProps,Ce)Xe[we]===void 0&&(Xe[we]=Ce[we]);return O(Z,_e,Xe)},hn.createRef=function(){return{current:null}},hn.forwardRef=function(Z){return{$$typeof:l,render:Z}},hn.isValidElement=G,hn.lazy=function(Z){return{$$typeof:m,_payload:{_status:-1,_result:Z},_init:ee}},hn.memo=function(Z,he){return{$$typeof:d,type:Z,compare:he===void 0?null:he}},hn.startTransition=function(Z){var he=P.T,Be={};P.T=Be;try{var we=Z(),Xe=P.S;Xe!==null&&Xe(Be,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(L,ve)}catch(_e){ve(_e)}finally{he!==null&&Be.types!==null&&(he.types=Be.types),P.T=he}},hn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},hn.use=function(Z){return P.H.use(Z)},hn.useActionState=function(Z,he,Be){return P.H.useActionState(Z,he,Be)},hn.useCallback=function(Z,he){return P.H.useCallback(Z,he)},hn.useContext=function(Z){return P.H.useContext(Z)},hn.useDebugValue=function(){},hn.useDeferredValue=function(Z,he){return P.H.useDeferredValue(Z,he)},hn.useEffect=function(Z,he){return P.H.useEffect(Z,he)},hn.useEffectEvent=function(Z){return P.H.useEffectEvent(Z)},hn.useId=function(){return P.H.useId()},hn.useImperativeHandle=function(Z,he,Be){return P.H.useImperativeHandle(Z,he,Be)},hn.useInsertionEffect=function(Z,he){return P.H.useInsertionEffect(Z,he)},hn.useLayoutEffect=function(Z,he){return P.H.useLayoutEffect(Z,he)},hn.useMemo=function(Z,he){return P.H.useMemo(Z,he)},hn.useOptimistic=function(Z,he){return P.H.useOptimistic(Z,he)},hn.useReducer=function(Z,he,Be){return P.H.useReducer(Z,he,Be)},hn.useRef=function(Z){return P.H.useRef(Z)},hn.useState=function(Z){return P.H.useState(Z)},hn.useSyncExternalStore=function(Z,he,Be){return P.H.useSyncExternalStore(Z,he,Be)},hn.useTransition=function(){return P.H.useTransition()},hn.version="19.2.3",hn}var W3;function Rp(){return W3||(W3=1,FM.exports=k9()),FM.exports}var ot=Rp();const ar=pv(ot);var HM={exports:{}},q0={},kM={exports:{}},GM={};var K3;function G9(){return K3||(K3=1,(function(i){function e(V,q){var ee=V.length;V.push(q);e:for(;0<ee;){var ve=ee-1>>>1,J=V[ve];if(0<n(J,q))V[ve]=q,V[ee]=J,ee=ve;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],ee=V.pop();if(ee!==q){V[0]=ee;e:for(var ve=0,J=V.length,Z=J>>>1;ve<Z;){var he=2*(ve+1)-1,Be=V[he],we=he+1,Xe=V[we];if(0>n(Be,ee))we<J&&0>n(Xe,Be)?(V[ve]=Xe,V[we]=ee,ve=we):(V[ve]=Be,V[he]=ee,ve=he);else if(we<J&&0>n(Xe,ee))V[ve]=Xe,V[we]=ee,ve=we;else break e}}return q}function n(V,q){var ee=V.sortIndex-q.sortIndex;return ee!==0?ee:V.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();i.unstable_now=function(){return s.now()-l}}var f=[],d=[],m=1,g=null,_=3,x=!1,b=!1,M=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(V){for(var q=t(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=V)r(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function I(V){if(M=!1,D(V),!b)if(t(f)!==null)b=!0,L||(L=!0,X());else{var q=t(d);q!==null&&le(I,q.startTime-V)}}var L=!1,P=-1,F=5,O=-1;function U(){return T?!0:!(i.unstable_now()-O<F)}function G(){if(T=!1,L){var V=i.unstable_now();O=V;var q=!0;try{e:{b=!1,M&&(M=!1,R(P),P=-1),x=!0;var ee=_;try{t:{for(D(V),g=t(f);g!==null&&!(g.expirationTime>V&&U());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,_=g.priorityLevel;var J=ve(g.expirationTime<=V);if(V=i.unstable_now(),typeof J=="function"){g.callback=J,D(V),q=!0;break t}g===t(f)&&r(f),D(V)}else r(f);g=t(f)}if(g!==null)q=!0;else{var Z=t(d);Z!==null&&le(I,Z.startTime-V),q=!1}}break e}finally{g=null,_=ee,x=!1}q=void 0}}finally{q?X():L=!1}}}var X;if(typeof B=="function")X=function(){B(G)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ce=te.port2;te.port1.onmessage=G,X=function(){ce.postMessage(null)}}else X=function(){A(G,0)};function le(V,q){P=A(function(){V(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(V){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var ee=_;_=q;try{return V()}finally{_=ee}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=_;_=V;try{return q()}finally{_=ee}},i.unstable_scheduleCallback=function(V,q,ee){var ve=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,V={id:m++,callback:q,priorityLevel:V,startTime:ee,expirationTime:J,sortIndex:-1},ee>ve?(V.sortIndex=ee,e(d,V),t(f)===null&&V===t(d)&&(M?(R(P),P=-1):M=!0,le(I,ee-ve))):(V.sortIndex=J,e(f,V),b||x||(b=!0,L||(L=!0,X()))),V},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(V){var q=_;return function(){var ee=_;_=q;try{return V.apply(this,arguments)}finally{_=ee}}}})(GM)),GM}var Q3;function V9(){return Q3||(Q3=1,kM.exports=G9()),kM.exports}var VM={exports:{}},Va={};var eB;function j9(){if(eB)return Va;eB=1;var i=Rp();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},n=Symbol.for("react.portal");function a(f,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:g==null?null:""+g,children:f,containerInfo:d,implementation:m}}var s=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Va.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,m)},Va.flushSync=function(f){var d=s.T,m=r.p;try{if(s.T=null,r.p=2,f)return f()}finally{s.T=d,r.p=m,r.d.f()}},Va.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Va.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Va.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:x}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:_,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Va.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Va.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Va.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=l(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Va.requestFormReset=function(f){r.d.r(f)},Va.unstable_batchedUpdates=function(f,d){return f(d)},Va.useFormState=function(f,d,m){return s.H.useFormState(f,d,m)},Va.useFormStatus=function(){return s.H.useHostTransitionStatus()},Va.version="19.2.3",Va}var tB;function $9(){if(tB)return VM.exports;tB=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),VM.exports=j9(),VM.exports}var nB;function X9(){if(nB)return q0;nB=1;var i=V9(),e=Rp(),t=$9();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function f(o){if(a(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,v=c;;){var S=p.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===p)return f(S),o;if(C===v)return f(S),c;C=C.sibling}throw Error(r(188))}if(p.return!==v.return)p=S,v=C;else{for(var z=!1,$=S.child;$;){if($===p){z=!0,p=S,v=C;break}if($===v){z=!0,v=S,p=C;break}$=$.sibling}if(!z){for($=C.child;$;){if($===p){z=!0,p=C,v=S;break}if($===v){z=!0,v=C,p=S;break}$=$.sibling}if(!z)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var te=Symbol.for("react.client.reference");function ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===te?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case M:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case B:return o.displayName||"Context";case R:return(o._context.displayName||"Context")+".Consumer";case D:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:ce(o.type)||"Memo";case F:c=o._payload,o=o._init;try{return ce(o(c))}catch{}}return null}var le=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ve=[],J=-1;function Z(o){return{current:o}}function he(o){0>J||(o.current=ve[J],ve[J]=null,J--)}function Be(o,c){J++,ve[J]=o.current,o.current=c}var we=Z(null),Xe=Z(null),_e=Z(null),Ce=Z(null);function Ze(o,c){switch(Be(_e,c),Be(Xe,o),Be(we,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?v3(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=v3(c),o=_3(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}he(we),Be(we,o)}function et(){he(we),he(Xe),he(_e)}function mt(o){o.memoizedState!==null&&Be(Ce,o);var c=we.current,p=_3(c,o.type);c!==p&&(Be(Xe,o),Be(we,p))}function Mt(o){Xe.current===o&&(he(we),he(Xe)),Ce.current===o&&(he(Ce),$0._currentValue=ee)}var kt,Q;function Ie(o){if(kt===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);kt=c&&c[1]||"",Q=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+o+Q}var Le=!1;function Fe(o,c){if(!o||Le)return"";Le=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(Pe){var Ne=Pe}Reflect.construct(o,[],Qe)}else{try{Qe.call()}catch(Pe){Ne=Pe}o.call(Qe.prototype)}}else{try{throw Error()}catch(Pe){Ne=Pe}(Qe=o())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(Pe){if(Pe&&Ne&&typeof Pe.stack=="string")return[Pe.stack,Ne.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),z=C[0],$=C[1];if(z&&$){var fe=z.split(`
`),De=$.split(`
`);for(S=v=0;v<fe.length&&!fe[v].includes("DetermineComponentFrameRoot");)v++;for(;S<De.length&&!De[S].includes("DetermineComponentFrameRoot");)S++;if(v===fe.length||S===De.length)for(v=fe.length-1,S=De.length-1;1<=v&&0<=S&&fe[v]!==De[S];)S--;for(;1<=v&&0<=S;v--,S--)if(fe[v]!==De[S]){if(v!==1||S!==1)do if(v--,S--,0>S||fe[v]!==De[S]){var Ve=`
`+fe[v].replace(" at new "," at ");return o.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",o.displayName)),Ve}while(1<=v&&0<=S);break}}}finally{Le=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Ie(p):""}function ae(o,c){switch(o.tag){case 26:case 27:case 5:return Ie(o.type);case 16:return Ie("Lazy");case 13:return o.child!==c&&c!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Fe(o.type,!1);case 11:return Fe(o.type.render,!1);case 1:return Fe(o.type,!0);case 31:return Ie("Activity");default:return""}}function lt(o){try{var c="",p=null;do c+=ae(o,p),p=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var We=Object.prototype.hasOwnProperty,rt=i.unstable_scheduleCallback,K=i.unstable_cancelCallback,de=i.unstable_shouldYield,k=i.unstable_requestPaint,H=i.unstable_now,ie=i.unstable_getCurrentPriorityLevel,oe=i.unstable_ImmediatePriority,ye=i.unstable_UserBlockingPriority,xe=i.unstable_NormalPriority,at=i.unstable_LowPriority,Je=i.unstable_IdlePriority,_t=i.log,ut=i.unstable_setDisableYieldValue,Ke=null,tt=null;function St(o){if(typeof _t=="function"&&ut(o),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ke,o)}catch{}}var se=Math.clz32?Math.clz32:re,Te=Math.log,st=Math.LN2;function re(o){return o>>>=0,o===0?32:31-(Te(o)/st|0)|0}var je=256,nt=262144,ht=4194304;function qe(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ge(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var S=0,C=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var $=v&134217727;return $!==0?(v=$&~C,v!==0?S=qe(v):(z&=$,z!==0?S=qe(z):p||(p=$&~o,p!==0&&(S=qe(p))))):($=v&~C,$!==0?S=qe($):z!==0?S=qe(z):p||(p=v&~o,p!==0&&(S=qe(p)))),S===0?0:c!==0&&c!==S&&(c&C)===0&&(C=S&-S,p=c&-c,C>=p||C===32&&(p&4194048)!==0)?c:S}function vt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Dt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var o=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),o}function gt(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Ct(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function qt(o,c,p,v,S,C){var z=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var $=o.entanglements,fe=o.expirationTimes,De=o.hiddenUpdates;for(p=z&~p;0<p;){var Ve=31-se(p),Qe=1<<Ve;$[Ve]=0,fe[Ve]=-1;var Ne=De[Ve];if(Ne!==null)for(De[Ve]=null,Ve=0;Ve<Ne.length;Ve++){var Pe=Ne[Ve];Pe!==null&&(Pe.lane&=-536870913)}p&=~Qe}v!==0&&yt(o,v,0),C!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=C&~(z&~c))}function yt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-se(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function $t(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-se(p),S=1<<v;S&c|o[v]&c&&(o[v]|=c),p&=~S}}function Ft(o,c){var p=c&-c;return p=(p&42)!==0?1:jt(p),(p&(o.suspendedLanes|c))!==0?0:p}function jt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function bi(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Wt(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:k3(o.type))}function In(o,c){var p=q.p;try{return q.p=o,c()}finally{q.p=p}}var $n=Math.random().toString(36).slice(2),Ot="__reactFiber$"+$n,un="__reactProps$"+$n,Mn="__reactContainer$"+$n,Cr="__reactEvents$"+$n,hi="__reactListeners$"+$n,kr="__reactHandles$"+$n,Gr="__reactResources$"+$n,_i="__reactMarker$"+$n;function j(o){delete o[Ot],delete o[un],delete o[Cr],delete o[hi],delete o[kr]}function pe(o){var c=o[Ot];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Mn]||p[Ot]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=M3(o);o!==null;){if(p=o[Ot])return p;o=M3(o)}return c}o=p,p=o.parentNode}return null}function Ae(o){if(o=o[Ot]||o[Mn]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Ue(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function ge(o){var c=o[Gr];return c||(c=o[Gr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ke(o){o[_i]=!0}var ft=new Set,wt={};function bt(o,c){Ut(o,c),Ut(o+"Capture",c)}function Ut(o,c){for(wt[o]=c,o=0;o<c.length;o++)ft.add(c[o])}var Ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},ln={};function _n(o){return We.call(ln,o)?!0:We.call(Nt,o)?!1:Ht.test(o)?ln[o]=!0:(Nt[o]=!0,!1)}function pi(o,c,p){if(_n(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function ii(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function bn(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}function Bt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Si(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function zn(o,c,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,C=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return S.call(this)},set:function(z){p=""+z,C.call(this,z)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(z){p=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function wr(o){if(!o._valueTracker){var c=Si(o)?"checked":"value";o._valueTracker=zn(o,c,""+o[c])}}function Po(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=Si(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function fr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var sc=/[\n"\\]/g;function wn(o){return o.replace(sc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Vr(o,c,p,v,S,C,z,$){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Bt(c)):o.value!==""+Bt(c)&&(o.value=""+Bt(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?dr(o,z,Bt(c)):p!=null?dr(o,z,Bt(p)):v!=null&&o.removeAttribute("value"),S==null&&C!=null&&(o.defaultChecked=!!C),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.name=""+Bt($):o.removeAttribute("name")}function ra(o,c,p,v,S,C,z,$){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),c!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||c!=null)){wr(o);return}p=p!=null?""+Bt(p):"",c=c!=null?""+Bt(c):p,$||c===o.value||(o.value=c),o.defaultValue=c}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=$?o.checked:!!v,o.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),wr(o)}function dr(o,c,p){c==="number"&&fr(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Qi(o,c,p,v){if(o=o.options,c){c={};for(var S=0;S<p.length;S++)c["$"+p[S]]=!0;for(p=0;p<o.length;p++)S=c.hasOwnProperty("$"+o[p].value),o[p].selected!==S&&(o[p].selected=S),S&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Bt(p),c=null,S=0;S<o.length;S++){if(o[S].value===p){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}c!==null||o[S].disabled||(c=o[S])}c!==null&&(c.selected=!0)}}function nu(o,c,p){if(c!=null&&(c=""+Bt(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Bt(p):""}function xa(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(r(92));if(le(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=Bt(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),wr(o)}function iu(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Fp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ud(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||Fp.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function Mv(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var S in c)v=c[S],c.hasOwnProperty(S)&&p[S]!==v&&Ud(o,S,v)}else for(var C in c)c.hasOwnProperty(C)&&Ud(o,C,c[C])}function Od(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nd(o){return px.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Fo(){}var Id=null;function Hp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ru=null,oc=null;function Tv(o){var c=Ae(o);if(c&&(o=c.stateNode)){var p=o[un]||null;e:switch(o=c.stateNode,c.type){case"input":if(Vr(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+wn(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var S=v[un]||null;if(!S)throw Error(r(90));Vr(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&Po(v)}break e;case"textarea":nu(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Qi(o,!!p.multiple,c,!1)}}}var kp=!1;function Cv(o,c,p){if(kp)return o(c,p);kp=!0;try{var v=o(c);return v}finally{if(kp=!1,(ru!==null||oc!==null)&&(Y(),ru&&(c=ru,o=oc,oc=ru=null,Tv(c),o)))for(c=0;c<o.length;c++)Tv(o[c])}}function au(o,c){var p=o.stateNode;if(p===null)return null;var v=p[un]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=!1;if(Ho)try{var zd={};Object.defineProperty(zd,"passive",{get:function(){Gp=!0}}),window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{Gp=!1}var lc=null,Vp=null,cc=null;function jp(){if(cc)return cc;var o,c=Vp,p=c.length,v,S="value"in lc?lc.value:lc.textContent,C=S.length;for(o=0;o<p&&c[o]===S[o];o++);var z=p-o;for(v=1;v<=z&&c[p-v]===S[C-v];v++);return cc=S.slice(o,1<v?1-v:void 0)}function su(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ld(){return!0}function wv(){return!1}function aa(o){function c(p,v,S,C,z){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=z,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(p=o[$],this[$]=p?p(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ld:wv,this.isPropagationStopped=wv,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),c}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pd=aa(uc),io=g({},uc,{view:0,detail:0}),$p=aa(io),Xp,Fd,rf,Hd=g({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==rf&&(rf&&o.type==="mousemove"?(Xp=o.screenX-rf.screenX,Fd=o.screenY-rf.screenY):Fd=Xp=0,rf=o),Xp)},movementY:function(o){return"movementY"in o?o.movementY:Fd}}),mx=aa(Hd),jr=g({},Hd,{dataTransfer:0}),gx=aa(jr),vx=g({},io,{relatedTarget:0}),Zp=aa(vx),_x=g({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),yx=aa(_x),kd=g({},uc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Rv=aa(kd),xx=g({},uc,{data:0}),Dv=aa(xx),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sx(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Uv[o])?!!c[o]:!1}function Gd(){return Sx}var Ov=g({},io,{key:function(o){if(o.key){var c=bx[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=su(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Bv[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(o){return o.type==="keypress"?su(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?su(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Nv=aa(Ov),Ax=g({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=aa(Ax),Ex=g({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),xl=aa(Ex),Iv=g({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),iM=aa(Iv),Mx=g({},Hd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fc=aa(Mx),bl=g({},uc,{newState:0,oldState:0}),zv=aa(bl),Lv=[9,13,27,32],ou=Ho&&"CompositionEvent"in window,dc=null;Ho&&"documentMode"in document&&(dc=document.documentMode);var lu=Ho&&"TextEvent"in window&&!dc,$r=Ho&&(!ou||dc&&8<dc&&11>=dc),Vd=" ",Pv=!1;function Jp(o,c){switch(o){case"keyup":return Lv.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var hc=!1;function qp(o,c){switch(o){case"compositionend":return af(c);case"keypress":return c.which!==32?null:(Pv=!0,Vd);case"textInput":return o=c.data,o===Vd&&Pv?null:o;default:return null}}function Tx(o,c){if(hc)return o==="compositionend"||!ou&&Jp(o,c)?(o=jp(),cc=Vp=lc=null,hc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return $r&&c.locale!=="ko"?null:c.data;default:return null}}var as={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!as[o.type]:c==="textarea"}function Wp(o,c,p,v){ru?oc?oc.push(v):oc=[v]:ru=v,c=v1(c,"onChange"),0<c.length&&(p=new Pd("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var sf=null,of=null;function Hv(o){f3(o,0)}function lf(o){var c=Ue(o);if(Po(c))return o}function kv(o,c){if(o==="change")return c}var jd=!1;if(Ho){var cu;if(Ho){var Ri="oninput"in document;if(!Ri){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),Ri=typeof Cx.oninput=="function"}cu=Ri}else cu=!1;jd=cu&&(!document.documentMode||9<document.documentMode)}function wx(){sf&&(sf.detachEvent("onpropertychange",Gv),of=sf=null)}function Gv(o){if(o.propertyName==="value"&&lf(of)){var c=[];Wp(c,of,o,Hp(o)),Cv(Hv,c)}}function $d(o,c,p){o==="focusin"?(wx(),sf=c,of=p,sf.attachEvent("onpropertychange",Gv)):o==="focusout"&&wx()}function pc(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lf(of)}function Rx(o,c){if(o==="click")return lf(c)}function Dx(o,c){if(o==="input"||o==="change")return lf(c)}function uu(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Di=typeof Object.is=="function"?Object.is:uu;function cf(o,c){if(Di(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!We.call(c,S)||!Di(o[S],c[S]))return!1}return!0}function Vv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function jv(o,c){var p=Vv(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Vv(p)}}function Kp(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Kp(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Qp(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=fr(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=fr(o.document)}return c}function uf(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Bx=Ho&&"documentMode"in document&&11>=document.documentMode,ff=null,em=null,df=null,ss=!1;function tm(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ss||ff==null||ff!==fr(v)||(v=ff,"selectionStart"in v&&uf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),df&&cf(df,v)||(df=v,v=v1(em,"onSelect"),0<v.length&&(c=new Pd("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=ff)))}function mc(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var hf={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionrun:mc("Transition","TransitionRun"),transitionstart:mc("Transition","TransitionStart"),transitioncancel:mc("Transition","TransitionCancel"),transitionend:mc("Transition","TransitionEnd")},Xd={},ba={};Ho&&(ba=document.createElement("div").style,"AnimationEvent"in window||(delete hf.animationend.animation,delete hf.animationiteration.animation,delete hf.animationstart.animation),"TransitionEvent"in window||delete hf.transitionend.transition);function gc(o){if(Xd[o])return Xd[o];if(!hf[o])return o;var c=hf[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in ba)return Xd[o]=c[p];return o}var Ua=gc("animationend"),$v=gc("animationiteration"),ko=gc("animationstart"),pf=gc("transitionrun"),vc=gc("transitionstart"),Xv=gc("transitioncancel"),nm=gc("transitionend"),Sl=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");im.push("scrollEnd");function sa(o,c){Sl.set(o,c),bt(c,[o])}var _c=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Rr=[],fu=0,rm=0;function yc(){for(var o=fu,c=rm=fu=0;c<o;){var p=Rr[c];Rr[c++]=null;var v=Rr[c];Rr[c++]=null;var S=Rr[c];Rr[c++]=null;var C=Rr[c];if(Rr[c++]=null,v!==null&&S!==null){var z=v.pending;z===null?S.next=S:(S.next=z.next,z.next=S),v.pending=S}C!==0&&am(p,S,C)}}function Zd(o,c,p,v){Rr[fu++]=o,Rr[fu++]=c,Rr[fu++]=p,Rr[fu++]=v,rm|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function mf(o,c,p,v){return Zd(o,c,p,v),gf(o)}function xc(o,c){return Zd(o,null,null,c),gf(o)}function am(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var S=!1,C=o.return;C!==null;)C.childLanes|=p,v=C.alternate,v!==null&&(v.childLanes|=p),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(S=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,S&&c!==null&&(S=31-se(p),o=C.hiddenUpdates,v=o[S],v===null?o[S]=[c]:v.push(c),c.lane=p|536870912),C):null}function gf(o){if(50<wu)throw wu=0,Ru=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var bc={};function Ux(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(o,c,p,v){return new Ux(o,c,p,v)}function Aa(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Go(o,c){var p=o.alternate;return p===null?(p=Sa(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function oa(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Yd(o,c,p,v,S,C){var z=0;if(v=o,typeof o=="function")Aa(o)&&(z=1);else if(typeof o=="string")z=C9(o,p,we.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case O:return o=Sa(31,p,c,S),o.elementType=O,o.lanes=C,o;case M:return Al(p.children,S,C,c);case T:z=8,S|=24;break;case A:return o=Sa(12,p,c,S|2),o.elementType=A,o.lanes=C,o;case I:return o=Sa(13,p,c,S),o.elementType=I,o.lanes=C,o;case L:return o=Sa(19,p,c,S),o.elementType=L,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:z=10;break e;case R:z=9;break e;case D:z=11;break e;case P:z=14;break e;case F:z=16,v=null;break e}z=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=Sa(z,p,c,S),c.elementType=o,c.type=v,c.lanes=C,c}function Al(o,c,p,v){return o=Sa(7,o,v,c),o.lanes=p,o}function sm(o,c,p){return o=Sa(6,o,null,c),o.lanes=p,o}function Ox(o){var c=Sa(18,null,null,0);return c.stateNode=o,c}function ro(o,c,p){return c=Sa(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Zv=new WeakMap;function Oa(o,c){if(typeof o=="object"&&o!==null){var p=Zv.get(o);return p!==void 0?p:(c={value:o,source:c,stack:lt(c)},Zv.set(o,c),c)}return{value:o,source:c,stack:lt(c)}}var ao=[],du=0,Jd=null,vf=0,os=[],Na=0,Vo=null,jo=1,$o="";function El(o,c){ao[du++]=vf,ao[du++]=Jd,Jd=o,vf=c}function Yv(o,c,p){os[Na++]=jo,os[Na++]=$o,os[Na++]=Vo,Vo=o;var v=jo;o=$o;var S=32-se(v)-1;v&=~(1<<S),p+=1;var C=32-se(c)+S;if(30<C){var z=S-S%5;C=(v&(1<<z)-1).toString(32),v>>=z,S-=z,jo=1<<32-se(c)+S|p<<S|v,$o=C+o}else jo=1<<C|p<<S|v,$o=o}function om(o){o.return!==null&&(El(o,1),Yv(o,1,0))}function Sc(o){for(;o===Jd;)Jd=ao[--du],ao[du]=null,vf=ao[--du],ao[du]=null;for(;o===Vo;)Vo=os[--Na],os[Na]=null,$o=os[--Na],os[Na]=null,jo=os[--Na],os[Na]=null}function qd(o,c){os[Na++]=jo,os[Na++]=$o,os[Na++]=Vo,jo=c.id,$o=c.overflow,Vo=o}var Dr=null,Ai=null,Ln=!1,Ml=null,Br=!1,lm=Error(r(519));function Bn(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wd(Oa(c,o)),lm}function cm(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[Ot]=o,c[un]=v,p){case"dialog":Pn("cancel",c),Pn("close",c);break;case"iframe":case"object":case"embed":Pn("load",c);break;case"video":case"audio":for(p=0;p<H0.length;p++)Pn(H0[p],c);break;case"source":Pn("error",c);break;case"img":case"image":case"link":Pn("error",c),Pn("load",c);break;case"details":Pn("toggle",c);break;case"input":Pn("invalid",c),ra(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Pn("invalid",c);break;case"textarea":Pn("invalid",c),xa(c,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||m3(c.textContent,p)?(v.popover!=null&&(Pn("beforetoggle",c),Pn("toggle",c)),v.onScroll!=null&&Pn("scroll",c),v.onScrollEnd!=null&&Pn("scrollend",c),v.onClick!=null&&(c.onclick=Fo),c=!0):c=!1,c||Bn(o,!0)}function Nx(o){for(Dr=o.return;Dr;)switch(Dr.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Dr=Dr.return}}function hu(o){if(o!==Dr)return!1;if(!Ln)return Nx(o),Ln=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||AM(o.type,o.memoizedProps)),p=!p),p&&Ai&&Bn(o),Nx(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ai=E3(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ai=E3(o)}else c===27?(c=Ai,zf(o.type)?(o=wM,wM=null,Ai=o):Ai=c):Ai=Dr?nl(o.stateNode.nextSibling):null;return!0}function pu(){Ai=Dr=null,Ln=!1}function Jv(){var o=Ml;return o!==null&&(ha===null?ha=o:ha.push.apply(ha,o),Ml=null),o}function Wd(o){Ml===null?Ml=[o]:Ml.push(o)}var qv=Z(null),Tl=null,la=null;function Cl(o,c,p){Be(qv,c._currentValue),c._currentValue=p}function Ps(o){o._currentValue=qv.current,he(qv)}function wl(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function um(o,c,p,v){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var C=S.dependencies;if(C!==null){var z=S.child;C=C.firstContext;e:for(;C!==null;){var $=C;C=S;for(var fe=0;fe<c.length;fe++)if($.context===c[fe]){C.lanes|=p,$=C.alternate,$!==null&&($.lanes|=p),wl(C.return,p,o),v||(z=null);break e}C=$.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(r(341));z.lanes|=p,C=z.alternate,C!==null&&(C.lanes|=p),wl(z,p,o),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===o){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function Ac(o,c,p,v){o=null;for(var S=c,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var $=S.type;Di(S.pendingProps.value,z.value)||(o!==null?o.push($):o=[$])}}else if(S===Ce.current){if(z=S.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push($0):o=[$0])}S=S.return}o!==null&&um(c,o,p,v),c.flags|=262144}function _f(o){for(o=o.firstContext;o!==null;){if(!Di(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function mu(o){Tl=o,la=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ur(o){return Wv(Tl,o)}function Kd(o,c){return Tl===null&&mu(o),Wv(o,c)}function Wv(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},la===null){if(o===null)throw Error(r(308));la=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else la=la.next=c;return p}var Ix=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},zx=i.unstable_scheduleCallback,Kv=i.unstable_NormalPriority,Xt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qv(){return{controller:new Ix,data:new Map,refCount:0}}function Xr(o){o.refCount--,o.refCount===0&&zx(Kv,function(){o.controller.abort()})}var gu=null,e0=0,Rl=0,so=null;function yf(o,c){if(gu===null){var p=gu=[];e0=0,Rl=pM(),so={status:"pending",value:void 0,then:function(v){p.push(v)}}}return e0++,c.then(t0,t0),c}function t0(){if(--e0===0&&gu!==null){so!==null&&(so.status="fulfilled");var o=gu;gu=null,Rl=0,so=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function n0(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var S=0;S<p.length;S++)(0,p[S])(c)},function(S){for(v.status="rejected",v.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),v}var Lx=V.S;V.S=function(o,c){Of=H(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&yf(o,c),Lx!==null&&Lx(o,c)};var Ec=Z(null);function Xo(){var o=Ec.current;return o!==null?o:si.pooledCache}function xf(o,c){c===null?Be(Ec,Ec.current):Be(Ec,c.pool)}function fm(){var o=Xo();return o===null?null:{parent:Xt._currentValue,pool:o}}var Mc=Error(r(460)),Qd=Error(r(474)),oo=Error(r(542)),eh={then:function(){}};function Px(o){return o=o.status,o==="fulfilled"||o==="rejected"}function i0(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Fo,Fo),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,r0(o),o;default:if(typeof c.status=="string")c.then(Fo,Fo);else{if(o=si,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=v}},function(v){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,r0(o),o}throw Jt=c,Mc}}function vu(o){try{var c=o._init;return c(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Jt=p,Mc):p}}var Jt=null;function dm(){if(Jt===null)throw Error(r(459));var o=Jt;return Jt=null,o}function r0(o){if(o===Mc||o===oo)throw Error(r(483))}var Tc=null,Cc=0;function hm(o){var c=Cc;return Cc+=1,Tc===null&&(Tc=[]),i0(Tc,o,c)}function th(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function nh(o,c){throw c.$$typeof===_?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function bf(o){function c(Se,me){if(o){var Re=Se.deletions;Re===null?(Se.deletions=[me],Se.flags|=16):Re.push(me)}}function p(Se,me){if(!o)return null;for(;me!==null;)c(Se,me),me=me.sibling;return null}function v(Se){for(var me=new Map;Se!==null;)Se.key!==null?me.set(Se.key,Se):me.set(Se.index,Se),Se=Se.sibling;return me}function S(Se,me){return Se=Go(Se,me),Se.index=0,Se.sibling=null,Se}function C(Se,me,Re){return Se.index=Re,o?(Re=Se.alternate,Re!==null?(Re=Re.index,Re<me?(Se.flags|=67108866,me):Re):(Se.flags|=67108866,me)):(Se.flags|=1048576,me)}function z(Se){return o&&Se.alternate===null&&(Se.flags|=67108866),Se}function $(Se,me,Re,Ye){return me===null||me.tag!==6?(me=sm(Re,Se.mode,Ye),me.return=Se,me):(me=S(me,Re),me.return=Se,me)}function fe(Se,me,Re,Ye){var Yt=Re.type;return Yt===M?Ve(Se,me,Re.props.children,Ye,Re.key):me!==null&&(me.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===F&&vu(Yt)===me.type)?(me=S(me,Re.props),th(me,Re),me.return=Se,me):(me=Yd(Re.type,Re.key,Re.props,null,Se.mode,Ye),th(me,Re),me.return=Se,me)}function De(Se,me,Re,Ye){return me===null||me.tag!==4||me.stateNode.containerInfo!==Re.containerInfo||me.stateNode.implementation!==Re.implementation?(me=ro(Re,Se.mode,Ye),me.return=Se,me):(me=S(me,Re.children||[]),me.return=Se,me)}function Ve(Se,me,Re,Ye,Yt){return me===null||me.tag!==7?(me=Al(Re,Se.mode,Ye,Yt),me.return=Se,me):(me=S(me,Re),me.return=Se,me)}function Qe(Se,me,Re){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=sm(""+me,Se.mode,Re),me.return=Se,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return Re=Yd(me.type,me.key,me.props,null,Se.mode,Re),th(Re,me),Re.return=Se,Re;case b:return me=ro(me,Se.mode,Re),me.return=Se,me;case F:return me=vu(me),Qe(Se,me,Re)}if(le(me)||X(me))return me=Al(me,Se.mode,Re,null),me.return=Se,me;if(typeof me.then=="function")return Qe(Se,hm(me),Re);if(me.$$typeof===B)return Qe(Se,Kd(Se,me),Re);nh(Se,me)}return null}function Ne(Se,me,Re,Ye){var Yt=me!==null?me.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Yt!==null?null:$(Se,me,""+Re,Ye);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case x:return Re.key===Yt?fe(Se,me,Re,Ye):null;case b:return Re.key===Yt?De(Se,me,Re,Ye):null;case F:return Re=vu(Re),Ne(Se,me,Re,Ye)}if(le(Re)||X(Re))return Yt!==null?null:Ve(Se,me,Re,Ye,null);if(typeof Re.then=="function")return Ne(Se,me,hm(Re),Ye);if(Re.$$typeof===B)return Ne(Se,me,Kd(Se,Re),Ye);nh(Se,Re)}return null}function Pe(Se,me,Re,Ye,Yt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Se=Se.get(Re)||null,$(me,Se,""+Ye,Yt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case x:return Se=Se.get(Ye.key===null?Re:Ye.key)||null,fe(me,Se,Ye,Yt);case b:return Se=Se.get(Ye.key===null?Re:Ye.key)||null,De(me,Se,Ye,Yt);case F:return Ye=vu(Ye),Pe(Se,me,Re,Ye,Yt)}if(le(Ye)||X(Ye))return Se=Se.get(Re)||null,Ve(me,Se,Ye,Yt,null);if(typeof Ye.then=="function")return Pe(Se,me,Re,hm(Ye),Yt);if(Ye.$$typeof===B)return Pe(Se,me,Re,Kd(me,Ye),Yt);nh(me,Ye)}return null}function It(Se,me,Re,Ye){for(var Yt=null,li=null,Gt=me,An=me=0,jn=null;Gt!==null&&An<Re.length;An++){Gt.index>An?(jn=Gt,Gt=null):jn=Gt.sibling;var ci=Ne(Se,Gt,Re[An],Ye);if(ci===null){Gt===null&&(Gt=jn);break}o&&Gt&&ci.alternate===null&&c(Se,Gt),me=C(ci,me,An),li===null?Yt=ci:li.sibling=ci,li=ci,Gt=jn}if(An===Re.length)return p(Se,Gt),Ln&&El(Se,An),Yt;if(Gt===null){for(;An<Re.length;An++)Gt=Qe(Se,Re[An],Ye),Gt!==null&&(me=C(Gt,me,An),li===null?Yt=Gt:li.sibling=Gt,li=Gt);return Ln&&El(Se,An),Yt}for(Gt=v(Gt);An<Re.length;An++)jn=Pe(Gt,Se,An,Re[An],Ye),jn!==null&&(o&&jn.alternate!==null&&Gt.delete(jn.key===null?An:jn.key),me=C(jn,me,An),li===null?Yt=jn:li.sibling=jn,li=jn);return o&&Gt.forEach(function(kf){return c(Se,kf)}),Ln&&El(Se,An),Yt}function en(Se,me,Re,Ye){if(Re==null)throw Error(r(151));for(var Yt=null,li=null,Gt=me,An=me=0,jn=null,ci=Re.next();Gt!==null&&!ci.done;An++,ci=Re.next()){Gt.index>An?(jn=Gt,Gt=null):jn=Gt.sibling;var kf=Ne(Se,Gt,ci.value,Ye);if(kf===null){Gt===null&&(Gt=jn);break}o&&Gt&&kf.alternate===null&&c(Se,Gt),me=C(kf,me,An),li===null?Yt=kf:li.sibling=kf,li=kf,Gt=jn}if(ci.done)return p(Se,Gt),Ln&&El(Se,An),Yt;if(Gt===null){for(;!ci.done;An++,ci=Re.next())ci=Qe(Se,ci.value,Ye),ci!==null&&(me=C(ci,me,An),li===null?Yt=ci:li.sibling=ci,li=ci);return Ln&&El(Se,An),Yt}for(Gt=v(Gt);!ci.done;An++,ci=Re.next())ci=Pe(Gt,Se,An,ci.value,Ye),ci!==null&&(o&&ci.alternate!==null&&Gt.delete(ci.key===null?An:ci.key),me=C(ci,me,An),li===null?Yt=ci:li.sibling=ci,li=ci);return o&&Gt.forEach(function(P9){return c(Se,P9)}),Ln&&El(Se,An),Yt}function Ti(Se,me,Re,Ye){if(typeof Re=="object"&&Re!==null&&Re.type===M&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case x:e:{for(var Yt=Re.key;me!==null;){if(me.key===Yt){if(Yt=Re.type,Yt===M){if(me.tag===7){p(Se,me.sibling),Ye=S(me,Re.props.children),Ye.return=Se,Se=Ye;break e}}else if(me.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===F&&vu(Yt)===me.type){p(Se,me.sibling),Ye=S(me,Re.props),th(Ye,Re),Ye.return=Se,Se=Ye;break e}p(Se,me);break}else c(Se,me);me=me.sibling}Re.type===M?(Ye=Al(Re.props.children,Se.mode,Ye,Re.key),Ye.return=Se,Se=Ye):(Ye=Yd(Re.type,Re.key,Re.props,null,Se.mode,Ye),th(Ye,Re),Ye.return=Se,Se=Ye)}return z(Se);case b:e:{for(Yt=Re.key;me!==null;){if(me.key===Yt)if(me.tag===4&&me.stateNode.containerInfo===Re.containerInfo&&me.stateNode.implementation===Re.implementation){p(Se,me.sibling),Ye=S(me,Re.children||[]),Ye.return=Se,Se=Ye;break e}else{p(Se,me);break}else c(Se,me);me=me.sibling}Ye=ro(Re,Se.mode,Ye),Ye.return=Se,Se=Ye}return z(Se);case F:return Re=vu(Re),Ti(Se,me,Re,Ye)}if(le(Re))return It(Se,me,Re,Ye);if(X(Re)){if(Yt=X(Re),typeof Yt!="function")throw Error(r(150));return Re=Yt.call(Re),en(Se,me,Re,Ye)}if(typeof Re.then=="function")return Ti(Se,me,hm(Re),Ye);if(Re.$$typeof===B)return Ti(Se,me,Kd(Se,Re),Ye);nh(Se,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,me!==null&&me.tag===6?(p(Se,me.sibling),Ye=S(me,Re),Ye.return=Se,Se=Ye):(p(Se,me),Ye=sm(Re,Se.mode,Ye),Ye.return=Se,Se=Ye),z(Se)):p(Se,me)}return function(Se,me,Re,Ye){try{Cc=0;var Yt=Ti(Se,me,Re,Ye);return Tc=null,Yt}catch(Gt){if(Gt===Mc||Gt===oo)throw Gt;var li=Sa(29,Gt,null,Se.mode);return li.lanes=Ye,li.return=Se,li}}}var _u=bf(!0),Fx=bf(!1),wc=!1;function a0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function s0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Zo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Dl(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Gn&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,c=gf(o),am(o,null,p),c}return Zd(o,v,c,p),gf(o)}function Rc(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,$t(o,p)}}function pm(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var z={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?S=C=z:C=C.next=z,p=p.next}while(p!==null);C===null?S=C=c:C=C.next=c}else S=C=c;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var o0=!1;function ih(){if(o0){var o=so;if(o!==null)throw o}}function yu(o,c,p,v){o0=!1;var S=o.updateQueue;wc=!1;var C=S.firstBaseUpdate,z=S.lastBaseUpdate,$=S.shared.pending;if($!==null){S.shared.pending=null;var fe=$,De=fe.next;fe.next=null,z===null?C=De:z.next=De,z=fe;var Ve=o.alternate;Ve!==null&&(Ve=Ve.updateQueue,$=Ve.lastBaseUpdate,$!==z&&($===null?Ve.firstBaseUpdate=De:$.next=De,Ve.lastBaseUpdate=fe))}if(C!==null){var Qe=S.baseState;z=0,Ve=De=fe=null,$=C;do{var Ne=$.lane&-536870913,Pe=Ne!==$.lane;if(Pe?(Un&Ne)===Ne:(v&Ne)===Ne){Ne!==0&&Ne===Rl&&(o0=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var It=o,en=$;Ne=c;var Ti=p;switch(en.tag){case 1:if(It=en.payload,typeof It=="function"){Qe=It.call(Ti,Qe,Ne);break e}Qe=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=en.payload,Ne=typeof It=="function"?It.call(Ti,Qe,Ne):It,Ne==null)break e;Qe=g({},Qe,Ne);break e;case 2:wc=!0}}Ne=$.callback,Ne!==null&&(o.flags|=64,Pe&&(o.flags|=8192),Pe=S.callbacks,Pe===null?S.callbacks=[Ne]:Pe.push(Ne))}else Pe={lane:Ne,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ve===null?(De=Ve=Pe,fe=Qe):Ve=Ve.next=Pe,z|=Ne;if($=$.next,$===null){if($=S.shared.pending,$===null)break;Pe=$,$=Pe.next,Pe.next=null,S.lastBaseUpdate=Pe,S.shared.pending=null}}while(!0);Ve===null&&(fe=Qe),S.baseState=fe,S.firstBaseUpdate=De,S.lastBaseUpdate=Ve,C===null&&(S.shared.lanes=0),_s|=z,o.lanes=z,o.memoizedState=Qe}}function Yo(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function Zr(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Yo(p[o],c)}var ls=Z(null),Ea=Z(0);function l0(o,c){o=rr,Be(Ea,o),Be(ls,c),rr=o|c.baseLanes}function c0(){Be(Ea,rr),Be(ls,ls.current)}function ca(){rr=Ea.current,he(ls),he(Ea)}var xr=Z(null),Fs=null;function Dc(o){var c=o.alternate;Be(Gi,Gi.current&1),Be(xr,o),Fs===null&&(c===null||ls.current!==null||c.memoizedState!==null)&&(Fs=o)}function u0(o){Be(Gi,Gi.current),Be(xr,o),Fs===null&&(Fs=o)}function Hx(o){o.tag===22?(Be(Gi,Gi.current),Be(xr,o),Fs===null&&(Fs=o)):Bl()}function Bl(){Be(Gi,Gi.current),Be(xr,xr.current)}function cs(o){he(xr),Fs===o&&(Fs=null),he(Gi)}var Gi=Z(0);function mm(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||TM(p)||CM(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ia=0,tn=null,mi=null,hr=null,gm=!1,Jo=!1,xu=!1,vm=0,rh=0,qo=null,rM=0;function Vi(){throw Error(r(321))}function f0(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Di(o[p],c[p]))return!1;return!0}function d0(o,c,p,v,S,C){return Ia=C,tn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=o===null||o.memoizedState===null?s1:Ef,xu=!1,C=p(v,S),xu=!1,Jo&&(C=Gx(c,p,v,S)),kx(o),C}function kx(o){V.H=ch;var c=mi!==null&&mi.next!==null;if(Ia=0,hr=mi=tn=null,gm=!1,rh=0,qo=null,c)throw Error(r(300));o===null||Bi||(o=o.dependencies,o!==null&&_f(o)&&(Bi=!0))}function Gx(o,c,p,v){tn=o;var S=0;do{if(Jo&&(qo=null),rh=0,Jo=!1,25<=S)throw Error(r(301));if(S+=1,hr=mi=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}V.H=uh,C=c(p,v)}while(Jo);return C}function aM(){var o=V.H,c=o.useState()[0];return c=typeof c.then=="function"?sh(c):c,o=o.useState()[0],(mi!==null?mi.memoizedState:null)!==o&&(tn.flags|=1024),c}function h0(){var o=vm!==0;return vm=0,o}function p0(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function m0(o){if(gm){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}gm=!1}Ia=0,hr=mi=tn=null,Jo=!1,rh=vm=0,qo=null}function Ma(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?tn.memoizedState=hr=o:hr=hr.next=o,hr}function er(){if(mi===null){var o=tn.alternate;o=o!==null?o.memoizedState:null}else o=mi.next;var c=hr===null?tn.memoizedState:hr.next;if(c!==null)hr=c,mi=o;else{if(o===null)throw tn.alternate===null?Error(r(467)):Error(r(310));mi=o,o={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},hr===null?tn.memoizedState=hr=o:hr=hr.next=o}return hr}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sh(o){var c=rh;return rh+=1,qo===null&&(qo=[]),o=i0(qo,o,c),c=tn,(hr===null?c.memoizedState:hr.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?s1:Ef),o}function _m(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return sh(o);if(o.$$typeof===B)return Ur(o)}throw Error(r(438,String(o)))}function g0(o){var c=null,p=tn.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=tn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=ah(),tn.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=U;return c.index++,p}function Ul(o,c){return typeof c=="function"?c(o):c}function ym(o){var c=er();return v0(c,mi,o)}function v0(o,c,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var S=o.baseQueue,C=v.pending;if(C!==null){if(S!==null){var z=S.next;S.next=C.next,C.next=z}c.baseQueue=S=C,v.pending=null}if(C=o.baseState,S===null)o.memoizedState=C;else{c=S.next;var $=z=null,fe=null,De=c,Ve=!1;do{var Qe=De.lane&-536870913;if(Qe!==De.lane?(Un&Qe)===Qe:(Ia&Qe)===Qe){var Ne=De.revertLane;if(Ne===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Qe===Rl&&(Ve=!0);else if((Ia&Ne)===Ne){De=De.next,Ne===Rl&&(Ve=!0);continue}else Qe={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?($=fe=Qe,z=C):fe=fe.next=Qe,tn.lanes|=Ne,_s|=Ne;Qe=De.action,xu&&p(C,Qe),C=De.hasEagerState?De.eagerState:p(C,Qe)}else Ne={lane:Qe,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?($=fe=Ne,z=C):fe=fe.next=Ne,tn.lanes|=Qe,_s|=Qe;De=De.next}while(De!==null&&De!==c);if(fe===null?z=C:fe.next=$,!Di(C,o.memoizedState)&&(Bi=!0,Ve&&(p=so,p!==null)))throw p;o.memoizedState=C,o.baseState=z,o.baseQueue=fe,v.lastRenderedState=C}return S===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function xm(o){var c=er(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,S=p.pending,C=c.memoizedState;if(S!==null){p.pending=null;var z=S=S.next;do C=o(C,z.action),z=z.next;while(z!==S);Di(C,c.memoizedState)||(Bi=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),p.lastRenderedState=C}return[C,v]}function _0(o,c,p){var v=tn,S=er(),C=Ln;if(C){if(p===void 0)throw Error(r(407));p=p()}else p=c();var z=!Di((mi||S).memoizedState,p);if(z&&(S.memoizedState=p,Bi=!0),S=S.queue,A0(x0.bind(null,v,S,o),[o]),S.getSnapshot!==c||z||hr!==null&&hr.memoizedState.tag&1){if(v.flags|=2048,Sf(9,{destroy:void 0},y0.bind(null,v,S,p,c),null),si===null)throw Error(r(349));C||(Ia&127)!==0||Vx(v,c,p)}return p}function Vx(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=tn.updateQueue,c===null?(c=ah(),tn.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function y0(o,c,p,v){c.value=p,c.getSnapshot=v,b0(c)&&bm(o)}function x0(o,c,p){return p(function(){b0(c)&&bm(o)})}function b0(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Di(o,p)}catch{return!0}}function bm(o){var c=xc(o,2);c!==null&&h(c,o,2)}function oh(o){var c=Ma();if(typeof o=="function"){var p=o;if(o=p(),xu){St(!0);try{p()}finally{St(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:o},c}function jx(o,c,p,v){return o.baseState=p,v0(o,mi,typeof v=="function"?v:Ul)}function sM(o,c,p,v,S){if(Ol(o))throw Error(r(485));if(o=c.action,o!==null){var C={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){C.listeners.push(z)}};V.T!==null?p(!0):C.isTransition=!1,v(C),p=c.pending,p===null?(C.next=c.pending=C,$x(c,C)):(C.next=p.next,c.pending=p.next=C)}}function $x(o,c){var p=c.action,v=c.payload,S=o.state;if(c.isTransition){var C=V.T,z={};V.T=z;try{var $=p(S,v),fe=V.S;fe!==null&&fe(z,$),Xx(o,c,$)}catch(De){Sm(o,c,De)}finally{C!==null&&z.types!==null&&(C.types=z.types),V.T=C}}else try{C=p(S,v),Xx(o,c,C)}catch(De){Sm(o,c,De)}}function Xx(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){S0(o,c,v)},function(v){return Sm(o,c,v)}):S0(o,c,p)}function S0(o,c,p){c.status="fulfilled",c.value=p,Zx(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,$x(o,p)))}function Sm(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,Zx(c),c=c.next;while(c!==v)}o.action=null}function Zx(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Yx(o,c){return c}function Jx(o,c){if(Ln){var p=si.formState;if(p!==null){e:{var v=tn;if(Ln){if(Ai){t:{for(var S=Ai,C=Br;S.nodeType!==8;){if(!C){S=null;break t}if(S=nl(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){Ai=nl(S.nextSibling),v=S.data==="F!";break e}}Bn(v)}v=!1}v&&(c=p[0])}}return p=Ma(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yx,lastRenderedState:c},p.queue=v,p=a1.bind(null,tn,v),v.dispatch=p,v=oh(!1),C=lh.bind(null,tn,!1,v.queue),v=Ma(),S={state:c,dispatch:null,action:o,pending:null},v.queue=S,p=sM.bind(null,tn,S,C,p),S.dispatch=p,v.memoizedState=o,[c,p,!1]}function qx(o){var c=er();return Wx(c,mi,o)}function Wx(o,c,p){if(c=v0(o,c,Yx)[0],o=ym(Ul)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=sh(c)}catch(z){throw z===Mc?oo:z}else v=c;c=er();var S=c.queue,C=S.dispatch;return p!==c.memoizedState&&(tn.flags|=2048,Sf(9,{destroy:void 0},oM.bind(null,S,p),null)),[v,C,o]}function oM(o,c){o.action=c}function Kx(o){var c=er(),p=mi;if(p!==null)return Wx(c,p,o);er(),c=c.memoizedState,p=er();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function Sf(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=tn.updateQueue,c===null&&(c=ah(),tn.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function Qx(){return er().memoizedState}function Am(o,c,p,v){var S=Ma();tn.flags|=o,S.memoizedState=Sf(1|c,{destroy:void 0},p,v===void 0?null:v)}function Em(o,c,p,v){var S=er();v=v===void 0?null:v;var C=S.memoizedState.inst;mi!==null&&v!==null&&f0(v,mi.memoizedState.deps)?S.memoizedState=Sf(c,C,p,v):(tn.flags|=o,S.memoizedState=Sf(1|c,C,p,v))}function e1(o,c){Am(8390656,8,o,c)}function A0(o,c){Em(2048,8,o,c)}function t1(o){tn.flags|=4;var c=tn.updateQueue;if(c===null)c=ah(),tn.updateQueue=c,c.events=[o];else{var p=c.events;p===null?c.events=[o]:p.push(o)}}function n1(o){var c=er().memoizedState;return t1({ref:c,nextImpl:o}),function(){if((Gn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function i1(o,c){return Em(4,2,o,c)}function us(o,c){return Em(4,4,o,c)}function E0(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Mm(o,c,p){p=p!=null?p.concat([o]):null,Em(4,4,E0.bind(null,c,o),p)}function Tm(){}function M0(o,c){var p=er();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&f0(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function T0(o,c){var p=er();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&f0(c,v[1]))return v[0];if(v=o(),xu){St(!0);try{o()}finally{St(!1)}}return p.memoizedState=[v,c],v}function C0(o,c,p){return p===void 0||(Ia&1073741824)!==0&&(Un&261930)===0?o.memoizedState=c:(o.memoizedState=p,o=u(),tn.lanes|=o,_s|=o,p)}function w0(o,c,p,v){return Di(p,c)?p:ls.current!==null?(o=C0(o,p,v),Di(o,c)||(Bi=!0),o):(Ia&42)===0||(Ia&1073741824)!==0&&(Un&261930)===0?(Bi=!0,o.memoizedState=p):(o=u(),tn.lanes|=o,_s|=o,c)}function R0(o,c,p,v,S){var C=q.p;q.p=C!==0&&8>C?C:8;var z=V.T,$={};V.T=$,lh(o,!1,c,p);try{var fe=S(),De=V.S;if(De!==null&&De($,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ve=n0(fe,v);Af(o,c,Ve,Ca(o))}else Af(o,c,v,Ca(o))}catch(Qe){Af(o,c,{then:function(){},status:"rejected",reason:Qe},Ca())}finally{q.p=C,z!==null&&$.types!==null&&(z.types=$.types),V.T=z}}function lM(){}function D0(o,c,p,v){if(o.tag!==5)throw Error(r(476));var S=r1(o).queue;R0(o,S,c,ee,p===null?lM:function(){return B0(o),p(v)})}function r1(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:ee},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function B0(o){var c=r1(o);c.next===null&&(c=o.alternate.memoizedState),Af(o,c.next.queue,{},Ca())}function U0(){return Ur($0)}function Yr(){return er().memoizedState}function O0(){return er().memoizedState}function cM(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Ca();o=Zo(p);var v=Dl(c,o,p);v!==null&&(h(v,c,p),Rc(v,c,p)),c={cache:Qv()},o.payload=c;return}c=c.return}}function uM(o,c,p){var v=Ca();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Ol(o)?bu(c,p):(p=mf(o,c,p,v),p!==null&&(h(p,o,v),za(p,c,v)))}function a1(o,c,p){var v=Ca();Af(o,c,p,v)}function Af(o,c,p,v){var S={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ol(o))bu(c,S);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var z=c.lastRenderedState,$=C(z,p);if(S.hasEagerState=!0,S.eagerState=$,Di($,z))return Zd(o,c,S,0),si===null&&yc(),!1}catch{}if(p=mf(o,c,S,v),p!==null)return h(p,o,v),za(p,c,v),!0}return!1}function lh(o,c,p,v){if(v={lane:2,revertLane:pM(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Ol(o)){if(c)throw Error(r(479))}else c=mf(o,p,v,2),c!==null&&h(c,o,2)}function Ol(o){var c=o.alternate;return o===tn||c!==null&&c===tn}function bu(o,c){Jo=gm=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function za(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,$t(o,p)}}var ch={readContext:Ur,use:_m,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useLayoutEffect:Vi,useInsertionEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useSyncExternalStore:Vi,useId:Vi,useHostTransitionStatus:Vi,useFormState:Vi,useActionState:Vi,useOptimistic:Vi,useMemoCache:Vi,useCacheRefresh:Vi};ch.useEffectEvent=Vi;var s1={readContext:Ur,use:_m,useCallback:function(o,c){return Ma().memoizedState=[o,c===void 0?null:c],o},useContext:Ur,useEffect:e1,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Am(4194308,4,E0.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Am(4194308,4,o,c)},useInsertionEffect:function(o,c){Am(4,2,o,c)},useMemo:function(o,c){var p=Ma();c=c===void 0?null:c;var v=o();if(xu){St(!0);try{o()}finally{St(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=Ma();if(p!==void 0){var S=p(c);if(xu){St(!0);try{p(c)}finally{St(!1)}}}else S=c;return v.memoizedState=v.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},v.queue=o,o=o.dispatch=uM.bind(null,tn,o),[v.memoizedState,o]},useRef:function(o){var c=Ma();return o={current:o},c.memoizedState=o},useState:function(o){o=oh(o);var c=o.queue,p=a1.bind(null,tn,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Tm,useDeferredValue:function(o,c){var p=Ma();return C0(p,o,c)},useTransition:function(){var o=oh(!1);return o=R0.bind(null,tn,o.queue,!0,!1),Ma().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=tn,S=Ma();if(Ln){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),si===null)throw Error(r(349));(Un&127)!==0||Vx(v,c,p)}S.memoizedState=p;var C={value:p,getSnapshot:c};return S.queue=C,e1(x0.bind(null,v,C,o),[o]),v.flags|=2048,Sf(9,{destroy:void 0},y0.bind(null,v,C,p,c),null),p},useId:function(){var o=Ma(),c=si.identifierPrefix;if(Ln){var p=$o,v=jo;p=(v&~(1<<32-se(v)-1)).toString(32)+p,c="_"+c+"R_"+p,p=vm++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=rM++,c="_"+c+"r_"+p.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:U0,useFormState:Jx,useActionState:Jx,useOptimistic:function(o){var c=Ma();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=lh.bind(null,tn,!0,p),p.dispatch=c,[o,c]},useMemoCache:g0,useCacheRefresh:function(){return Ma().memoizedState=cM.bind(null,tn)},useEffectEvent:function(o){var c=Ma(),p={impl:o};return c.memoizedState=p,function(){if((Gn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},Ef={readContext:Ur,use:_m,useCallback:M0,useContext:Ur,useEffect:A0,useImperativeHandle:Mm,useInsertionEffect:i1,useLayoutEffect:us,useMemo:T0,useReducer:ym,useRef:Qx,useState:function(){return ym(Ul)},useDebugValue:Tm,useDeferredValue:function(o,c){var p=er();return w0(p,mi.memoizedState,o,c)},useTransition:function(){var o=ym(Ul)[0],c=er().memoizedState;return[typeof o=="boolean"?o:sh(o),c]},useSyncExternalStore:_0,useId:Yr,useHostTransitionStatus:U0,useFormState:qx,useActionState:qx,useOptimistic:function(o,c){var p=er();return jx(p,mi,o,c)},useMemoCache:g0,useCacheRefresh:O0};Ef.useEffectEvent=n1;var uh={readContext:Ur,use:_m,useCallback:M0,useContext:Ur,useEffect:A0,useImperativeHandle:Mm,useInsertionEffect:i1,useLayoutEffect:us,useMemo:T0,useReducer:xm,useRef:Qx,useState:function(){return xm(Ul)},useDebugValue:Tm,useDeferredValue:function(o,c){var p=er();return mi===null?C0(p,o,c):w0(p,mi.memoizedState,o,c)},useTransition:function(){var o=xm(Ul)[0],c=er().memoizedState;return[typeof o=="boolean"?o:sh(o),c]},useSyncExternalStore:_0,useId:Yr,useHostTransitionStatus:U0,useFormState:Kx,useActionState:Kx,useOptimistic:function(o,c){var p=er();return mi!==null?jx(p,mi,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:g0,useCacheRefresh:O0};uh.useEffectEvent=n1;function Mf(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:g({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var fh={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=Ca(),S=Zo(v);S.payload=c,p!=null&&(S.callback=p),c=Dl(o,S,v),c!==null&&(h(c,o,v),Rc(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=Ca(),S=Zo(v);S.tag=1,S.payload=c,p!=null&&(S.callback=p),c=Dl(o,S,v),c!==null&&(h(c,o,v),Rc(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Ca(),v=Zo(p);v.tag=2,c!=null&&(v.callback=c),c=Dl(o,v,p),c!==null&&(h(c,o,p),Rc(c,o,p))}};function o1(o,c,p,v,S,C,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,C,z):c.prototype&&c.prototype.isPureReactComponent?!cf(p,v)||!cf(S,C):!0}function l1(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&fh.enqueueReplaceState(c,c.state,null)}function Jr(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=g({},p));for(var S in o)p[S]===void 0&&(p[S]=o[S])}return p}function N0(o){_c(o)}function c1(o){console.error(o)}function Cm(o){_c(o)}function wm(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function u1(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function I0(o,c,p){return p=Zo(p),p.tag=3,p.payload={element:null},p.callback=function(){wm(o,c)},p}function Tf(o){return o=Zo(o),o.tag=3,o}function La(o,c,p,v){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var C=v.value;o.payload=function(){return S(C)},o.callback=function(){u1(c,p,v)}}var z=p.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){u1(c,p,v),typeof S!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var $=v.stack;this.componentDidCatch(v.value,{componentStack:$!==null?$:""})})}function fs(o,c,p,v,S){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&Ac(c,p,S,!0),p=xr.current,p!==null){switch(p.tag){case 31:case 13:return Fs===null?cn():p.alternate===null&&oi===0&&(oi=3),p.flags&=-257,p.flags|=65536,p.lanes=S,v===eh?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),fM(o,v,S)),!1;case 22:return p.flags|=65536,v===eh?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),fM(o,v,S)),!1}throw Error(r(435,p.tag))}return fM(o,v,S),cn(),!1}if(Ln)return c=xr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,v!==lm&&(o=Error(r(422),{cause:v}),Wd(Oa(o,p)))):(v!==lm&&(c=Error(r(423),{cause:v}),Wd(Oa(c,p))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,v=Oa(v,p),S=I0(o.stateNode,v,S),pm(o,S),oi!==4&&(oi=2)),!1;var C=Error(r(520),{cause:v});if(C=Oa(C,p),ho===null?ho=[C]:ho.push(C),oi!==4&&(oi=2),c===null)return!0;v=Oa(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=S&-S,p.lanes|=o,o=I0(p.stateNode,v,o),pm(p,o),!1;case 1:if(c=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(tl===null||!tl.has(C))))return p.flags|=65536,S&=-S,p.lanes|=S,S=Tf(S),La(S,o,p,v),pm(p,S),!1}p=p.return}while(p!==null);return!1}var Rm=Error(r(461)),Bi=!1;function ji(o,c,p,v){c.child=o===null?Fx(c,null,p,v):_u(c,o.child,p,v)}function dh(o,c,p,v,S){p=p.render;var C=c.ref;if("ref"in v){var z={};for(var $ in v)$!=="ref"&&(z[$]=v[$])}else z=v;return mu(c),v=d0(o,c,p,z,C,S),$=h0(),o!==null&&!Bi?(p0(o,c,S),uo(o,c,S)):(Ln&&$&&om(c),c.flags|=1,ji(o,c,v,S),c.child)}function hh(o,c,p,v,S){if(o===null){var C=p.type;return typeof C=="function"&&!Aa(C)&&C.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=C,ds(o,c,C,v,S)):(o=Yd(p.type,null,v,c,c.mode,S),o.ref=c.ref,o.return=c,c.child=o)}if(C=o.child,!Uc(o,S)){var z=C.memoizedProps;if(p=p.compare,p=p!==null?p:cf,p(z,v)&&o.ref===c.ref)return uo(o,c,S)}return c.flags|=1,o=Go(C,v),o.ref=c.ref,o.return=c,c.child=o}function ds(o,c,p,v,S){if(o!==null){var C=o.memoizedProps;if(cf(C,v)&&o.ref===c.ref)if(Bi=!1,c.pendingProps=v=C,Uc(o,S))(o.flags&131072)!==0&&(Bi=!0);else return c.lanes=o.lanes,uo(o,c,S)}return Cf(o,c,p,v,S)}function hs(o,c,p,v){var S=v.children,C=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,o!==null){for(v=c.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~C}else v=0,c.child=null;return Wo(o,c,C,p,v)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&xf(c,C!==null?C.cachePool:null),C!==null?l0(c,C):c0(),Hx(c);else return v=c.lanes=536870912,Wo(o,c,C!==null?C.baseLanes|p:p,p,v)}else C!==null?(xf(c,C.cachePool),l0(c,C),Bl(),c.memoizedState=null):(o!==null&&xf(c,null),c0(),Bl());return ji(o,c,S,p),c.child}function lo(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Wo(o,c,p,v,S){var C=Xo();return C=C===null?null:{parent:Xt._currentValue,pool:C},c.memoizedState={baseLanes:p,cachePool:C},o!==null&&xf(c,null),c0(),Hx(c),o!==null&&Ac(o,c,v,!0),c.childLanes=S,null}function Hs(o,c){return c=wf({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function Or(o,c,p){return _u(c,o.child,null,p),o=Hs(c,c.pendingProps),o.flags|=2,cs(c),c.memoizedState=null,o}function ph(o,c,p){var v=c.pendingProps,S=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Ln){if(v.mode==="hidden")return o=Hs(c,v),c.lanes=536870912,lo(null,o);if(u0(c),(o=Ai)?(o=A3(o,Br),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Vo!==null?{id:jo,overflow:$o}:null,retryLane:536870912,hydrationErrors:null},p=Ox(o),p.return=c,c.child=p,Dr=c,Ai=null)):o=null,o===null)throw Bn(c);return c.lanes=536870912,null}return Hs(c,v)}var C=o.memoizedState;if(C!==null){var z=C.dehydrated;if(u0(c),S)if(c.flags&256)c.flags&=-257,c=Or(o,c,p);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Bi||Ac(o,c,p,!1),S=(p&o.childLanes)!==0,Bi||S){if(v=si,v!==null&&(z=Ft(v,p),z!==0&&z!==C.retryLane))throw C.retryLane=z,xc(o,z),h(v,o,z),Rm;cn(),c=Or(o,c,p)}else o=C.treeContext,Ai=nl(z.nextSibling),Dr=c,Ln=!0,Ml=null,Br=!1,o!==null&&qd(c,o),c=Hs(c,v),c.flags|=4096;return c}return o=Go(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function co(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function Cf(o,c,p,v,S){return mu(c),p=d0(o,c,p,v,void 0,S),v=h0(),o!==null&&!Bi?(p0(o,c,S),uo(o,c,S)):(Ln&&v&&om(c),c.flags|=1,ji(o,c,p,S),c.child)}function ua(o,c,p,v,S,C){return mu(c),c.updateQueue=null,p=Gx(c,v,p,S),kx(o),v=h0(),o!==null&&!Bi?(p0(o,c,C),uo(o,c,C)):(Ln&&v&&om(c),c.flags|=1,ji(o,c,p,C),c.child)}function qr(o,c,p,v,S){if(mu(c),c.stateNode===null){var C=bc,z=p.contextType;typeof z=="object"&&z!==null&&(C=Ur(z)),C=new p(v,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=fh,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=v,C.state=c.memoizedState,C.refs={},a0(c),z=p.contextType,C.context=typeof z=="object"&&z!==null?Ur(z):bc,C.state=c.memoizedState,z=p.getDerivedStateFromProps,typeof z=="function"&&(Mf(c,p,z,v),C.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(z=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),z!==C.state&&fh.enqueueReplaceState(C,C.state,null),yu(c,v,C,S),ih(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){C=c.stateNode;var $=c.memoizedProps,fe=Jr(p,$);C.props=fe;var De=C.context,Ve=p.contextType;z=bc,typeof Ve=="object"&&Ve!==null&&(z=Ur(Ve));var Qe=p.getDerivedStateFromProps;Ve=typeof Qe=="function"||typeof C.getSnapshotBeforeUpdate=="function",$=c.pendingProps!==$,Ve||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||($||De!==z)&&l1(c,C,v,z),wc=!1;var Ne=c.memoizedState;C.state=Ne,yu(c,v,C,S),ih(),De=c.memoizedState,$||Ne!==De||wc?(typeof Qe=="function"&&(Mf(c,p,Qe,v),De=c.memoizedState),(fe=wc||o1(c,p,fe,v,Ne,De,z))?(Ve||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=De),C.props=v,C.state=De,C.context=z,v=fe):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{C=c.stateNode,s0(o,c),z=c.memoizedProps,Ve=Jr(p,z),C.props=Ve,Qe=c.pendingProps,Ne=C.context,De=p.contextType,fe=bc,typeof De=="object"&&De!==null&&(fe=Ur(De)),$=p.getDerivedStateFromProps,(De=typeof $=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==Qe||Ne!==fe)&&l1(c,C,v,fe),wc=!1,Ne=c.memoizedState,C.state=Ne,yu(c,v,C,S),ih();var Pe=c.memoizedState;z!==Qe||Ne!==Pe||wc||o!==null&&o.dependencies!==null&&_f(o.dependencies)?(typeof $=="function"&&(Mf(c,p,$,v),Pe=c.memoizedState),(Ve=wc||o1(c,p,Ve,v,Ne,Pe,fe)||o!==null&&o.dependencies!==null&&_f(o.dependencies))?(De||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Pe,fe),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Pe,fe)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Pe),C.props=v,C.state=Pe,C.context=fe,v=Ve):(typeof C.componentDidUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=1024),v=!1)}return C=v,co(o,c),v=(c.flags&128)!==0,C||v?(C=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,o!==null&&v?(c.child=_u(c,o.child,null,S),c.child=_u(c,null,p,S)):ji(o,c,p,S),c.memoizedState=C.state,o=c.child):o=uo(o,c,S),o}function Xn(o,c,p,v){return pu(),c.flags|=256,ji(o,c,p,v),c.child}var ps={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ks(o){return{baseLanes:o,cachePool:fm()}}function mh(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Vn),o}function ms(o,c,p){var v=c.pendingProps,S=!1,C=(c.flags&128)!==0,z;if((z=C)||(z=o!==null&&o.memoizedState===null?!1:(Gi.current&2)!==0),z&&(S=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Ln){if(S?Dc(c):Bl(),(o=Ai)?(o=A3(o,Br),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Vo!==null?{id:jo,overflow:$o}:null,retryLane:536870912,hydrationErrors:null},p=Ox(o),p.return=c,c.child=p,Dr=c,Ai=null)):o=null,o===null)throw Bn(c);return CM(o)?c.lanes=32:c.lanes=536870912,null}var $=v.children;return v=v.fallback,S?(Bl(),S=c.mode,$=wf({mode:"hidden",children:$},S),v=Al(v,S,p,null),$.return=c,v.return=c,$.sibling=v,c.child=$,v=c.child,v.memoizedState=ks(p),v.childLanes=mh(o,z,p),c.memoizedState=ps,lo(null,v)):(Dc(c),Bc(c,$))}var fe=o.memoizedState;if(fe!==null&&($=fe.dehydrated,$!==null)){if(C)c.flags&256?(Dc(c),c.flags&=-257,c=Rf(o,c,p)):c.memoizedState!==null?(Bl(),c.child=o.child,c.flags|=128,c=null):(Bl(),$=v.fallback,S=c.mode,v=wf({mode:"visible",children:v.children},S),$=Al($,S,p,null),$.flags|=2,v.return=c,$.return=c,v.sibling=$,c.child=v,_u(c,o.child,null,p),v=c.child,v.memoizedState=ks(p),v.childLanes=mh(o,z,p),c.memoizedState=ps,c=lo(null,v));else if(Dc(c),CM($)){if(z=$.nextSibling&&$.nextSibling.dataset,z)var De=z.dgst;z=De,v=Error(r(419)),v.stack="",v.digest=z,Wd({value:v,source:null,stack:null}),c=Rf(o,c,p)}else if(Bi||Ac(o,c,p,!1),z=(p&o.childLanes)!==0,Bi||z){if(z=si,z!==null&&(v=Ft(z,p),v!==0&&v!==fe.retryLane))throw fe.retryLane=v,xc(o,v),h(z,o,v),Rm;TM($)||cn(),c=Rf(o,c,p)}else TM($)?(c.flags|=192,c.child=o.child,c=null):(o=fe.treeContext,Ai=nl($.nextSibling),Dr=c,Ln=!0,Ml=null,Br=!1,o!==null&&qd(c,o),c=Bc(c,v.children),c.flags|=4096);return c}return S?(Bl(),$=v.fallback,S=c.mode,fe=o.child,De=fe.sibling,v=Go(fe,{mode:"hidden",children:v.children}),v.subtreeFlags=fe.subtreeFlags&65011712,De!==null?$=Go(De,$):($=Al($,S,p,null),$.flags|=2),$.return=c,v.return=c,v.sibling=$,c.child=v,lo(null,v),v=c.child,$=o.child.memoizedState,$===null?$=ks(p):(S=$.cachePool,S!==null?(fe=Xt._currentValue,S=S.parent!==fe?{parent:fe,pool:fe}:S):S=fm(),$={baseLanes:$.baseLanes|p,cachePool:S}),v.memoizedState=$,v.childLanes=mh(o,z,p),c.memoizedState=ps,lo(o.child,v)):(Dc(c),p=o.child,o=p.sibling,p=Go(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=p,c.memoizedState=null,p)}function Bc(o,c){return c=wf({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function wf(o,c){return o=Sa(22,o,null,c),o.lanes=0,o}function Rf(o,c,p){return _u(c,o.child,null,p),o=Bc(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Su(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),wl(o.return,c,p)}function gh(o,c,p,v,S,C){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S,treeForkCount:C}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=p,z.tailMode=S,z.treeForkCount=C)}function vh(o,c,p){var v=c.pendingProps,S=v.revealOrder,C=v.tail;v=v.children;var z=Gi.current,$=(z&2)!==0;if($?(z=z&1|2,c.flags|=128):z&=1,Be(Gi,z),ji(o,c,v,p),v=Ln?vf:0,!$&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Su(o,p,c);else if(o.tag===19)Su(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(p=c.child,S=null;p!==null;)o=p.alternate,o!==null&&mm(o)===null&&(S=p),p=p.sibling;p=S,p===null?(S=c.child,c.child=null):(S=p.sibling,p.sibling=null),gh(c,!1,S,p,C,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=c.child,c.child=null;S!==null;){if(o=S.alternate,o!==null&&mm(o)===null){c.child=S;break}o=S.sibling,S.sibling=p,p=S,S=o}gh(c,!0,p,null,C,v);break;case"together":gh(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function uo(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),_s|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(Ac(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=Go(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Go(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function Uc(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&_f(o)))}function _h(o,c,p){switch(c.tag){case 3:Ze(c,c.stateNode.containerInfo),Cl(c,Xt,o.memoizedState.cache),pu();break;case 27:case 5:mt(c);break;case 4:Ze(c,c.stateNode.containerInfo);break;case 10:Cl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,u0(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Dc(c),c.flags|=128,null):(p&c.child.childLanes)!==0?ms(o,c,p):(Dc(c),o=uo(o,c,p),o!==null?o.sibling:null);Dc(c);break;case 19:var S=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(Ac(o,c,p,!1),v=(p&c.childLanes)!==0),S){if(v)return vh(o,c,p);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Be(Gi,Gi.current),v)break;return null;case 22:return c.lanes=0,hs(o,c,p,c.pendingProps);case 24:Cl(c,Xt,o.memoizedState.cache)}return uo(o,c,p)}function Dm(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)Bi=!0;else{if(!Uc(o,p)&&(c.flags&128)===0)return Bi=!1,_h(o,c,p);Bi=(o.flags&131072)!==0}else Bi=!1,Ln&&(c.flags&1048576)!==0&&Yv(c,vf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=vu(c.elementType),c.type=o,typeof o=="function")Aa(o)?(v=Jr(o,v),c.tag=1,c=qr(null,c,o,v,p)):(c.tag=0,c=Cf(null,c,o,v,p));else{if(o!=null){var S=o.$$typeof;if(S===D){c.tag=11,c=dh(null,c,o,v,p);break e}else if(S===P){c.tag=14,c=hh(null,c,o,v,p);break e}}throw c=ce(o)||o,Error(r(306,c,""))}}return c;case 0:return Cf(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,S=Jr(v,c.pendingProps),qr(o,c,v,S,p);case 3:e:{if(Ze(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var C=c.memoizedState;S=C.element,s0(o,c),yu(c,v,null,p);var z=c.memoizedState;if(v=z.cache,Cl(c,Xt,v),v!==C.cache&&um(c,[Xt],p,!0),ih(),v=z.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=Xn(o,c,v,p);break e}else if(v!==S){S=Oa(Error(r(424)),c),Wd(S),c=Xn(o,c,v,p);break e}else for(o=c.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,Ai=nl(o.firstChild),Dr=c,Ln=!0,Ml=null,Br=!0,p=Fx(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(pu(),v===S){c=uo(o,c,p);break e}ji(o,c,v,p)}c=c.child}return c;case 26:return co(o,c),o===null?(p=R3(c.type,null,c.pendingProps,null))?c.memoizedState=p:Ln||(p=c.type,o=c.pendingProps,v=_1(_e.current).createElement(p),v[Ot]=c,v[un]=o,wa(v,p,o),ke(v),c.stateNode=v):c.memoizedState=R3(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return mt(c),o===null&&Ln&&(v=c.stateNode=T3(c.type,c.pendingProps,_e.current),Dr=c,Br=!0,S=Ai,zf(c.type)?(wM=S,Ai=nl(v.firstChild)):Ai=S),ji(o,c,c.pendingProps.children,p),co(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Ln&&((S=v=Ai)&&(v=p9(v,c.type,c.pendingProps,Br),v!==null?(c.stateNode=v,Dr=c,Ai=nl(v.firstChild),Br=!1,S=!0):S=!1),S||Bn(c)),mt(c),S=c.type,C=c.pendingProps,z=o!==null?o.memoizedProps:null,v=C.children,AM(S,C)?v=null:z!==null&&AM(S,z)&&(c.flags|=32),c.memoizedState!==null&&(S=d0(o,c,aM,null,null,p),$0._currentValue=S),co(o,c),ji(o,c,v,p),c.child;case 6:return o===null&&Ln&&((o=p=Ai)&&(p=m9(p,c.pendingProps,Br),p!==null?(c.stateNode=p,Dr=c,Ai=null,o=!0):o=!1),o||Bn(c)),null;case 13:return ms(o,c,p);case 4:return Ze(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=_u(c,null,v,p):ji(o,c,v,p),c.child;case 11:return dh(o,c,c.type,c.pendingProps,p);case 7:return ji(o,c,c.pendingProps,p),c.child;case 8:return ji(o,c,c.pendingProps.children,p),c.child;case 12:return ji(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Cl(c,c.type,v.value),ji(o,c,v.children,p),c.child;case 9:return S=c.type._context,v=c.pendingProps.children,mu(c),S=Ur(S),v=v(S),c.flags|=1,ji(o,c,v,p),c.child;case 14:return hh(o,c,c.type,c.pendingProps,p);case 15:return ds(o,c,c.type,c.pendingProps,p);case 19:return vh(o,c,p);case 31:return ph(o,c,p);case 22:return hs(o,c,p,c.pendingProps);case 24:return mu(c),v=Ur(Xt),o===null?(S=Xo(),S===null&&(S=si,C=Qv(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=p),S=C),c.memoizedState={parent:v,cache:S},a0(c),Cl(c,Xt,S)):((o.lanes&p)!==0&&(s0(o,c),yu(c,null,null,p),ih()),S=o.memoizedState,C=c.memoizedState,S.parent!==v?(S={parent:v,cache:v},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),Cl(c,Xt,v)):(v=C.cache,Cl(c,Xt,v),v!==S.cache&&um(c,[Xt],p,!0))),ji(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Pa(o){o.flags|=4}function Oc(o,c,p,v,S){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(pt())o.flags|=8192;else throw Jt=eh,Qd}else o.flags&=-16777217}function Nl(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!N3(c))if(pt())o.flags|=8192;else throw Jt=eh,Qd}function Df(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?on():536870912,o.lanes|=c,ys|=c)}function yh(o,c){if(!Ln)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function fi(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function z0(o,c,p){var v=c.pendingProps;switch(Sc(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(c),null;case 1:return fi(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Ps(Xt),et(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(hu(c)?Pa(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Jv())),fi(c),null;case 26:var S=c.type,C=c.memoizedState;return o===null?(Pa(c),C!==null?(fi(c),Nl(c,C)):(fi(c),Oc(c,S,null,v,p))):C?C!==o.memoizedState?(Pa(c),fi(c),Nl(c,C)):(fi(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&Pa(c),fi(c),Oc(c,S,o,v,p)),null;case 27:if(Mt(c),p=_e.current,S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Pa(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return fi(c),null}o=we.current,hu(c)?cm(c):(o=T3(S,v,p),c.stateNode=o,Pa(c))}return fi(c),null;case 5:if(Mt(c),S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Pa(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return fi(c),null}if(C=we.current,hu(c))cm(c);else{var z=_1(_e.current);switch(C){case 1:C=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:C=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":C=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":C=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":C=z.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?z.createElement(S,{is:v.is}):z.createElement(S)}}C[Ot]=c,C[un]=v;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)C.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=C;e:switch(wa(C,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Pa(c)}}return fi(c),Oc(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,p),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&Pa(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=_e.current,hu(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,S=Dr,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}o[Ot]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||m3(o.nodeValue,p)),o||Bn(c,!0)}else o=_1(o).createTextNode(v),o[Ot]=c,c.stateNode=o}return fi(c),null;case 31:if(p=c.memoizedState,o===null||o.memoizedState!==null){if(v=hu(c),p!==null){if(o===null){if(!v)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Ot]=c}else pu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;fi(c),o=!1}else p=Jv(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return c.flags&256?(cs(c),c):(cs(c),null);if((c.flags&128)!==0)throw Error(r(558))}return fi(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=hu(c),v!==null&&v.dehydrated!==null){if(o===null){if(!S)throw Error(r(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Ot]=c}else pu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;fi(c),S=!1}else S=Jv(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(cs(c),c):(cs(c),null)}return cs(c),(c.flags&128)!==0?(c.lanes=p,c):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=c.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==S&&(v.flags|=2048)),p!==o&&p&&(c.child.flags|=8192),Df(c,c.updateQueue),fi(c),null);case 4:return et(),o===null&&_M(c.stateNode.containerInfo),fi(c),null;case 10:return Ps(c.type),fi(c),null;case 19:if(he(Gi),v=c.memoizedState,v===null)return fi(c),null;if(S=(c.flags&128)!==0,C=v.rendering,C===null)if(S)yh(v,!1);else{if(oi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(C=mm(o),C!==null){for(c.flags|=128,yh(v,!1),o=C.updateQueue,c.updateQueue=o,Df(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)oa(p,o),p=p.sibling;return Be(Gi,Gi.current&1|2),Ln&&El(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&H()>xs&&(c.flags|=128,S=!0,yh(v,!1),c.lanes=4194304)}else{if(!S)if(o=mm(C),o!==null){if(c.flags|=128,S=!0,o=o.updateQueue,c.updateQueue=o,Df(c,o),yh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Ln)return fi(c),null}else 2*H()-v.renderingStartTime>xs&&p!==536870912&&(c.flags|=128,S=!0,yh(v,!1),c.lanes=4194304);v.isBackwards?(C.sibling=c.child,c.child=C):(o=v.last,o!==null?o.sibling=C:c.child=C,v.last=C)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=H(),o.sibling=null,p=Gi.current,Be(Gi,S?p&1|2:p&1),Ln&&El(c,v.treeForkCount),o):(fi(c),null);case 22:case 23:return cs(c),ca(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(fi(c),c.subtreeFlags&6&&(c.flags|=8192)):fi(c),p=c.updateQueue,p!==null&&Df(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&he(Ec),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Ps(Xt),fi(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function Bm(o,c){switch(Sc(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ps(Xt),et(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Mt(c),null;case 31:if(c.memoizedState!==null){if(cs(c),c.alternate===null)throw Error(r(340));pu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(cs(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));pu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return he(Gi),null;case 4:return et(),null;case 10:return Ps(c.type),null;case 22:case 23:return cs(c),ca(),o!==null&&he(Ec),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ps(Xt),null;case 25:return null;default:return null}}function Au(o,c){switch(Sc(c),c.tag){case 3:Ps(Xt),et();break;case 26:case 27:case 5:Mt(c);break;case 4:et();break;case 31:c.memoizedState!==null&&cs(c);break;case 13:cs(c);break;case 19:he(Gi);break;case 10:Ps(c.type);break;case 22:case 23:cs(c),ca(),o!==null&&he(Ec);break;case 24:Ps(Xt)}}function Ko(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&o)===o){v=void 0;var C=p.create,z=p.inst;v=C(),z.destroy=v}p=p.next}while(p!==S)}}catch($){yi(c,c.return,$)}}function Gs(o,c,p){try{var v=c.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var C=S.next;v=C;do{if((v.tag&o)===o){var z=v.inst,$=z.destroy;if($!==void 0){z.destroy=void 0,S=c;var fe=p,De=$;try{De()}catch(Ve){yi(S,fe,Ve)}}}v=v.next}while(v!==C)}}catch(Ve){yi(c,c.return,Ve)}}function Nc(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{Zr(c,p)}catch(v){yi(o,o.return,v)}}}function L0(o,c,p){p.props=Jr(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){yi(o,c,v)}}function Qo(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(S){yi(o,c,S)}}function gs(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(S){yi(o,c,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){yi(o,c,S)}else p.current=null}function vs(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(S){yi(o,o.return,S)}}function Vs(o,c,p){try{var v=o.stateNode;l9(v,o.type,p,c),v[un]=c}catch(S){yi(o,o.return,S)}}function pr(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&zf(o.type)||o.tag===4}function el(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pr(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&zf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function mn(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Fo));else if(v!==4&&(v===27&&zf(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(mn(o,c,p),o=o.sibling;o!==null;)mn(o,c,p),o=o.sibling}function ri(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&zf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(ri(o,c,p),o=o.sibling;o!==null;)ri(o,c,p),o=o.sibling}function tr(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);wa(c,v,p),c[Ot]=o,c[un]=p}catch(C){yi(o,o.return,C)}}var js=!1,Ui=!1,Il=!1,xh=typeof WeakSet=="function"?WeakSet:Set,$i=null;function Bf(o,c){if(o=o.containerInfo,bM=M1,o=Qp(o),uf(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var z=0,$=-1,fe=-1,De=0,Ve=0,Qe=o,Ne=null;t:for(;;){for(var Pe;Qe!==p||S!==0&&Qe.nodeType!==3||($=z+S),Qe!==C||v!==0&&Qe.nodeType!==3||(fe=z+v),Qe.nodeType===3&&(z+=Qe.nodeValue.length),(Pe=Qe.firstChild)!==null;)Ne=Qe,Qe=Pe;for(;;){if(Qe===o)break t;if(Ne===p&&++De===S&&($=z),Ne===C&&++Ve===v&&(fe=z),(Pe=Qe.nextSibling)!==null)break;Qe=Ne,Ne=Qe.parentNode}Qe=Pe}p=$===-1||fe===-1?null:{start:$,end:fe}}else p=null}p=p||{start:0,end:0}}else p=null;for(SM={focusedElem:o,selectionRange:p},M1=!1,$i=c;$i!==null;)if(c=$i,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,$i=o;else for(;$i!==null;){switch(c=$i,C=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)S=o[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,p=c,S=C.memoizedProps,C=C.memoizedState,v=p.stateNode;try{var It=Jr(p.type,S);o=v.getSnapshotBeforeUpdate(It,C),v.__reactInternalSnapshotBeforeUpdate=o}catch(en){yi(p,p.return,en)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)MM(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":MM(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,$i=o;break}$i=c.return}}function f1(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:zl(o,p),v&4&&Ko(5,p);break;case 1:if(zl(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(z){yi(p,p.return,z)}else{var S=Jr(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(S,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){yi(p,p.return,z)}}v&64&&Nc(p),v&512&&Qo(p,p.return);break;case 3:if(zl(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{Zr(o,c)}catch(z){yi(p,p.return,z)}}break;case 27:c===null&&v&4&&tr(p);case 26:case 5:zl(o,p),c===null&&v&4&&vs(p),v&512&&Qo(p,p.return);break;case 12:zl(o,p);break;case 31:zl(o,p),v&4&&Om(o,p);break;case 13:zl(o,p),v&4&&P0(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=qH.bind(null,p),g9(o,p))));break;case 22:if(v=p.memoizedState!==null||js,!v){c=c!==null&&c.memoizedState!==null||Ui,S=js;var C=Ui;js=v,(Ui=c)&&!C?ai(o,p,(p.subtreeFlags&8772)!==0):zl(o,p),js=S,Ui=C}break;case 30:break;default:zl(o,p)}}function Um(o){var c=o.alternate;c!==null&&(o.alternate=null,Um(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&j(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Zn=null,mr=!1;function fa(o,c,p){for(p=p.child;p!==null;)Ic(o,c,p),p=p.sibling}function Ic(o,c,p){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ke,p)}catch{}switch(p.tag){case 26:Ui||gs(p,c),fa(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ui||gs(p,c);var v=Zn,S=mr;zf(p.type)&&(Zn=p.stateNode,mr=!1),fa(o,c,p),G0(p.stateNode),Zn=v,mr=S;break;case 5:Ui||gs(p,c);case 6:if(v=Zn,S=mr,Zn=null,fa(o,c,p),Zn=v,mr=S,Zn!==null)if(mr)try{(Zn.nodeType===9?Zn.body:Zn.nodeName==="HTML"?Zn.ownerDocument.body:Zn).removeChild(p.stateNode)}catch(C){yi(p,c,C)}else try{Zn.removeChild(p.stateNode)}catch(C){yi(p,c,C)}break;case 18:Zn!==null&&(mr?(o=Zn,b3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),jm(o)):b3(Zn,p.stateNode));break;case 4:v=Zn,S=mr,Zn=p.stateNode.containerInfo,mr=!0,fa(o,c,p),Zn=v,mr=S;break;case 0:case 11:case 14:case 15:Gs(2,p,c),Ui||Gs(4,p,c),fa(o,c,p);break;case 1:Ui||(gs(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&L0(p,c,v)),fa(o,c,p);break;case 21:fa(o,c,p);break;case 22:Ui=(v=Ui)||p.memoizedState!==null,fa(o,c,p),Ui=v;break;default:fa(o,c,p)}}function Om(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{jm(o)}catch(p){yi(c,c.return,p)}}}function P0(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{jm(o)}catch(p){yi(c,c.return,p)}}function d1(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new xh),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new xh),c;default:throw Error(r(435,o.tag))}}function nr(o,c){var p=d1(o);c.forEach(function(v){if(!p.has(v)){p.add(v);var S=WH.bind(null,o,v);v.then(S,S)}})}function da(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v],C=o,z=c,$=z;e:for(;$!==null;){switch($.tag){case 27:if(zf($.type)){Zn=$.stateNode,mr=!1;break e}break;case 5:Zn=$.stateNode,mr=!1;break e;case 3:case 4:Zn=$.stateNode.containerInfo,mr=!0;break e}$=$.return}if(Zn===null)throw Error(r(160));Ic(C,z,S),Zn=null,mr=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)zc(c,o),c=c.sibling}var Fa=null;function zc(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:da(c,o),Xi(o),v&4&&(Gs(3,o,o.return),Ko(3,o),Gs(5,o,o.return));break;case 1:da(c,o),Xi(o),v&512&&(Ui||p===null||gs(p,p.return)),v&64&&js&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var S=Fa;if(da(c,o),Xi(o),v&512&&(Ui||p===null||gs(p,p.return)),v&4){var C=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":C=S.getElementsByTagName("title")[0],(!C||C[_i]||C[Ot]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(v),S.head.insertBefore(C,S.querySelector("head > title"))),wa(C,v,p),C[Ot]=o,ke(C),v=C;break e;case"link":var z=U3("link","href",S).get(v+(p.href||""));if(z){for(var $=0;$<z.length;$++)if(C=z[$],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){z.splice($,1);break t}}C=S.createElement(v),wa(C,v,p),S.head.appendChild(C);break;case"meta":if(z=U3("meta","content",S).get(v+(p.content||""))){for($=0;$<z.length;$++)if(C=z[$],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){z.splice($,1);break t}}C=S.createElement(v),wa(C,v,p),S.head.appendChild(C);break;default:throw Error(r(468,v))}C[Ot]=o,ke(C),v=C}o.stateNode=v}else O3(S,o.type,o.stateNode);else o.stateNode=B3(S,v,o.memoizedProps);else C!==v?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,v===null?O3(S,o.type,o.stateNode):B3(S,v,o.memoizedProps)):v===null&&o.stateNode!==null&&Vs(o,o.memoizedProps,p.memoizedProps)}break;case 27:da(c,o),Xi(o),v&512&&(Ui||p===null||gs(p,p.return)),p!==null&&v&4&&Vs(o,o.memoizedProps,p.memoizedProps);break;case 5:if(da(c,o),Xi(o),v&512&&(Ui||p===null||gs(p,p.return)),o.flags&32){S=o.stateNode;try{iu(S,"")}catch(It){yi(o,o.return,It)}}v&4&&o.stateNode!=null&&(S=o.memoizedProps,Vs(o,S,p!==null?p.memoizedProps:S)),v&1024&&(Il=!0);break;case 6:if(da(c,o),Xi(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(It){yi(o,o.return,It)}}break;case 3:if(b1=null,S=Fa,Fa=y1(c.containerInfo),da(c,o),Fa=S,Xi(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{jm(c.containerInfo)}catch(It){yi(o,o.return,It)}Il&&(Il=!1,h1(o));break;case 4:v=Fa,Fa=y1(o.stateNode.containerInfo),da(c,o),Xi(o),Fa=v;break;case 12:da(c,o),Xi(o);break;case 31:da(c,o),Xi(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nr(o,v)));break;case 13:da(c,o),Xi(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Fl=H()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nr(o,v)));break;case 22:S=o.memoizedState!==null;var fe=p!==null&&p.memoizedState!==null,De=js,Ve=Ui;if(js=De||S,Ui=Ve||fe,da(c,o),Ui=Ve,js=De,Xi(o),v&8192)e:for(c=o.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(p===null||fe||js||Ui||Eu(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){fe=p=c;try{if(C=fe.stateNode,S)z=C.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{$=fe.stateNode;var Qe=fe.memoizedProps.style,Ne=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;$.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(It){yi(fe,fe.return,It)}}}else if(c.tag===6){if(p===null){fe=c;try{fe.stateNode.nodeValue=S?"":fe.memoizedProps}catch(It){yi(fe,fe.return,It)}}}else if(c.tag===18){if(p===null){fe=c;try{var Pe=fe.stateNode;S?S3(Pe,!0):S3(fe.stateNode,!1)}catch(It){yi(fe,fe.return,It)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,nr(o,p))));break;case 19:da(c,o),Xi(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,nr(o,v)));break;case 30:break;case 21:break;default:da(c,o),Xi(o)}}function Xi(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(pr(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var S=p.stateNode,C=el(o);ri(o,C,S);break;case 5:var z=p.stateNode;p.flags&32&&(iu(z,""),p.flags&=-33);var $=el(o);ri(o,$,z);break;case 3:case 4:var fe=p.stateNode.containerInfo,De=el(o);mn(o,De,fe);break;default:throw Error(r(161))}}catch(Ve){yi(o,o.return,Ve)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function h1(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;h1(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function zl(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)f1(o,c.alternate,c),c=c.sibling}function Eu(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Gs(4,c,c.return),Eu(c);break;case 1:gs(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&L0(c,c.return,p),Eu(c);break;case 27:G0(c.stateNode);case 26:case 5:gs(c,c.return),Eu(c);break;case 22:c.memoizedState===null&&Eu(c);break;case 30:Eu(c);break;default:Eu(c)}o=o.sibling}}function ai(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,S=o,C=c,z=C.flags;switch(C.tag){case 0:case 11:case 15:ai(S,C,p),Ko(4,C);break;case 1:if(ai(S,C,p),v=C,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(De){yi(v,v.return,De)}if(v=C,S=v.updateQueue,S!==null){var $=v.stateNode;try{var fe=S.shared.hiddenCallbacks;if(fe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<fe.length;S++)Yo(fe[S],$)}catch(De){yi(v,v.return,De)}}p&&z&64&&Nc(C),Qo(C,C.return);break;case 27:tr(C);case 26:case 5:ai(S,C,p),p&&v===null&&z&4&&vs(C),Qo(C,C.return);break;case 12:ai(S,C,p);break;case 31:ai(S,C,p),p&&z&4&&Om(S,C);break;case 13:ai(S,C,p),p&&z&4&&P0(S,C);break;case 22:C.memoizedState===null&&ai(S,C,p),Qo(C,C.return);break;case 30:break;default:ai(S,C,p)}c=c.sibling}}function Nm(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Xr(p))}function Ll(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Xr(o))}function br(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Fi(o,c,p,v),c=c.sibling}function Fi(o,c,p,v){var S=c.flags;switch(c.tag){case 0:case 11:case 15:br(o,c,p,v),S&2048&&Ko(9,c);break;case 1:br(o,c,p,v);break;case 3:br(o,c,p,v),S&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Xr(o)));break;case 12:if(S&2048){br(o,c,p,v),o=c.stateNode;try{var C=c.memoizedProps,z=C.id,$=C.onPostCommit;typeof $=="function"&&$(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(fe){yi(c,c.return,fe)}}else br(o,c,p,v);break;case 31:br(o,c,p,v);break;case 13:br(o,c,p,v);break;case 23:break;case 22:C=c.stateNode,z=c.alternate,c.memoizedState!==null?C._visibility&2?br(o,c,p,v):Uf(o,c):C._visibility&2?br(o,c,p,v):(C._visibility|=2,Lc(o,c,p,v,(c.subtreeFlags&10256)!==0||!1)),S&2048&&Nm(z,c);break;case 24:br(o,c,p,v),S&2048&&Ll(c.alternate,c);break;default:br(o,c,p,v)}}function Lc(o,c,p,v,S){for(S=S&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var C=o,z=c,$=p,fe=v,De=z.flags;switch(z.tag){case 0:case 11:case 15:Lc(C,z,$,fe,S),Ko(8,z);break;case 23:break;case 22:var Ve=z.stateNode;z.memoizedState!==null?Ve._visibility&2?Lc(C,z,$,fe,S):Uf(C,z):(Ve._visibility|=2,Lc(C,z,$,fe,S)),S&&De&2048&&Nm(z.alternate,z);break;case 24:Lc(C,z,$,fe,S),S&&De&2048&&Ll(z.alternate,z);break;default:Lc(C,z,$,fe,S)}c=c.sibling}}function Uf(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,S=v.flags;switch(v.tag){case 22:Uf(p,v),S&2048&&Nm(v.alternate,v);break;case 24:Uf(p,v),S&2048&&Ll(v.alternate,v);break;default:Uf(p,v)}c=c.sibling}}var Zi=8192;function Mu(o,c,p){if(o.subtreeFlags&Zi)for(o=o.child;o!==null;)ir(o,c,p),o=o.sibling}function ir(o,c,p){switch(o.tag){case 26:Mu(o,c,p),o.flags&Zi&&o.memoizedState!==null&&w9(p,Fa,o.memoizedState,o.memoizedProps);break;case 5:Mu(o,c,p);break;case 3:case 4:var v=Fa;Fa=y1(o.stateNode.containerInfo),Mu(o,c,p),Fa=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=Zi,Zi=16777216,Mu(o,c,p),Zi=v):Mu(o,c,p));break;default:Mu(o,c,p)}}function Ha(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ta(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];$i=v,bh(v,o)}Ha(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Tu(o),o=o.sibling}function Tu(o){switch(o.tag){case 0:case 11:case 15:Ta(o),o.flags&2048&&Gs(9,o,o.return);break;case 3:Ta(o);break;case 12:Ta(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Im(o)):Ta(o);break;default:Ta(o)}}function Im(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];$i=v,bh(v,o)}Ha(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Gs(8,c,c.return),Im(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Im(c));break;default:Im(c)}o=o.sibling}}function bh(o,c){for(;$i!==null;){var p=$i;switch(p.tag){case 0:case 11:case 15:Gs(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Xr(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,$i=v;else e:for(p=o;$i!==null;){v=$i;var S=v.sibling,C=v.return;if(Um(v),v===p){$i=null;break e}if(S!==null){S.return=C,$i=S;break e}$i=C}}}var zm={getCacheForType:function(o){var c=Ur(Xt),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p},cacheSignal:function(){return Ur(Xt).controller.signal}},Lm=typeof WeakMap=="function"?WeakMap:Map,Gn=0,si=null,gn=null,Un=0,Zt=0,Tn=null,fn=!1,Sn=!1,gi=!1,rr=0,oi=0,_s=0,Pl=0,fo=0,Vn=0,ys=0,ho=null,ha=null,ka=!1,Fl=0,Of=0,xs=1/0,Nf=null,tl=null,Hi=0,po=null,bs=null,$s=0,Hl=0,Cu=null,Pm=null,wu=0,Ru=null;function Ca(){return(Gn&2)!==0&&Un!==0?Un&-Un:V.T!==null?pM():Wt()}function u(){if(Vn===0)if((Un&536870912)===0||Ln){var o=nt;nt<<=1,(nt&3932160)===0&&(nt=262144),Vn=o}else Vn=536870912;return o=xr.current,o!==null&&(o.flags|=32),Vn}function h(o,c,p){(o===si&&(Zt===2||Zt===9)||o.cancelPendingCommit!==null)&&(Ee(o,0),N(o,Un,Vn,!1)),Ct(o,p),((Gn&2)===0||o!==si)&&(o===si&&((Gn&2)===0&&(Pl|=p),oi===4&&N(o,Un,Vn,!1)),Pc(o))}function y(o,c,p){if((Gn&6)!==0)throw Error(r(327));var v=!p&&(c&127)===0&&(c&o.expiredLanes)===0||vt(o,c),S=v?Du(o,c):Ga(o,c,!0),C=v;do{if(S===0){Sn&&!v&&N(o,c,0,!1);break}else{if(p=o.current.alternate,C&&!w(p)){S=Ga(o,c,!1),C=!1;continue}if(S===2){if(C=c,o.errorRecoveryDisabledLanes&C)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var $=o;S=ho;var fe=$.current.memoizedState.isDehydrated;if(fe&&(Ee($,z).flags|=256),z=Ga($,z,!1),z!==2){if(gi&&!fe){$.errorRecoveryDisabledLanes|=C,Pl|=C,S=4;break e}C=ha,ha=S,C!==null&&(ha===null?ha=C:ha.push.apply(ha,C))}S=z}if(C=!1,S!==2)continue}}if(S===1){Ee(o,0),N(o,c,0,!0);break}e:{switch(v=o,C=S,C){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:N(v,c,Vn,!fn);break e;case 2:ha=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(S=Fl+300-H(),10<S)){if(N(v,c,Vn,!fn),Ge(v,0,!0)!==0)break e;$s=c,v.timeoutHandle=y3(E.bind(null,v,p,ha,Nf,ka,c,Vn,Pl,ys,fn,C,"Throttled",-0,0),S);break e}E(v,p,ha,Nf,ka,c,Vn,Pl,ys,fn,C,null,-0,0)}}break}while(!0);Pc(o)}function E(o,c,p,v,S,C,z,$,fe,De,Ve,Qe,Ne,Pe){if(o.timeoutHandle=-1,Qe=c.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fo},ir(c,C,Qe);var It=(C&62914560)===C?Fl-H():(C&4194048)===C?Of-H():0;if(It=R9(Qe,It),It!==null){$s=C,o.cancelPendingCommit=It(nn.bind(null,o,c,C,p,v,S,z,$,fe,Ve,Qe,null,Ne,Pe)),N(o,C,z,!De);return}}nn(o,c,C,p,v,S,z,$,fe)}function w(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var S=p[v],C=S.getSnapshot;S=S.value;try{if(!Di(C(),S))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function N(o,c,p,v){c&=~fo,c&=~Pl,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var S=c;0<S;){var C=31-se(S),z=1<<C;v[C]=-1,S&=~z}p!==0&&yt(o,p,c)}function Y(){return(Gn&6)===0?(F0(0),!1):!0}function ue(){if(gn!==null){if(Zt===0)var o=gn.return;else o=gn,la=Tl=null,m0(o),Tc=null,Cc=0,o=gn;for(;o!==null;)Au(o.alternate,o),o=o.return;gn=null}}function Ee(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,f9(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),$s=0,ue(),si=o,gn=p=Go(o.current,null),Un=c,Zt=0,Tn=null,fn=!1,Sn=vt(o,c),gi=!1,ys=Vn=fo=Pl=_s=oi=0,ha=ho=null,ka=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var S=31-se(v),C=1<<S;c|=o[S],v&=~C}return rr=c,yc(),p}function $e(o,c){tn=null,V.H=ch,c===Mc||c===oo?(c=dm(),Zt=3):c===Qd?(c=dm(),Zt=4):Zt=c===Rm?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Tn=c,gn===null&&(oi=1,wm(o,Oa(c,o.current)))}function pt(){var o=xr.current;return o===null?!0:(Un&4194048)===Un?Fs===null:(Un&62914560)===Un||(Un&536870912)!==0?o===Fs:!1}function At(){var o=V.H;return V.H=ch,o===null?ch:o}function Rt(){var o=V.A;return V.A=zm,o}function cn(){oi=4,fn||(Un&4194048)!==Un&&xr.current!==null||(Sn=!0),(_s&134217727)===0&&(Pl&134217727)===0||si===null||N(si,Un,Vn,!1)}function Ga(o,c,p){var v=Gn;Gn|=2;var S=At(),C=Rt();(si!==o||Un!==c)&&(Nf=null,Ee(o,c)),c=!1;var z=oi;e:do try{if(Zt!==0&&gn!==null){var $=gn,fe=Tn;switch(Zt){case 8:ue(),z=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(c=!0);var De=Zt;if(Zt=0,Tn=null,ct(o,$,fe,De),p&&Sn){z=0;break e}break;default:De=Zt,Zt=0,Tn=null,ct(o,$,fe,De)}}Sh(),z=oi;break}catch(Ve){$e(o,Ve)}while(!0);return c&&o.shellSuspendCounter++,la=Tl=null,Gn=v,V.H=S,V.A=C,gn===null&&(si=null,Un=0,yc()),z}function Sh(){for(;gn!==null;)be(gn)}function Du(o,c){var p=Gn;Gn|=2;var v=At(),S=Rt();si!==o||Un!==c?(Nf=null,xs=H()+500,Ee(o,c)):Sn=vt(o,c);e:do try{if(Zt!==0&&gn!==null){c=gn;var C=Tn;t:switch(Zt){case 1:Zt=0,Tn=null,ct(o,c,C,1);break;case 2:case 9:if(Px(C)){Zt=0,Tn=null,ze(c);break}c=function(){Zt!==2&&Zt!==9||si!==o||(Zt=7),Pc(o)},C.then(c,c);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:Px(C)?(Zt=0,Tn=null,ze(c)):(Zt=0,Tn=null,ct(o,c,C,7));break;case 5:var z=null;switch(gn.tag){case 26:z=gn.memoizedState;case 5:case 27:var $=gn;if(z?N3(z):$.stateNode.complete){Zt=0,Tn=null;var fe=$.sibling;if(fe!==null)gn=fe;else{var De=$.return;De!==null?(gn=De,Vt(De)):gn=null}break t}}Zt=0,Tn=null,ct(o,c,C,5);break;case 6:Zt=0,Tn=null,ct(o,c,C,6);break;case 8:ue(),oi=6;break e;default:throw Error(r(462))}}Oe();break}catch(Ve){$e(o,Ve)}while(!0);return la=Tl=null,V.H=v,V.A=S,Gn=p,gn!==null?0:(si=null,Un=0,yc(),oi)}function Oe(){for(;gn!==null&&!de();)be(gn)}function be(o){var c=Dm(o.alternate,o,rr);o.memoizedProps=o.pendingProps,c===null?Vt(o):gn=c}function ze(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=ua(p,c,c.pendingProps,c.type,void 0,Un);break;case 11:c=ua(p,c,c.pendingProps,c.type.render,c.ref,Un);break;case 5:m0(c);default:Au(p,c),c=gn=oa(c,rr),c=Dm(p,c,rr)}o.memoizedProps=o.pendingProps,c===null?Vt(o):gn=c}function ct(o,c,p,v){la=Tl=null,m0(c),Tc=null,Cc=0;var S=c.return;try{if(fs(o,S,c,p,Un)){oi=1,wm(o,Oa(p,o.current)),gn=null;return}}catch(C){if(S!==null)throw gn=S,C;oi=1,wm(o,Oa(p,o.current)),gn=null;return}c.flags&32768?(Ln||v===1?o=!0:Sn||(Un&536870912)!==0?o=!1:(fn=o=!0,(v===2||v===9||v===3||v===6)&&(v=xr.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ei(c,o)):Vt(c)}function Vt(o){var c=o;do{if((c.flags&32768)!==0){Ei(c,fn);return}o=c.return;var p=z0(c.alternate,c,rr);if(p!==null){gn=p;return}if(c=c.sibling,c!==null){gn=c;return}gn=c=o}while(c!==null);oi===0&&(oi=5)}function Ei(o,c){do{var p=Bm(o.alternate,o);if(p!==null){p.flags&=32767,gn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){gn=o;return}gn=o=p}while(o!==null);oi=6,gn=null}function nn(o,c,p,v,S,C,z,$,fe){o.cancelPendingCommit=null;do Fm();while(Hi!==0);if((Gn&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(C=c.lanes|c.childLanes,C|=rm,qt(o,p,C,z,$,fe),o===si&&(gn=si=null,Un=0),bs=c,po=o,$s=p,Hl=C,Cu=S,Pm=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,KH(xe,function(){return n3(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=V.T,V.T=null,S=q.p,q.p=2,z=Gn,Gn|=4;try{Bf(o,c,p)}finally{Gn=z,q.p=S,V.T=v}}Hi=1,Yn(),Sr(),Jn()}}function Yn(){if(Hi===1){Hi=0;var o=po,c=bs,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var v=q.p;q.p=2;var S=Gn;Gn|=4;try{zc(c,o);var C=SM,z=Qp(o.containerInfo),$=C.focusedElem,fe=C.selectionRange;if(z!==$&&$&&$.ownerDocument&&Kp($.ownerDocument.documentElement,$)){if(fe!==null&&uf($)){var De=fe.start,Ve=fe.end;if(Ve===void 0&&(Ve=De),"selectionStart"in $)$.selectionStart=De,$.selectionEnd=Math.min(Ve,$.value.length);else{var Qe=$.ownerDocument||document,Ne=Qe&&Qe.defaultView||window;if(Ne.getSelection){var Pe=Ne.getSelection(),It=$.textContent.length,en=Math.min(fe.start,It),Ti=fe.end===void 0?en:Math.min(fe.end,It);!Pe.extend&&en>Ti&&(z=Ti,Ti=en,en=z);var Se=jv($,en),me=jv($,Ti);if(Se&&me&&(Pe.rangeCount!==1||Pe.anchorNode!==Se.node||Pe.anchorOffset!==Se.offset||Pe.focusNode!==me.node||Pe.focusOffset!==me.offset)){var Re=Qe.createRange();Re.setStart(Se.node,Se.offset),Pe.removeAllRanges(),en>Ti?(Pe.addRange(Re),Pe.extend(me.node,me.offset)):(Re.setEnd(me.node,me.offset),Pe.addRange(Re))}}}}for(Qe=[],Pe=$;Pe=Pe.parentNode;)Pe.nodeType===1&&Qe.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Qe.length;$++){var Ye=Qe[$];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}M1=!!bM,SM=bM=null}finally{Gn=S,q.p=v,V.T=p}}o.current=c,Hi=2}}function Sr(){if(Hi===2){Hi=0;var o=po,c=bs,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var v=q.p;q.p=2;var S=Gn;Gn|=4;try{f1(o,c.alternate,c)}finally{Gn=S,q.p=v,V.T=p}}Hi=3}}function Jn(){if(Hi===4||Hi===3){Hi=0,k();var o=po,c=bs,p=$s,v=Pm;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Hi=5:(Hi=0,bs=po=null,kl(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(tl=null),bi(p),c=c.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ke,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=V.T,S=q.p,q.p=2,V.T=null;try{for(var C=o.onRecoverableError,z=0;z<v.length;z++){var $=v[z];C($.value,{componentStack:$.stack})}}finally{V.T=c,q.p=S}}($s&3)!==0&&Fm(),Pc(o),S=o.pendingLanes,(p&261930)!==0&&(S&42)!==0?o===Ru?wu++:(wu=0,Ru=o):wu=0,F0(0)}}function kl(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Xr(c)))}function Fm(){return Yn(),Sr(),Jn(),n3()}function n3(){if(Hi!==5)return!1;var o=po,c=Hl;Hl=0;var p=bi($s),v=V.T,S=q.p;try{q.p=32>p?32:p,V.T=null,p=Cu,Cu=null;var C=po,z=$s;if(Hi=0,bs=po=null,$s=0,(Gn&6)!==0)throw Error(r(331));var $=Gn;if(Gn|=4,Tu(C.current),Fi(C,C.current,z,p),Gn=$,F0(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ke,C)}catch{}return!0}finally{q.p=S,V.T=v,kl(o,c)}}function i3(o,c,p){c=Oa(p,c),c=I0(o.stateNode,c,2),o=Dl(o,c,2),o!==null&&(Ct(o,2),Pc(o))}function yi(o,c,p){if(o.tag===3)i3(o,o,p);else for(;c!==null;){if(c.tag===3){i3(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(tl===null||!tl.has(v))){o=Oa(p,o),p=Tf(2),v=Dl(c,p,2),v!==null&&(La(p,v,c,o),Ct(v,2),Pc(v));break}}c=c.return}}function fM(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new Lm;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(p)||(gi=!0,S.add(p),o=JH.bind(null,o,c,p),c.then(o,o))}function JH(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,si===o&&(Un&p)===p&&(oi===4||oi===3&&(Un&62914560)===Un&&300>H()-Fl?(Gn&2)===0&&Ee(o,0):fo|=p,ys===Un&&(ys=0)),Pc(o)}function r3(o,c){c===0&&(c=on()),o=xc(o,c),o!==null&&(Ct(o,c),Pc(o))}function qH(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),r3(o,p)}function WH(o,c){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),r3(o,p)}function KH(o,c){return rt(o,c)}var p1=null,Hm=null,dM=!1,m1=!1,hM=!1,If=0;function Pc(o){o!==Hm&&o.next===null&&(Hm===null?p1=Hm=o:Hm=Hm.next=o),m1=!0,dM||(dM=!0,e9())}function F0(o,c){if(!hM&&m1){hM=!0;do for(var p=!1,v=p1;v!==null;){if(o!==0){var S=v.pendingLanes;if(S===0)var C=0;else{var z=v.suspendedLanes,$=v.pingedLanes;C=(1<<31-se(42|o)+1)-1,C&=S&~(z&~$),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,l3(v,C))}else C=Un,C=Ge(v,v===si?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||vt(v,C)||(p=!0,l3(v,C));v=v.next}while(p);hM=!1}}function QH(){a3()}function a3(){m1=dM=!1;var o=0;If!==0&&u9()&&(o=If);for(var c=H(),p=null,v=p1;v!==null;){var S=v.next,C=s3(v,c);C===0?(v.next=null,p===null?p1=S:p.next=S,S===null&&(Hm=p)):(p=v,(o!==0||(C&3)!==0)&&(m1=!0)),v=S}Hi!==0&&Hi!==5||F0(o),If!==0&&(If=0)}function s3(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var z=31-se(C),$=1<<z,fe=S[z];fe===-1?(($&p)===0||($&v)!==0)&&(S[z]=Dt($,c)):fe<=c&&(o.expiredLanes|=$),C&=~$}if(c=si,p=Un,p=Ge(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(Zt===2||Zt===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&K(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||vt(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&K(v),bi(p)){case 2:case 8:p=ye;break;case 32:p=xe;break;case 268435456:p=Je;break;default:p=xe}return v=o3.bind(null,o),p=rt(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&K(v),o.callbackPriority=2,o.callbackNode=null,2}function o3(o,c){if(Hi!==0&&Hi!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Fm()&&o.callbackNode!==p)return null;var v=Un;return v=Ge(o,o===si?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(y(o,v,c),s3(o,H()),o.callbackNode!=null&&o.callbackNode===p?o3.bind(null,o):null)}function l3(o,c){if(Fm())return null;y(o,c,!0)}function e9(){d9(function(){(Gn&6)!==0?rt(oe,QH):a3()})}function pM(){if(If===0){var o=Rl;o===0&&(o=je,je<<=1,(je&261888)===0&&(je=256)),If=o}return If}function c3(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Nd(""+o)}function u3(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function t9(o,c,p,v,S){if(c==="submit"&&p&&p.stateNode===S){var C=c3((S[un]||null).action),z=v.submitter;z&&(c=(c=z[un]||null)?c3(c.formAction):z.getAttribute("formAction"),c!==null&&(C=c,z=null));var $=new Pd("action","action",null,v,S);o.push({event:$,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(If!==0){var fe=z?u3(S,z):new FormData(S);D0(p,{pending:!0,data:fe,method:S.method,action:C},null,fe)}}else typeof C=="function"&&($.preventDefault(),fe=z?u3(S,z):new FormData(S),D0(p,{pending:!0,data:fe,method:S.method,action:C},C,fe))},currentTarget:S}]})}}for(var mM=0;mM<im.length;mM++){var gM=im[mM],n9=gM.toLowerCase(),i9=gM[0].toUpperCase()+gM.slice(1);sa(n9,"on"+i9)}sa(Ua,"onAnimationEnd"),sa($v,"onAnimationIteration"),sa(ko,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(pf,"onTransitionRun"),sa(vc,"onTransitionStart"),sa(Xv,"onTransitionCancel"),sa(nm,"onTransitionEnd"),Ut("onMouseEnter",["mouseout","mouseover"]),Ut("onMouseLeave",["mouseout","mouseover"]),Ut("onPointerEnter",["pointerout","pointerover"]),Ut("onPointerLeave",["pointerout","pointerover"]),bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var H0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(H0));function f3(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],S=v.event;v=v.listeners;e:{var C=void 0;if(c)for(var z=v.length-1;0<=z;z--){var $=v[z],fe=$.instance,De=$.currentTarget;if($=$.listener,fe!==C&&S.isPropagationStopped())break e;C=$,S.currentTarget=De;try{C(S)}catch(Ve){_c(Ve)}S.currentTarget=null,C=fe}else for(z=0;z<v.length;z++){if($=v[z],fe=$.instance,De=$.currentTarget,$=$.listener,fe!==C&&S.isPropagationStopped())break e;C=$,S.currentTarget=De;try{C(S)}catch(Ve){_c(Ve)}S.currentTarget=null,C=fe}}}}function Pn(o,c){var p=c[Cr];p===void 0&&(p=c[Cr]=new Set);var v=o+"__bubble";p.has(v)||(d3(c,o,2,!1),p.add(v))}function vM(o,c,p){var v=0;c&&(v|=4),d3(p,o,v,c)}var g1="_reactListening"+Math.random().toString(36).slice(2);function _M(o){if(!o[g1]){o[g1]=!0,ft.forEach(function(p){p!=="selectionchange"&&(r9.has(p)||vM(p,!1,o),vM(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[g1]||(c[g1]=!0,vM("selectionchange",!1,c))}}function d3(o,c,p,v){switch(k3(c)){case 2:var S=U9;break;case 8:S=O9;break;default:S=OM}p=S.bind(null,c,p,o),S=void 0,!Gp||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(c,p,{capture:!0,passive:S}):o.addEventListener(c,p,!0):S!==void 0?o.addEventListener(c,p,{passive:S}):o.addEventListener(c,p,!1)}function yM(o,c,p,v,S){var C=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var $=v.stateNode.containerInfo;if($===S)break;if(z===4)for(z=v.return;z!==null;){var fe=z.tag;if((fe===3||fe===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;$!==null;){if(z=pe($),z===null)return;if(fe=z.tag,fe===5||fe===6||fe===26||fe===27){v=C=z;continue e}$=$.parentNode}}v=v.return}Cv(function(){var De=C,Ve=Hp(p),Qe=[];e:{var Ne=Sl.get(o);if(Ne!==void 0){var Pe=Pd,It=o;switch(o){case"keypress":if(su(p)===0)break e;case"keydown":case"keyup":Pe=Nv;break;case"focusin":It="focus",Pe=Zp;break;case"focusout":It="blur",Pe=Zp;break;case"beforeblur":case"afterblur":Pe=Zp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=xl;break;case Ua:case $v:case ko:Pe=yx;break;case nm:Pe=iM;break;case"scroll":case"scrollend":Pe=$p;break;case"wheel":Pe=fc;break;case"copy":case"cut":case"paste":Pe=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Yp;break;case"toggle":case"beforetoggle":Pe=zv}var en=(c&4)!==0,Ti=!en&&(o==="scroll"||o==="scrollend"),Se=en?Ne!==null?Ne+"Capture":null:Ne;en=[];for(var me=De,Re;me!==null;){var Ye=me;if(Re=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||Re===null||Se===null||(Ye=au(me,Se),Ye!=null&&en.push(k0(me,Ye,Re))),Ti)break;me=me.return}0<en.length&&(Ne=new Pe(Ne,It,null,p,Ve),Qe.push({event:Ne,listeners:en}))}}if((c&7)===0){e:{if(Ne=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",Ne&&p!==Id&&(It=p.relatedTarget||p.fromElement)&&(pe(It)||It[Mn]))break e;if((Pe||Ne)&&(Ne=Ve.window===Ve?Ve:(Ne=Ve.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Pe?(It=p.relatedTarget||p.toElement,Pe=De,It=It?pe(It):null,It!==null&&(Ti=a(It),en=It.tag,It!==Ti||en!==5&&en!==27&&en!==6)&&(It=null)):(Pe=null,It=De),Pe!==It)){if(en=mx,Ye="onMouseLeave",Se="onMouseEnter",me="mouse",(o==="pointerout"||o==="pointerover")&&(en=Yp,Ye="onPointerLeave",Se="onPointerEnter",me="pointer"),Ti=Pe==null?Ne:Ue(Pe),Re=It==null?Ne:Ue(It),Ne=new en(Ye,me+"leave",Pe,p,Ve),Ne.target=Ti,Ne.relatedTarget=Re,Ye=null,pe(Ve)===De&&(en=new en(Se,me+"enter",It,p,Ve),en.target=Re,en.relatedTarget=Ti,Ye=en),Ti=Ye,Pe&&It)t:{for(en=a9,Se=Pe,me=It,Re=0,Ye=Se;Ye;Ye=en(Ye))Re++;Ye=0;for(var Yt=me;Yt;Yt=en(Yt))Ye++;for(;0<Re-Ye;)Se=en(Se),Re--;for(;0<Ye-Re;)me=en(me),Ye--;for(;Re--;){if(Se===me||me!==null&&Se===me.alternate){en=Se;break t}Se=en(Se),me=en(me)}en=null}else en=null;Pe!==null&&h3(Qe,Ne,Pe,en,!1),It!==null&&Ti!==null&&h3(Qe,Ti,It,en,!0)}}e:{if(Ne=De?Ue(De):window,Pe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ne.type==="file")var li=kv;else if(Fv(Ne))if(jd)li=Dx;else{li=pc;var Gt=$d}else Pe=Ne.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?De&&Od(De.elementType)&&(li=kv):li=Rx;if(li&&(li=li(o,De))){Wp(Qe,li,p,Ve);break e}Gt&&Gt(o,Ne,De),o==="focusout"&&De&&Ne.type==="number"&&De.memoizedProps.value!=null&&dr(Ne,"number",Ne.value)}switch(Gt=De?Ue(De):window,o){case"focusin":(Fv(Gt)||Gt.contentEditable==="true")&&(ff=Gt,em=De,df=null);break;case"focusout":df=em=ff=null;break;case"mousedown":ss=!0;break;case"contextmenu":case"mouseup":case"dragend":ss=!1,tm(Qe,p,Ve);break;case"selectionchange":if(Bx)break;case"keydown":case"keyup":tm(Qe,p,Ve)}var An;if(ou)e:{switch(o){case"compositionstart":var jn="onCompositionStart";break e;case"compositionend":jn="onCompositionEnd";break e;case"compositionupdate":jn="onCompositionUpdate";break e}jn=void 0}else hc?Jp(o,p)&&(jn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(jn="onCompositionStart");jn&&($r&&p.locale!=="ko"&&(hc||jn!=="onCompositionStart"?jn==="onCompositionEnd"&&hc&&(An=jp()):(lc=Ve,Vp="value"in lc?lc.value:lc.textContent,hc=!0)),Gt=v1(De,jn),0<Gt.length&&(jn=new Dv(jn,o,null,p,Ve),Qe.push({event:jn,listeners:Gt}),An?jn.data=An:(An=af(p),An!==null&&(jn.data=An)))),(An=lu?qp(o,p):Tx(o,p))&&(jn=v1(De,"onBeforeInput"),0<jn.length&&(Gt=new Dv("onBeforeInput","beforeinput",null,p,Ve),Qe.push({event:Gt,listeners:jn}),Gt.data=An)),t9(Qe,o,De,p,Ve)}f3(Qe,c)})}function k0(o,c,p){return{instance:o,listener:c,currentTarget:p}}function v1(o,c){for(var p=c+"Capture",v=[];o!==null;){var S=o,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=au(o,p),S!=null&&v.unshift(k0(o,S,C)),S=au(o,c),S!=null&&v.push(k0(o,S,C))),o.tag===3)return v;o=o.return}return[]}function a9(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function h3(o,c,p,v,S){for(var C=c._reactName,z=[];p!==null&&p!==v;){var $=p,fe=$.alternate,De=$.stateNode;if($=$.tag,fe!==null&&fe===v)break;$!==5&&$!==26&&$!==27||De===null||(fe=De,S?(De=au(p,C),De!=null&&z.unshift(k0(p,De,fe))):S||(De=au(p,C),De!=null&&z.push(k0(p,De,fe)))),p=p.return}z.length!==0&&o.push({event:c,listeners:z})}var s9=/\r\n?/g,o9=/\u0000|\uFFFD/g;function p3(o){return(typeof o=="string"?o:""+o).replace(s9,`
`).replace(o9,"")}function m3(o,c){return c=p3(c),p3(o)===c}function Mi(o,c,p,v,S,C){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||iu(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&iu(o,""+v);break;case"className":ii(o,"class",v);break;case"tabIndex":ii(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(o,p,v);break;case"style":Mv(o,v,C);break;case"data":if(c!=="object"){ii(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Nd(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(c!=="input"&&Mi(o,c,"name",S.name,S,null),Mi(o,c,"formEncType",S.formEncType,S,null),Mi(o,c,"formMethod",S.formMethod,S,null),Mi(o,c,"formTarget",S.formTarget,S,null)):(Mi(o,c,"encType",S.encType,S,null),Mi(o,c,"method",S.method,S,null),Mi(o,c,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Nd(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=Fo);break;case"onScroll":v!=null&&Pn("scroll",o);break;case"onScrollEnd":v!=null&&Pn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Nd(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Pn("beforetoggle",o),Pn("toggle",o),pi(o,"popover",v);break;case"xlinkActuate":bn(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":bn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":bn(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":bn(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":bn(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":bn(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":bn(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":bn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":bn(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":pi(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=hx.get(p)||p,pi(o,p,v))}}function xM(o,c,p,v,S,C){switch(p){case"style":Mv(o,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?iu(o,v):(typeof v=="number"||typeof v=="bigint")&&iu(o,""+v);break;case"onScroll":v!=null&&Pn("scroll",o);break;case"onScrollEnd":v!=null&&Pn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wt.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),c=p.slice(2,S?p.length-7:void 0),C=o[un]||null,C=C!=null?C[p]:null,typeof C=="function"&&o.removeEventListener(c,C,S),typeof v=="function")){typeof C!="function"&&C!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,S);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):pi(o,p,v)}}}function wa(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pn("error",o),Pn("load",o);var v=!1,S=!1,C;for(C in p)if(p.hasOwnProperty(C)){var z=p[C];if(z!=null)switch(C){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Mi(o,c,C,z,p,null)}}S&&Mi(o,c,"srcSet",p.srcSet,p,null),v&&Mi(o,c,"src",p.src,p,null);return;case"input":Pn("invalid",o);var $=C=z=S=null,fe=null,De=null;for(v in p)if(p.hasOwnProperty(v)){var Ve=p[v];if(Ve!=null)switch(v){case"name":S=Ve;break;case"type":z=Ve;break;case"checked":fe=Ve;break;case"defaultChecked":De=Ve;break;case"value":C=Ve;break;case"defaultValue":$=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,c));break;default:Mi(o,c,v,Ve,p,null)}}ra(o,C,$,fe,De,z,S,!1);return;case"select":Pn("invalid",o),v=z=C=null;for(S in p)if(p.hasOwnProperty(S)&&($=p[S],$!=null))switch(S){case"value":C=$;break;case"defaultValue":z=$;break;case"multiple":v=$;default:Mi(o,c,S,$,p,null)}c=C,p=z,o.multiple=!!v,c!=null?Qi(o,!!v,c,!1):p!=null&&Qi(o,!!v,p,!0);return;case"textarea":Pn("invalid",o),C=S=v=null;for(z in p)if(p.hasOwnProperty(z)&&($=p[z],$!=null))switch(z){case"value":v=$;break;case"defaultValue":S=$;break;case"children":C=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Mi(o,c,z,$,p,null)}xa(o,v,S,C);return;case"option":for(fe in p)p.hasOwnProperty(fe)&&(v=p[fe],v!=null)&&(fe==="selected"?o.selected=v&&typeof v!="function"&&typeof v!="symbol":Mi(o,c,fe,v,p,null));return;case"dialog":Pn("beforetoggle",o),Pn("toggle",o),Pn("cancel",o),Pn("close",o);break;case"iframe":case"object":Pn("load",o);break;case"video":case"audio":for(v=0;v<H0.length;v++)Pn(H0[v],o);break;case"image":Pn("error",o),Pn("load",o);break;case"details":Pn("toggle",o);break;case"embed":case"source":case"link":Pn("error",o),Pn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in p)if(p.hasOwnProperty(De)&&(v=p[De],v!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Mi(o,c,De,v,p,null)}return;default:if(Od(c)){for(Ve in p)p.hasOwnProperty(Ve)&&(v=p[Ve],v!==void 0&&xM(o,c,Ve,v,p,void 0));return}}for($ in p)p.hasOwnProperty($)&&(v=p[$],v!=null&&Mi(o,c,$,v,p,null))}function l9(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,z=null,$=null,fe=null,De=null,Ve=null;for(Pe in p){var Qe=p[Pe];if(p.hasOwnProperty(Pe)&&Qe!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":fe=Qe;default:v.hasOwnProperty(Pe)||Mi(o,c,Pe,null,v,Qe)}}for(var Ne in v){var Pe=v[Ne];if(Qe=p[Ne],v.hasOwnProperty(Ne)&&(Pe!=null||Qe!=null))switch(Ne){case"type":C=Pe;break;case"name":S=Pe;break;case"checked":De=Pe;break;case"defaultChecked":Ve=Pe;break;case"value":z=Pe;break;case"defaultValue":$=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,c));break;default:Pe!==Qe&&Mi(o,c,Ne,Pe,v,Qe)}}Vr(o,z,$,fe,De,Ve,C,S);return;case"select":Pe=z=$=Ne=null;for(C in p)if(fe=p[C],p.hasOwnProperty(C)&&fe!=null)switch(C){case"value":break;case"multiple":Pe=fe;default:v.hasOwnProperty(C)||Mi(o,c,C,null,v,fe)}for(S in v)if(C=v[S],fe=p[S],v.hasOwnProperty(S)&&(C!=null||fe!=null))switch(S){case"value":Ne=C;break;case"defaultValue":$=C;break;case"multiple":z=C;default:C!==fe&&Mi(o,c,S,C,v,fe)}c=$,p=z,v=Pe,Ne!=null?Qi(o,!!p,Ne,!1):!!v!=!!p&&(c!=null?Qi(o,!!p,c,!0):Qi(o,!!p,p?[]:"",!1));return;case"textarea":Pe=Ne=null;for($ in p)if(S=p[$],p.hasOwnProperty($)&&S!=null&&!v.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Mi(o,c,$,null,v,S)}for(z in v)if(S=v[z],C=p[z],v.hasOwnProperty(z)&&(S!=null||C!=null))switch(z){case"value":Ne=S;break;case"defaultValue":Pe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==C&&Mi(o,c,z,S,v,C)}nu(o,Ne,Pe);return;case"option":for(var It in p)Ne=p[It],p.hasOwnProperty(It)&&Ne!=null&&!v.hasOwnProperty(It)&&(It==="selected"?o.selected=!1:Mi(o,c,It,null,v,Ne));for(fe in v)Ne=v[fe],Pe=p[fe],v.hasOwnProperty(fe)&&Ne!==Pe&&(Ne!=null||Pe!=null)&&(fe==="selected"?o.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol":Mi(o,c,fe,Ne,v,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var en in p)Ne=p[en],p.hasOwnProperty(en)&&Ne!=null&&!v.hasOwnProperty(en)&&Mi(o,c,en,null,v,Ne);for(De in v)if(Ne=v[De],Pe=p[De],v.hasOwnProperty(De)&&Ne!==Pe&&(Ne!=null||Pe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,c));break;default:Mi(o,c,De,Ne,v,Pe)}return;default:if(Od(c)){for(var Ti in p)Ne=p[Ti],p.hasOwnProperty(Ti)&&Ne!==void 0&&!v.hasOwnProperty(Ti)&&xM(o,c,Ti,void 0,v,Ne);for(Ve in v)Ne=v[Ve],Pe=p[Ve],!v.hasOwnProperty(Ve)||Ne===Pe||Ne===void 0&&Pe===void 0||xM(o,c,Ve,Ne,v,Pe);return}}for(var Se in p)Ne=p[Se],p.hasOwnProperty(Se)&&Ne!=null&&!v.hasOwnProperty(Se)&&Mi(o,c,Se,null,v,Ne);for(Qe in v)Ne=v[Qe],Pe=p[Qe],!v.hasOwnProperty(Qe)||Ne===Pe||Ne==null&&Pe==null||Mi(o,c,Qe,Ne,v,Pe)}function g3(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c9(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var S=p[v],C=S.transferSize,z=S.initiatorType,$=S.duration;if(C&&$&&g3(z)){for(z=0,$=S.responseEnd,v+=1;v<p.length;v++){var fe=p[v],De=fe.startTime;if(De>$)break;var Ve=fe.transferSize,Qe=fe.initiatorType;Ve&&g3(Qe)&&(fe=fe.responseEnd,z+=Ve*(fe<$?1:($-De)/(fe-De)))}if(--v,c+=8*(C+z)/(S.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var bM=null,SM=null;function _1(o){return o.nodeType===9?o:o.ownerDocument}function v3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _3(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function AM(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var EM=null;function u9(){var o=window.event;return o&&o.type==="popstate"?o===EM?!1:(EM=o,!0):(EM=null,!1)}var y3=typeof setTimeout=="function"?setTimeout:void 0,f9=typeof clearTimeout=="function"?clearTimeout:void 0,x3=typeof Promise=="function"?Promise:void 0,d9=typeof queueMicrotask=="function"?queueMicrotask:typeof x3<"u"?function(o){return x3.resolve(null).then(o).catch(h9)}:y3;function h9(o){setTimeout(function(){throw o})}function zf(o){return o==="head"}function b3(o,c){var p=c,v=0;do{var S=p.nextSibling;if(o.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(S),jm(c);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")G0(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,G0(p);for(var C=p.firstChild;C;){var z=C.nextSibling,$=C.nodeName;C[_i]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=z}}else p==="body"&&G0(o.ownerDocument.body);p=S}while(p);jm(c)}function S3(o,c){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function MM(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":MM(p),j(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function p9(o,c,p,v){for(;o.nodeType===1;){var S=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[_i])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=nl(o.nextSibling),o===null)break}return null}function m9(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=nl(o.nextSibling),o===null))return null;return o}function A3(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=nl(o.nextSibling),o===null))return null;return o}function TM(o){return o.data==="$?"||o.data==="$~"}function CM(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function g9(o,c){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||p.readyState!=="loading")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function nl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var wM=null;function E3(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(c===0)return nl(o.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}o=o.nextSibling}return null}function M3(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return o;c--}else p!=="/$"&&p!=="/&"||c++}o=o.previousSibling}return null}function T3(o,c,p){switch(c=_1(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function G0(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);j(o)}var il=new Map,C3=new Set;function y1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Bu=q.d;q.d={f:v9,r:_9,D:y9,C:x9,L:b9,m:S9,X:E9,S:A9,M:M9};function v9(){var o=Bu.f(),c=Y();return o||c}function _9(o){var c=Ae(o);c!==null&&c.tag===5&&c.type==="form"?B0(c):Bu.r(o)}var km=typeof document>"u"?null:document;function w3(o,c,p){var v=km;if(v&&typeof c=="string"&&c){var S=wn(c);S='link[rel="'+o+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),C3.has(S)||(C3.add(S),o={rel:o,crossOrigin:p,href:c},v.querySelector(S)===null&&(c=v.createElement("link"),wa(c,"link",o),ke(c),v.head.appendChild(c)))}}function y9(o){Bu.D(o),w3("dns-prefetch",o,null)}function x9(o,c){Bu.C(o,c),w3("preconnect",o,c)}function b9(o,c,p){Bu.L(o,c,p);var v=km;if(v&&o&&c){var S='link[rel="preload"][as="'+wn(c)+'"]';c==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+wn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+wn(p.imageSizes)+'"]')):S+='[href="'+wn(o)+'"]';var C=S;switch(c){case"style":C=Gm(o);break;case"script":C=Vm(o)}il.has(C)||(o=g({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),il.set(C,o),v.querySelector(S)!==null||c==="style"&&v.querySelector(V0(C))||c==="script"&&v.querySelector(j0(C))||(c=v.createElement("link"),wa(c,"link",o),ke(c),v.head.appendChild(c)))}}function S9(o,c){Bu.m(o,c);var p=km;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+wn(v)+'"][href="'+wn(o)+'"]',C=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Vm(o)}if(!il.has(C)&&(o=g({rel:"modulepreload",href:o},c),il.set(C,o),p.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(j0(C)))return}v=p.createElement("link"),wa(v,"link",o),ke(v),p.head.appendChild(v)}}}function A9(o,c,p){Bu.S(o,c,p);var v=km;if(v&&o){var S=ge(v).hoistableStyles,C=Gm(o);c=c||"default";var z=S.get(C);if(!z){var $={loading:0,preload:null};if(z=v.querySelector(V0(C)))$.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},p),(p=il.get(C))&&RM(o,p);var fe=z=v.createElement("link");ke(fe),wa(fe,"link",o),fe._p=new Promise(function(De,Ve){fe.onload=De,fe.onerror=Ve}),fe.addEventListener("load",function(){$.loading|=1}),fe.addEventListener("error",function(){$.loading|=2}),$.loading|=4,x1(z,c,v)}z={type:"stylesheet",instance:z,count:1,state:$},S.set(C,z)}}}function E9(o,c){Bu.X(o,c);var p=km;if(p&&o){var v=ge(p).hoistableScripts,S=Vm(o),C=v.get(S);C||(C=p.querySelector(j0(S)),C||(o=g({src:o,async:!0},c),(c=il.get(S))&&DM(o,c),C=p.createElement("script"),ke(C),wa(C,"link",o),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function M9(o,c){Bu.M(o,c);var p=km;if(p&&o){var v=ge(p).hoistableScripts,S=Vm(o),C=v.get(S);C||(C=p.querySelector(j0(S)),C||(o=g({src:o,async:!0,type:"module"},c),(c=il.get(S))&&DM(o,c),C=p.createElement("script"),ke(C),wa(C,"link",o),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function R3(o,c,p,v){var S=(S=_e.current)?y1(S):null;if(!S)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Gm(p.href),p=ge(S).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Gm(p.href);var C=ge(S).hoistableStyles,z=C.get(o);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,z),(C=S.querySelector(V0(o)))&&!C._p&&(z.instance=C,z.state.loading=5),il.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},il.set(o,p),C||T9(S,o,p,z.state))),c&&v===null)throw Error(r(528,""));return z}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Vm(p),p=ge(S).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Gm(o){return'href="'+wn(o)+'"'}function V0(o){return'link[rel="stylesheet"]['+o+"]"}function D3(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function T9(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),wa(c,"link",p),ke(c),o.head.appendChild(c))}function Vm(o){return'[src="'+wn(o)+'"]'}function j0(o){return"script[async]"+o}function B3(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+wn(p.href)+'"]');if(v)return c.instance=v,ke(v),v;var S=g({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),ke(v),wa(v,"style",S),x1(v,p.precedence,o),c.instance=v;case"stylesheet":S=Gm(p.href);var C=o.querySelector(V0(S));if(C)return c.state.loading|=4,c.instance=C,ke(C),C;v=D3(p),(S=il.get(S))&&RM(v,S),C=(o.ownerDocument||o).createElement("link"),ke(C);var z=C;return z._p=new Promise(function($,fe){z.onload=$,z.onerror=fe}),wa(C,"link",v),c.state.loading|=4,x1(C,p.precedence,o),c.instance=C;case"script":return C=Vm(p.src),(S=o.querySelector(j0(C)))?(c.instance=S,ke(S),S):(v=p,(S=il.get(C))&&(v=g({},p),DM(v,S)),o=o.ownerDocument||o,S=o.createElement("script"),ke(S),wa(S,"link",v),o.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,x1(v,p.precedence,o));return c.instance}function x1(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,C=S,z=0;z<v.length;z++){var $=v[z];if($.dataset.precedence===c)C=$;else if(C!==S)break}C?C.parentNode.insertBefore(o,C.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function RM(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function DM(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var b1=null;function U3(o,c,p){if(b1===null){var v=new Map,S=b1=new Map;S.set(p,v)}else S=b1,v=S.get(p),v||(v=new Map,S.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),S=0;S<p.length;S++){var C=p[S];if(!(C[_i]||C[Ot]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var z=C.getAttribute(c)||"";z=o+z;var $=v.get(z);$?$.push(C):v.set(z,[C])}}return v}function O3(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function C9(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(o=c.disabled,typeof c.precedence=="string"&&o==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function N3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function w9(o,c,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=Gm(v.href),C=c.querySelector(V0(S));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=S1.bind(o),c.then(o,o)),p.state.loading|=4,p.instance=C,ke(C);return}C=c.ownerDocument||c,v=D3(v),(S=il.get(S))&&RM(v,S),C=C.createElement("link"),ke(C);var z=C;z._p=new Promise(function($,fe){z.onload=$,z.onerror=fe}),wa(C,"link",v),p.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=S1.bind(o),c.addEventListener("load",p),c.addEventListener("error",p))}}var BM=0;function R9(o,c){return o.stylesheets&&o.count===0&&E1(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&E1(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+c);0<o.imgBytes&&BM===0&&(BM=62500*c9());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&E1(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>BM?50:800)+c);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function S1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)E1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var A1=null;function E1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,A1=new Map,c.forEach(D9,o),A1=null,S1.call(o))}function D9(o,c){if(!(c.state.loading&4)){var p=A1.get(o);if(p)var v=p.get(null);else{p=new Map,A1.set(o,p);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var z=S[C];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(p.set(z.dataset.precedence,z),v=z)}v&&p.set(null,v)}S=c.instance,z=S.getAttribute("data-precedence"),C=p.get(z)||v,C===v&&p.set(null,S),p.set(z,S),this.count++,v=S1.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),C?C.parentNode.insertBefore(S,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),c.state.loading|=4}}var $0={$$typeof:B,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function B9(o,c,p,v,S,C,z,$,fe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function I3(o,c,p,v,S,C,z,$,fe,De,Ve,Qe){return o=new B9(o,c,p,z,fe,De,Ve,Qe,$),c=1,C===!0&&(c|=24),C=Sa(3,null,null,c),o.current=C,C.stateNode=o,c=Qv(),c.refCount++,o.pooledCache=c,c.refCount++,C.memoizedState={element:v,isDehydrated:p,cache:c},a0(C),o}function z3(o){return o?(o=bc,o):bc}function L3(o,c,p,v,S,C){S=z3(S),v.context===null?v.context=S:v.pendingContext=S,v=Zo(c),v.payload={element:p},C=C===void 0?null:C,C!==null&&(v.callback=C),p=Dl(o,v,c),p!==null&&(h(p,o,c),Rc(p,o,c))}function P3(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function UM(o,c){P3(o,c),(o=o.alternate)&&P3(o,c)}function F3(o){if(o.tag===13||o.tag===31){var c=xc(o,67108864);c!==null&&h(c,o,67108864),UM(o,67108864)}}function H3(o){if(o.tag===13||o.tag===31){var c=Ca();c=jt(c);var p=xc(o,c);p!==null&&h(p,o,c),UM(o,c)}}var M1=!0;function U9(o,c,p,v){var S=V.T;V.T=null;var C=q.p;try{q.p=2,OM(o,c,p,v)}finally{q.p=C,V.T=S}}function O9(o,c,p,v){var S=V.T;V.T=null;var C=q.p;try{q.p=8,OM(o,c,p,v)}finally{q.p=C,V.T=S}}function OM(o,c,p,v){if(M1){var S=NM(v);if(S===null)yM(o,c,v,T1,p),G3(o,v);else if(I9(S,o,c,p,v))v.stopPropagation();else if(G3(o,v),c&4&&-1<N9.indexOf(o)){for(;S!==null;){var C=Ae(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var z=qe(C.pendingLanes);if(z!==0){var $=C;for($.pendingLanes|=2,$.entangledLanes|=2;z;){var fe=1<<31-se(z);$.entanglements[1]|=fe,z&=~fe}Pc(C),(Gn&6)===0&&(xs=H()+500,F0(0))}}break;case 31:case 13:$=xc(C,2),$!==null&&h($,C,2),Y(),UM(C,2)}if(C=NM(v),C===null&&yM(o,c,v,T1,p),C===S)break;S=C}S!==null&&v.stopPropagation()}else yM(o,c,v,null,p)}}function NM(o){return o=Hp(o),IM(o)}var T1=null;function IM(o){if(T1=null,o=pe(o),o!==null){var c=a(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=s(c),o!==null)return o;o=null}else if(p===31){if(o=l(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return T1=o,null}function k3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case oe:return 2;case ye:return 8;case xe:case at:return 32;case Je:return 268435456;default:return 32}default:return 32}}var zM=!1,Lf=null,Pf=null,Ff=null,X0=new Map,Z0=new Map,Hf=[],N9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G3(o,c){switch(o){case"focusin":case"focusout":Lf=null;break;case"dragenter":case"dragleave":Pf=null;break;case"mouseover":case"mouseout":Ff=null;break;case"pointerover":case"pointerout":X0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Z0.delete(c.pointerId)}}function Y0(o,c,p,v,S,C){return o===null||o.nativeEvent!==C?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},c!==null&&(c=Ae(c),c!==null&&F3(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),o)}function I9(o,c,p,v,S){switch(c){case"focusin":return Lf=Y0(Lf,o,c,p,v,S),!0;case"dragenter":return Pf=Y0(Pf,o,c,p,v,S),!0;case"mouseover":return Ff=Y0(Ff,o,c,p,v,S),!0;case"pointerover":var C=S.pointerId;return X0.set(C,Y0(X0.get(C)||null,o,c,p,v,S)),!0;case"gotpointercapture":return C=S.pointerId,Z0.set(C,Y0(Z0.get(C)||null,o,c,p,v,S)),!0}return!1}function V3(o){var c=pe(o.target);if(c!==null){var p=a(c);if(p!==null){if(c=p.tag,c===13){if(c=s(p),c!==null){o.blockedOn=c,In(o.priority,function(){H3(p)});return}}else if(c===31){if(c=l(p),c!==null){o.blockedOn=c,In(o.priority,function(){H3(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function C1(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=NM(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);Id=v,p.target.dispatchEvent(v),Id=null}else return c=Ae(p),c!==null&&F3(c),o.blockedOn=p,!1;c.shift()}return!0}function j3(o,c,p){C1(o)&&p.delete(c)}function z9(){zM=!1,Lf!==null&&C1(Lf)&&(Lf=null),Pf!==null&&C1(Pf)&&(Pf=null),Ff!==null&&C1(Ff)&&(Ff=null),X0.forEach(j3),Z0.forEach(j3)}function w1(o,c){o.blockedOn===c&&(o.blockedOn=null,zM||(zM=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,z9)))}var R1=null;function $3(o){R1!==o&&(R1=o,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){R1===o&&(R1=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],S=o[c+2];if(typeof v!="function"){if(IM(v||p)===null)continue;break}var C=Ae(p);C!==null&&(o.splice(c,3),c-=3,D0(C,{pending:!0,data:S,method:p.method,action:v},v,S))}}))}function jm(o){function c(fe){return w1(fe,o)}Lf!==null&&w1(Lf,o),Pf!==null&&w1(Pf,o),Ff!==null&&w1(Ff,o),X0.forEach(c),Z0.forEach(c);for(var p=0;p<Hf.length;p++){var v=Hf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Hf.length&&(p=Hf[0],p.blockedOn===null);)V3(p),p.blockedOn===null&&Hf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var S=p[v],C=p[v+1],z=S[un]||null;if(typeof C=="function")z||$3(p);else if(z){var $=null;if(C&&C.hasAttribute("formAction")){if(S=C,z=C[un]||null)$=z.formAction;else if(IM(S)!==null)continue}else $=z.action;typeof $=="function"?p[v+1]=$:(p.splice(v,3),v-=3),$3(p)}}}function X3(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function c(){S!==null&&(S(),S=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),S!==null&&(S(),S=null)}}}function LM(o){this._internalRoot=o}D1.prototype.render=LM.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,v=Ca();L3(p,v,o,c,null,null)},D1.prototype.unmount=LM.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;L3(o.current,2,null,o,null,null),Y(),c[Mn]=null}};function D1(o){this._internalRoot=o}D1.prototype.unstable_scheduleHydration=function(o){if(o){var c=Wt();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Hf.length&&c!==0&&c<Hf[p].priority;p++);Hf.splice(p,0,o),p===0&&V3(o)}};var Z3=e.version;if(Z3!=="19.2.3")throw Error(r(527,Z3,"19.2.3"));q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var L9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var B1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!B1.isDisabled&&B1.supportsFiber)try{Ke=B1.inject(L9),tt=B1}catch{}}return q0.createRoot=function(o,c){if(!n(o))throw Error(r(299));var p=!1,v="",S=N0,C=c1,z=Cm;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=I3(o,1,!1,null,null,p,v,null,S,C,z,X3),o[Mn]=c.current,_M(o),new LM(c)},q0.hydrateRoot=function(o,c,p){if(!n(o))throw Error(r(299));var v=!1,S="",C=N0,z=c1,$=Cm,fe=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(z=p.onCaughtError),p.onRecoverableError!==void 0&&($=p.onRecoverableError),p.formState!==void 0&&(fe=p.formState)),c=I3(o,1,!0,c,p??null,v,S,fe,C,z,$,X3),c.context=z3(null),p=c.current,v=Ca(),v=jt(v),S=Zo(v),S.callback=null,Dl(p,S,v),p=v,c.current.lanes=p,Ct(c,p),Pc(c),o[Mn]=c.current,_M(o),new D1(c)},q0.version="19.2.3",q0}var iB;function Z9(){if(iB)return HM.exports;iB=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),HM.exports=X9(),HM.exports}var Y9=Z9(),W4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rB=ar.createContext&&ar.createContext(W4),J9=["attr","size","title"];function q9(i,e){if(i==null)return{};var t=W9(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function W9(i,e){if(i==null)return{};var t={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;t[r]=i[r]}return t}function cS(){return cS=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},cS.apply(this,arguments)}function aB(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function uS(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(t),!0).forEach(function(r){K9(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):aB(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function K9(i,e,t){return e=Q9(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Q9(i){var e=ek(i,"string");return typeof e=="symbol"?e:e+""}function ek(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function K4(i){return i&&i.map((e,t)=>ar.createElement(e.tag,uS({key:t},e.attr),K4(e.child)))}function ic(i){return e=>ar.createElement(tk,cS({attr:uS({},i.attr)},e),K4(i.child))}function tk(i){var e=t=>{var{attr:r,size:n,title:a}=i,s=q9(i,J9),l=n||t.size||"1em",f;return t.className&&(f=t.className),i.className&&(f=(f?f+" ":"")+i.className),ar.createElement("svg",cS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:f,style:uS(uS({color:i.color||t.color},t.style),i.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&ar.createElement("title",null,a),i.children)};return rB!==void 0?ar.createElement(rB.Consumer,null,t=>e(t)):e(W4)}function nk(i){return ic({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(i)}const ik=[{name:"Work",link:"#work"},{name:"Experience",link:"#experience"},{name:"Skills",link:"#skills"},{name:"Contact",link:"#contact"}],rk=[{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"},{text:"Ideas",imgPath:"/images/ideas.svg"},{text:"Concepts",imgPath:"/images/concepts.svg"},{text:"Designs",imgPath:"/images/designs.svg"},{text:"Code",imgPath:"/images/code.svg"}],ak=[{value:1,suffix:"+",label:"Years of Experience"},{value:20,suffix:"+",label:"Real Projects Developed"},{value:1e3,suffix:"+",label:"Hours Spent Solving Problems"},{value:10,suffix:"+",label:"Core Skills (React, Next, TS, Sass...)"}],sk=[{imgPath:"/images/seo.png",title:"Quality Focus",desc:"Delivering high-quality results while maintaining attention to every detail."},{imgPath:"/images/chat.png",title:"Reliable Communication",desc:"Keeping you updated at every step to ensure transparency and clarity."},{imgPath:"/images/increase.png",title:"Continuous Improvement",desc:"I strive every day to improve my skills, stay updated with the latest technologies, and never give up easily."}],ok=[{name:"REACT",modelPath:"/models/react_logo-transformed.glb",scale:1,rotation:[0,0,0]},{name:"NEXT",modelPath:"/models/nextjs_3d_logo.glb",scale:2,rotation:[0,0,0]},{name:"JAVASCRIPT",modelPath:"/models/node-transformed.glb",scale:5,rotation:[0,-Math.PI/2,0]},{name:"THREE.js",modelPath:"/models/three.js-transformed.glb",scale:.05,rotation:[0,0,0]},{name:"GIT",modelPath:"/models/git-svg-transformed.glb",scale:.05,rotation:[0,-Math.PI/4,0]}],sB=[{imgPath:"/i-s/icon1.svg"},{imgPath:"/i-s/icon2.png"},{imgPath:"/i-s/icon10.svg"},{imgPath:"/i-s/icon11.png"},{imgPath:"/i-s/icon12.svg"},{imgPath:"/i-s/icon3.svg"},{imgPath:"/i-s/icon4.svg"},{imgPath:"/i-s/icon5.svg"},{imgPath:"/i-s/icon6.svg"},{imgPath:"/i-s/icon7.svg"},{imgPath:"/public/i-s/icon8.svg"},{imgPath:"/i-s/icon9.png"}],lk=[{review:"Frontend-focused developer with strong experience in React and Next.js. Specialized in building dynamic, high-performance web applications and transforming designs into clean, scalable UI components.",imgPath:"/images/logo.webp",logoPath:"/images/logo.webp",title:"React & Next.js Developer",date:"Jan 2023  Present",strengths:["Scalable React Architecture","Performance Optimization","Reusable UI Components","API Integration & Auth Flows","Responsive & Accessible UI"],techStack:["React","Next.js","TypeScript","Tailwind CSS","Firebase","Git"],responsibilities:["Developed and maintained production-ready web applications using React.js and Next.js.","Converted static websites into fully dynamic platforms with improved UI/UX and animations.","Built a full Content Management Dashboard (CMS) for managing services, projects, and media.","Implemented authentication, API integrations, and data validation.","Optimized application performance and responsiveness across devices."]}],ck=()=>{const[i,e]=ot.useState(!1);return ot.useEffect(()=>{const t=()=>{const r=window.scrollY>10;e(r)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),ne.jsx("header",{className:`navbar ${i?"scrolled":"not-scrolled"}`,children:ne.jsxs("div",{className:"inner",children:[ne.jsx("a",{href:"#hero",className:"logo",children:"A M R I M A M"}),ne.jsx("nav",{className:"desktop",children:ne.jsx("ul",{className:"",children:ik.map((t,r)=>ne.jsx("li",{className:"group",children:ne.jsxs("a",{href:t.link,children:[ne.jsx("span",{children:t.name}),ne.jsx("span",{className:"underline"})]})},r))})}),ne.jsxs("div",{className:"flex items-center",children:[ne.jsx("a",{href:"https://wa.me/201065621168",target:"_blank",rel:"noopener noreferrer",className:`contact-btn relative overflow-hidden px-2 py-1 rounded-lg \r
                      text-black bg-white hover:text-white hover:bg-[#1A1A1D] border hover:border-white/50 transition-all duration-300`,children:ne.jsx("span",{children:"Contact me"})}),ne.jsxs("a",{href:"/images/EMAM.pdf",className:`px-3 py-1 ms-2 rounded-lg border border-white/40 \r
             text-white flex items-center gap-2 hover:border-white/70 transition-colors`,children:[ne.jsx("span",{className:"uppercase tracking-wider",children:"Resume"}),ne.jsx(nk,{className:"text-sm"})]})]})]})})};function Hu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Q4(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var Ro={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Pg={duration:.5,overwrite:!1,delay:0},DC,Da,Ji,ul=1e8,Ii=1/ul,T2=Math.PI*2,uk=T2/4,fk=0,eN=Math.sqrt,dk=Math.cos,hk=Math.sin,ya=function(e){return typeof e=="string"},vr=function(e){return typeof e=="function"},Wu=function(e){return typeof e=="number"},BC=function(e){return typeof e>"u"},Kc=function(e){return typeof e=="object"},Ks=function(e){return e!==!1},UC=function(){return typeof window<"u"},U1=function(e){return vr(e)||ya(e)},tN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Qa=Array.isArray,pk=/random\([^)]+\)/g,mk=/,\s*/g,oB=/(?:-?\.?\d|\.)+/gi,nN=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Eg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,jM=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,iN=/[+-]=-?[.\d]+/,gk=/[^,'"\[\]\s]+/gi,vk=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,lr,kc,C2,OC,Bo={},fS={},rN,aN=function(e){return(fS=Fg(e,Bo))&&no},NC=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ey=function(e,t){return!t&&console.warn(e)},sN=function(e,t){return e&&(Bo[e]=t)&&fS&&(fS[e]=t)||Bo},ty=function(){return 0},_k={suppressEvents:!0,isStart:!0,kill:!1},Jb={suppressEvents:!0,kill:!1},yk={suppressEvents:!0},IC={},ld=[],w2={},oN,yo={},$M={},lB=30,qb=[],zC="",LC=function(e){var t=e[0],r,n;if(Kc(t)||vr(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(n=qb.length;n--&&!qb[n].targetTest(t););r=qb[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new BN(e[n],r)))||e.splice(n,1);return e},rp=function(e){return e._gsap||LC(fl(e))[0]._gsap},lN=function(e,t,r){return(r=e[t])&&vr(r)?e[t]():BC(r)&&e.getAttribute&&e.getAttribute(t)||r},Qs=function(e,t){return(e=e.split(",")).forEach(t)||e},Er=function(e){return Math.round(e*1e5)/1e5||0},or=function(e){return Math.round(e*1e7)/1e7||0},Rg=function(e,t){var r=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+n:r==="-"?e-n:r==="*"?e*n:e/n},xk=function(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r},dS=function(){var e=ld.length,t=ld.slice(0),r,n;for(w2={},ld.length=0,r=0;r<e;r++)n=t[r],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},PC=function(e){return!!(e._initted||e._startAt||e.add)},cN=function(e,t,r,n){ld.length&&!Da&&dS(),e.render(t,r,!!(Da&&t<0&&PC(e))),ld.length&&!Da&&dS()},uN=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(gk).length<2?t:ya(e)?e.trim():e},fN=function(e){return e},Uo=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},bk=function(e){return function(t,r){for(var n in r)n in t||n==="duration"&&e||n==="ease"||(t[n]=r[n])}},Fg=function(e,t){for(var r in t)e[r]=t[r];return e},cB=function i(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Kc(t[r])?i(e[r]||(e[r]={}),t[r]):t[r]);return e},hS=function(e,t){var r={},n;for(n in e)n in t||(r[n]=e[n]);return r},w_=function(e){var t=e.parent||lr,r=e.keyframes?bk(Qa(e.keyframes)):Uo;if(Ks(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Sk=function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0},dN=function(e,t,r,n,a){var s=e[n],l;if(a)for(l=t[a];s&&s[a]>l;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=s,t.parent=t._dp=e,t},xA=function(e,t,r,n){r===void 0&&(r="_first"),n===void 0&&(n="_last");var a=t._prev,s=t._next;a?a._next=s:e[r]===t&&(e[r]=s),s?s._prev=a:e[n]===t&&(e[n]=a),t._next=t._prev=t.parent=null},md=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ap=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Ak=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},R2=function(e,t,r,n){return e._startAt&&(Da?e._startAt.revert(Jb):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},Ek=function i(e){return!e||e._ts&&i(e.parent)},uB=function(e){return e._repeat?Hg(e._tTime,e=e.duration()+e._rDelay)*e:0},Hg=function(e,t){var r=Math.floor(e=or(e/t));return e&&r===e?r-1:r},pS=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},bA=function(e){return e._end=or(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ii)||0))},SA=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=or(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),bA(e),r._dirty||ap(r,e)),e},hN=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=pS(e.rawTime(),t),(!t._dur||Dy(0,t.totalDuration(),r)-t._tTime>Ii)&&t.render(r,!0)),ap(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ii}},jc=function(e,t,r,n){return t.parent&&md(t),t._start=or((Wu(r)?r:r||e!==lr?sl(e,r,t):e._time)+t._delay),t._end=or(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),dN(e,t,"_first","_last",e._sort?"_start":0),D2(t)||(e._recent=t),n||hN(e,t),e._ts<0&&SA(e,e._tTime),e},pN=function(e,t){return(Bo.ScrollTrigger||NC("scrollTrigger",t))&&Bo.ScrollTrigger.create(t,e)},mN=function(e,t,r,n,a){if(HC(e,t,a),!e._initted)return 1;if(!r&&e._pt&&!Da&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&oN!==bo.frame)return ld.push(e),e._lazy=[a,n],1},Mk=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},D2=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Tk=function(e,t,r,n){var a=e.ratio,s=t<0||!t&&(!e._start&&Mk(e)&&!(!e._initted&&D2(e))||(e._ts<0||e._dp._ts<0)&&!D2(e))?0:1,l=e._rDelay,f=0,d,m,g;if(l&&e._repeat&&(f=Dy(0,e._tDur,t),m=Hg(f,l),e._yoyo&&m&1&&(s=1-s),m!==Hg(e._tTime,l)&&(a=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==a||Da||n||e._zTime===Ii||!t&&e._zTime){if(!e._initted&&mN(e,t,n,r,f))return;for(g=e._zTime,e._zTime=t||(r?Ii:0),r||(r=t&&!g),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=f,d=e._pt;d;)d.r(s,d.d),d=d._next;t<0&&R2(e,t,r,!0),e._onUpdate&&!r&&Eo(e,"onUpdate"),f&&e._repeat&&!r&&e.parent&&Eo(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&md(e,1),!r&&!Da&&(Eo(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Ck=function(e,t,r){var n;if(r>t)for(n=e._first;n&&n._start<=r;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},kg=function(e,t,r,n){var a=e._repeat,s=or(t)||0,l=e._tTime/e._tDur;return l&&!n&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:or(s*(a+1)+e._rDelay*a):s,l>0&&!n&&SA(e,e._tTime=e._tDur*l),e.parent&&bA(e),r||ap(e.parent,e),e},fB=function(e){return e instanceof Os?ap(e):kg(e,e._dur)},wk={_start:0,endTime:ty,totalDuration:ty},sl=function i(e,t,r){var n=e.labels,a=e._recent||wk,s=e.duration()>=ul?a.endTime(!1):e._dur,l,f,d;return ya(t)&&(isNaN(t)||t in n)?(f=t.charAt(0),d=t.substr(-1)==="%",l=t.indexOf("="),f==="<"||f===">"?(l>=0&&(t=t.replace(/=/,"")),(f==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(d?(l<0?a:r).totalDuration()/100:1)):l<0?(t in n||(n[t]=s),n[t]):(f=parseFloat(t.charAt(l-1)+t.substr(l+1)),d&&r&&(f=f/100*(Qa(r)?r[0]:r).totalDuration()),l>1?i(e,t.substr(0,l-1),r)+f:s+f)):t==null?s:+t},R_=function(e,t,r){var n=Wu(t[1]),a=(n?2:1)+(e<2?0:1),s=t[a],l,f;if(n&&(s.duration=t[1]),s.parent=r,e){for(l=s,f=r;f&&!("immediateRender"in l);)l=f.vars.defaults||{},f=Ks(f.vars.inherit)&&f.parent;s.immediateRender=Ks(l.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new Lr(t[0],s,t[a+1])},Td=function(e,t){return e||e===0?t(e):t},Dy=function(e,t,r){return r<e?e:r>t?t:r},qa=function(e,t){return!ya(e)||!(t=vk.exec(e))?"":t[1]},Rk=function(e,t,r){return Td(r,function(n){return Dy(e,t,n)})},B2=[].slice,gN=function(e,t){return e&&Kc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Kc(e[0]))&&!e.nodeType&&e!==kc},Dk=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(n){var a;return ya(n)&&!t||gN(n,1)?(a=r).push.apply(a,fl(n)):r.push(n)})||r},fl=function(e,t,r){return Ji&&!t&&Ji.selector?Ji.selector(e):ya(e)&&!r&&(C2||!Gg())?B2.call((t||OC).querySelectorAll(e),0):Qa(e)?Dk(e,r):gN(e)?B2.call(e,0):e?[e]:[]},U2=function(e){return e=fl(e)[0]||ey("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return fl(t,r.querySelectorAll?r:r===e?ey("Invalid scope")||OC.createElement("div"):e)}},vN=function(e){return e.sort(function(){return .5-Math.random()})},_N=function(e){if(vr(e))return e;var t=Kc(e)?e:{each:e},r=sp(t.ease),n=t.from||0,a=parseFloat(t.base)||0,s={},l=n>0&&n<1,f=isNaN(n)||l,d=t.axis,m=n,g=n;return ya(n)?m=g={center:.5,edges:.5,end:1}[n]||0:!l&&f&&(m=n[0],g=n[1]),function(_,x,b){var M=(b||t).length,T=s[M],A,R,B,D,I,L,P,F,O;if(!T){if(O=t.grid==="auto"?0:(t.grid||[1,ul])[1],!O){for(P=-ul;P<(P=b[O++].getBoundingClientRect().left)&&O<M;);O<M&&O--}for(T=s[M]=[],A=f?Math.min(O,M)*m-.5:n%O,R=O===ul?0:f?M*g/O-.5:n/O|0,P=0,F=ul,L=0;L<M;L++)B=L%O-A,D=R-(L/O|0),T[L]=I=d?Math.abs(d==="y"?D:B):eN(B*B+D*D),I>P&&(P=I),I<F&&(F=I);n==="random"&&vN(T),T.max=P-F,T.min=F,T.v=M=(parseFloat(t.amount)||parseFloat(t.each)*(O>M?M-1:d?d==="y"?M/O:O:Math.max(O,M/O))||0)*(n==="edges"?-1:1),T.b=M<0?a-M:a,T.u=qa(t.amount||t.each)||0,r=r&&M<0?wN(r):r}return M=(T[_]-T.min)/T.max||0,or(T.b+(r?r(M):M)*T.v)+T.u}},O2=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var n=or(Math.round(parseFloat(r)/e)*e*t);return(n-n%1)/t+(Wu(r)?0:qa(r))}},yN=function(e,t){var r=Qa(e),n,a;return!r&&Kc(e)&&(n=r=e.radius||ul,e.values?(e=fl(e.values),(a=!Wu(e[0]))&&(n*=n)):e=O2(e.increment)),Td(t,r?vr(e)?function(s){return a=e(s),Math.abs(a-s)<=n?a:s}:function(s){for(var l=parseFloat(a?s.x:s),f=parseFloat(a?s.y:0),d=ul,m=0,g=e.length,_,x;g--;)a?(_=e[g].x-l,x=e[g].y-f,_=_*_+x*x):_=Math.abs(e[g]-l),_<d&&(d=_,m=g);return m=!n||d<=n?e[m]:s,a||m===s||Wu(s)?m:m+qa(s)}:O2(e))},xN=function(e,t,r,n){return Td(Qa(e)?!t:r===!0?!!(r=0):!n,function(){return Qa(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*n)/n})},Bk=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduce(function(a,s){return s(a)},n)}},Uk=function(e,t){return function(r){return e(parseFloat(r))+(t||qa(r))}},Ok=function(e,t,r){return SN(e,t,0,1,r)},bN=function(e,t,r){return Td(r,function(n){return e[~~t(n)]})},Nk=function i(e,t,r){var n=t-e;return Qa(e)?bN(e,i(0,e.length),t):Td(r,function(a){return(n+(a-e)%n)%n+e})},Ik=function i(e,t,r){var n=t-e,a=n*2;return Qa(e)?bN(e,i(0,e.length-1),t):Td(r,function(s){return s=(a+(s-e)%a)%a||0,e+(s>n?a-s:s)})},ny=function(e){return e.replace(pk,function(t){var r=t.indexOf("[")+1,n=t.substring(r||7,r?t.indexOf("]"):t.length-1).split(mk);return xN(r?n:+n[0],r?0:+n[1],+n[2]||1e-5)})},SN=function(e,t,r,n,a){var s=t-e,l=n-r;return Td(a,function(f){return r+((f-e)/s*l||0)})},zk=function i(e,t,r,n){var a=isNaN(e+t)?0:function(x){return(1-x)*e+x*t};if(!a){var s=ya(e),l={},f,d,m,g,_;if(r===!0&&(n=1)&&(r=null),s)e={p:e},t={p:t};else if(Qa(e)&&!Qa(t)){for(m=[],g=e.length,_=g-2,d=1;d<g;d++)m.push(i(e[d-1],e[d]));g--,a=function(b){b*=g;var M=Math.min(_,~~b);return m[M](b-M)},r=t}else n||(e=Fg(Qa(e)?[]:{},e));if(!m){for(f in t)FC.call(l,e,f,"get",t[f]);a=function(b){return VC(b,l)||(s?e.p:e)}}}return Td(r,a)},dB=function(e,t,r){var n=e.labels,a=ul,s,l,f;for(s in n)l=n[s]-t,l<0==!!r&&l&&a>(l=Math.abs(l))&&(f=s,a=l);return f},Eo=function(e,t,r){var n=e.vars,a=n[t],s=Ji,l=e._ctx,f,d,m;if(a)return f=n[t+"Params"],d=n.callbackScope||e,r&&ld.length&&dS(),l&&(Ji=l),m=f?a.apply(d,f):a.call(d),Ji=s,m},g_=function(e){return md(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Da),e.progress()<1&&Eo(e,"onInterrupt"),e},Mg,AN=[],EN=function(e){if(e)if(e=!e.name&&e.default||e,UC()||e.headless){var t=e.name,r=vr(e),n=t&&!r&&e.init?function(){this._props=[]}:e,a={init:ty,render:VC,add:FC,kill:Kk,modifier:Wk,rawVars:0},s={targetTest:0,get:0,getSetter:GC,aliases:{},register:0};if(Gg(),e!==n){if(yo[t])return;Uo(n,Uo(hS(e,a),s)),Fg(n.prototype,Fg(a,hS(e,s))),yo[n.prop=t]=n,e.targetTest&&(qb.push(n),IC[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}sN(t,n),e.register&&e.register(no,n,eo)}else AN.push(e)},Ni=255,v_={aqua:[0,Ni,Ni],lime:[0,Ni,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ni],navy:[0,0,128],white:[Ni,Ni,Ni],olive:[128,128,0],yellow:[Ni,Ni,0],orange:[Ni,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ni,0,0],pink:[Ni,192,203],cyan:[0,Ni,Ni],transparent:[Ni,Ni,Ni,0]},XM=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Ni+.5|0},MN=function(e,t,r){var n=e?Wu(e)?[e>>16,e>>8&Ni,e&Ni]:0:v_.black,a,s,l,f,d,m,g,_,x,b;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),v_[e])n=v_[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),s=e.charAt(2),l=e.charAt(3),e="#"+a+a+s+s+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&Ni,n&Ni,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&Ni,e&Ni]}else if(e.substr(0,3)==="hsl"){if(n=b=e.match(oB),!t)f=+n[0]%360/360,d=+n[1]/100,m=+n[2]/100,s=m<=.5?m*(d+1):m+d-m*d,a=m*2-s,n.length>3&&(n[3]*=1),n[0]=XM(f+1/3,a,s),n[1]=XM(f,a,s),n[2]=XM(f-1/3,a,s);else if(~e.indexOf("="))return n=e.match(nN),r&&n.length<4&&(n[3]=1),n}else n=e.match(oB)||v_.transparent;n=n.map(Number)}return t&&!b&&(a=n[0]/Ni,s=n[1]/Ni,l=n[2]/Ni,g=Math.max(a,s,l),_=Math.min(a,s,l),m=(g+_)/2,g===_?f=d=0:(x=g-_,d=m>.5?x/(2-g-_):x/(g+_),f=g===a?(s-l)/x+(s<l?6:0):g===s?(l-a)/x+2:(a-s)/x+4,f*=60),n[0]=~~(f+.5),n[1]=~~(d*100+.5),n[2]=~~(m*100+.5)),r&&n.length<4&&(n[3]=1),n},TN=function(e){var t=[],r=[],n=-1;return e.split(cd).forEach(function(a){var s=a.match(Eg)||[];t.push.apply(t,s),r.push(n+=s.length+1)}),t.c=r,t},hB=function(e,t,r){var n="",a=(e+n).match(cd),s=t?"hsla(":"rgba(",l=0,f,d,m,g;if(!a)return e;if(a=a.map(function(_){return(_=MN(_,t,1))&&s+(t?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),r&&(m=TN(e),f=r.c,f.join(n)!==m.c.join(n)))for(d=e.replace(cd,"1").split(Eg),g=d.length-1;l<g;l++)n+=d[l]+(~f.indexOf(l)?a.shift()||s+"0,0,0,0)":(m.length?m:a.length?a:r).shift());if(!d)for(d=e.split(cd),g=d.length-1;l<g;l++)n+=d[l]+a[l];return n+d[g]},cd=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in v_)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),Lk=/hsl[a]?\(/,CN=function(e){var t=e.join(" "),r;if(cd.lastIndex=0,cd.test(t))return r=Lk.test(t),e[1]=hB(e[1],r),e[0]=hB(e[0],r,TN(e[1])),!0},iy,bo=(function(){var i=Date.now,e=500,t=33,r=i(),n=r,a=1e3/240,s=a,l=[],f,d,m,g,_,x,b=function M(T){var A=i()-n,R=T===!0,B,D,I,L;if((A>e||A<0)&&(r+=A-t),n+=A,I=n-r,B=I-s,(B>0||R)&&(L=++g.frame,_=I-g.time*1e3,g.time=I=I/1e3,s+=B+(B>=a?4:a-B),D=1),R||(f=d(M)),D)for(x=0;x<l.length;x++)l[x](I,_,L,T)};return g={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(T){return _/(1e3/(T||60))},wake:function(){rN&&(!C2&&UC()&&(kc=C2=window,OC=kc.document||{},Bo.gsap=no,(kc.gsapVersions||(kc.gsapVersions=[])).push(no.version),aN(fS||kc.GreenSockGlobals||!kc.gsap&&kc||{}),AN.forEach(EN)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,f&&g.sleep(),d=m||function(T){return setTimeout(T,s-g.time*1e3+1|0)},iy=1,b(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(f),iy=0,d=ty},lagSmoothing:function(T,A){e=T||1/0,t=Math.min(A||33,e)},fps:function(T){a=1e3/(T||240),s=g.time*1e3+a},add:function(T,A,R){var B=A?function(D,I,L,P){T(D,I,L,P),g.remove(B)}:T;return g.remove(T),l[R?"unshift":"push"](B),Gg(),B},remove:function(T,A){~(A=l.indexOf(T))&&l.splice(A,1)&&x>=A&&x--},_listeners:l},g})(),Gg=function(){return!iy&&bo.wake()},Kn={},Pk=/^[\d.\-M][\d.\-,\s]/,Fk=/["']/g,Hk=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),n=r[0],a=1,s=r.length,l,f,d;a<s;a++)f=r[a],l=a!==s-1?f.lastIndexOf(","):f.length,d=f.substr(0,l),t[n]=isNaN(d)?d.replace(Fk,"").trim():+d,n=f.substr(l+1).trim();return t},kk=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<r?e.indexOf(")",r+1):r)},Gk=function(e){var t=(e+"").split("("),r=Kn[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Hk(t[1])]:kk(e).split(",").map(uN)):Kn._CE&&Pk.test(e)?Kn._CE("",e):r},wN=function(e){return function(t){return 1-e(1-t)}},RN=function i(e,t){for(var r=e._first,n;r;)r instanceof Os?i(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?i(r.timeline,t):(n=r._ease,r._ease=r._yEase,r._yEase=n,r._yoyo=t)),r=r._next},sp=function(e,t){return e&&(vr(e)?e:Kn[e]||Gk(e))||t},Dp=function(e,t,r,n){r===void 0&&(r=function(f){return 1-t(1-f)}),n===void 0&&(n=function(f){return f<.5?t(f*2)/2:1-t((1-f)*2)/2});var a={easeIn:t,easeOut:r,easeInOut:n},s;return Qs(e,function(l){Kn[l]=Bo[l]=a,Kn[s=l.toLowerCase()]=r;for(var f in a)Kn[s+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=Kn[l+"."+f]=a[f]}),a},DN=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},ZM=function i(e,t,r){var n=t>=1?t:1,a=(r||(e?.3:.45))/(t<1?t:1),s=a/T2*(Math.asin(1/n)||0),l=function(m){return m===1?1:n*Math.pow(2,-10*m)*hk((m-s)*a)+1},f=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:DN(l);return a=T2/a,f.config=function(d,m){return i(e,d,m)},f},YM=function i(e,t){t===void 0&&(t=1.70158);var r=function(s){return s?--s*s*((t+1)*s+t)+1:0},n=e==="out"?r:e==="in"?function(a){return 1-r(1-a)}:DN(r);return n.config=function(a){return i(e,a)},n};Qs("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Dp(i+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Kn.Linear.easeNone=Kn.none=Kn.Linear.easeIn;Dp("Elastic",ZM("in"),ZM("out"),ZM());(function(i,e){var t=1/e,r=2*t,n=2.5*t,a=function(l){return l<t?i*l*l:l<r?i*Math.pow(l-1.5/e,2)+.75:l<n?i*(l-=2.25/e)*l+.9375:i*Math.pow(l-2.625/e,2)+.984375};Dp("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);Dp("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Dp("Circ",function(i){return-(eN(1-i*i)-1)});Dp("Sine",function(i){return i===1?1:-dk(i*uk)+1});Dp("Back",YM("in"),YM("out"),YM());Kn.SteppedEase=Kn.steps=Bo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,n=e+(t?0:1),a=t?1:0,s=1-Ii;return function(l){return((n*Dy(0,s,l)|0)+a)*r}}};Pg.ease=Kn["quad.out"];Qs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return zC+=i+","+i+"Params,"});var BN=function(e,t){this.id=fk++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:lN,this.set=t?t.getSetter:GC},ry=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,kg(this,+t.duration,1,1),this.data=t.data,Ji&&(this._ctx=Ji,Ji.data.push(this)),iy||bo.wake()}var e=i.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,kg(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,n){if(Gg(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(SA(this,r),!a._dp||a.parent||hN(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&jc(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===Ii||!this._initted&&this._dur&&r||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),cN(this,r,n)),this},e.time=function(r,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+uB(this))%(this._dur+this._rDelay)||(r?this._dur:0),n):this._time},e.totalProgress=function(r,n){return arguments.length?this.totalTime(this.totalDuration()*r,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+uB(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,n){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,n):this._repeat?Hg(this._tTime,a)+1:1},e.timeScale=function(r,n){if(!arguments.length)return this._rts===-Ii?0:this._rts;if(this._rts===r)return this;var a=this.parent&&this._ts?pS(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ii?0:this._rts,this.totalTime(Dy(-Math.abs(this._delay),this.totalDuration(),a),n!==!1),bA(this),Ak(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Gg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ii&&(this._tTime-=Ii)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=or(r);var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&jc(n,this,this._start-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Ks(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var n=this.parent||this._dp;return n?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?pS(n.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=yk);var n=Da;return Da=r,PC(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Da=n,this},e.globalTime=function(r){for(var n=this,a=arguments.length?r:n.rawTime();n;)a=n._start+a/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(r):a},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,fB(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var n=this._time;return this._rDelay=r,fB(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,n){return this.totalTime(sl(this,r),Ks(n))},e.restart=function(r,n){return this.play().totalTime(r?-this._delay:0,Ks(n)),this._dur||(this._zTime=-Ii),this},e.play=function(r,n){return r!=null&&this.seek(r,n),this.reversed(!1).paused(!1)},e.reverse=function(r,n){return r!=null&&this.seek(r||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(r,n){return r!=null&&this.seek(r,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ii:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ii,this},e.isActive=function(){var r=this.parent||this._dp,n=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=n&&a<this.endTime(!0)-Ii)},e.eventCallback=function(r,n,a){var s=this.vars;return arguments.length>1?(n?(s[r]=n,a&&(s[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=n)):delete s[r],this):s[r]},e.then=function(r){var n=this,a=n._prom;return new Promise(function(s){var l=vr(r)?r:fN,f=function(){var m=n.then;n.then=null,a&&a(),vr(l)&&(l=l(n))&&(l.then||l===n)&&(n.then=m),s(l),n.then=m};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?f():n._prom=f})},e.kill=function(){g_(this)},i})();Uo(ry.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ii,_prom:0,_ps:!1,_rts:1});var Os=(function(i){Q4(e,i);function e(r,n){var a;return r===void 0&&(r={}),a=i.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=Ks(r.sortChildren),lr&&jc(r.parent||lr,Hu(a),n),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&pN(Hu(a),r.scrollTrigger),a}var t=e.prototype;return t.to=function(n,a,s){return R_(0,arguments,this),this},t.from=function(n,a,s){return R_(1,arguments,this),this},t.fromTo=function(n,a,s,l){return R_(2,arguments,this),this},t.set=function(n,a,s){return a.duration=0,a.parent=this,w_(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Lr(n,a,sl(this,s),1),this},t.call=function(n,a,s){return jc(this,Lr.delayedCall(0,n,a),s)},t.staggerTo=function(n,a,s,l,f,d,m){return s.duration=a,s.stagger=s.stagger||l,s.onComplete=d,s.onCompleteParams=m,s.parent=this,new Lr(n,s,sl(this,f)),this},t.staggerFrom=function(n,a,s,l,f,d,m){return s.runBackwards=1,w_(s).immediateRender=Ks(s.immediateRender),this.staggerTo(n,a,s,l,f,d,m)},t.staggerFromTo=function(n,a,s,l,f,d,m,g){return l.startAt=s,w_(l).immediateRender=Ks(l.immediateRender),this.staggerTo(n,a,l,f,d,m,g)},t.render=function(n,a,s){var l=this._time,f=this._dirty?this.totalDuration():this._tDur,d=this._dur,m=n<=0?0:or(n),g=this._zTime<0!=n<0&&(this._initted||!d),_,x,b,M,T,A,R,B,D,I,L,P;if(this!==lr&&m>f&&n>=0&&(m=f),m!==this._tTime||s||g){if(l!==this._time&&d&&(m+=this._time-l,n+=this._time-l),_=m,D=this._start,B=this._ts,A=!B,g&&(d||(l=this._zTime),(n||!a)&&(this._zTime=n)),this._repeat){if(L=this._yoyo,T=d+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(T*100+n,a,s);if(_=or(m%T),m===f?(M=this._repeat,_=d):(I=or(m/T),M=~~I,M&&M===I&&(_=d,M--),_>d&&(_=d)),I=Hg(this._tTime,T),!l&&this._tTime&&I!==M&&this._tTime-I*T-this._dur<=0&&(I=M),L&&M&1&&(_=d-_,P=1),M!==I&&!this._lock){var F=L&&I&1,O=F===(L&&M&1);if(M<I&&(F=!F),l=F?0:m%d?d:m,this._lock=1,this.render(l||(P?0:or(M*T)),a,!d)._lock=0,this._tTime=m,!a&&this.parent&&Eo(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1,I=M),l&&l!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,f=this._tDur,O&&(this._lock=2,l=F?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;RN(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=Ck(this,or(l),or(_)),R&&(m-=_-(_=R._start))),this._tTime=m,this._time=_,this._act=!B,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,l=0),!l&&m&&d&&!a&&!I&&(Eo(this,"onStart"),this._tTime!==m))return this;if(_>=l&&n>=0)for(x=this._first;x;){if(b=x._next,(x._act||_>=x._start)&&x._ts&&R!==x){if(x.parent!==this)return this.render(n,a,s);if(x.render(x._ts>0?(_-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(_-x._start)*x._ts,a,s),_!==this._time||!this._ts&&!A){R=0,b&&(m+=this._zTime=-Ii);break}}x=b}else{x=this._last;for(var U=n<0?n:_;x;){if(b=x._prev,(x._act||U<=x._end)&&x._ts&&R!==x){if(x.parent!==this)return this.render(n,a,s);if(x.render(x._ts>0?(U-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(U-x._start)*x._ts,a,s||Da&&PC(x)),_!==this._time||!this._ts&&!A){R=0,b&&(m+=this._zTime=U?-Ii:Ii);break}}x=b}}if(R&&!a&&(this.pause(),R.render(_>=l?0:-Ii)._zTime=_>=l?1:-1,this._ts))return this._start=D,bA(this),this.render(n,a,s);this._onUpdate&&!a&&Eo(this,"onUpdate",!0),(m===f&&this._tTime>=this.totalDuration()||!m&&l)&&(D===this._start||Math.abs(B)!==Math.abs(this._ts))&&(this._lock||((n||!d)&&(m===f&&this._ts>0||!m&&this._ts<0)&&md(this,1),!a&&!(n<0&&!l)&&(m||l||!f)&&(Eo(this,m===f&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,a){var s=this;if(Wu(a)||(a=sl(this,a,n)),!(n instanceof ry)){if(Qa(n))return n.forEach(function(l){return s.add(l,a)}),this;if(ya(n))return this.addLabel(n,a);if(vr(n))n=Lr.delayedCall(0,n);else return this}return this!==n?jc(this,n,a):this},t.getChildren=function(n,a,s,l){n===void 0&&(n=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),l===void 0&&(l=-ul);for(var f=[],d=this._first;d;)d._start>=l&&(d instanceof Lr?a&&f.push(d):(s&&f.push(d),n&&f.push.apply(f,d.getChildren(!0,a,s)))),d=d._next;return f},t.getById=function(n){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===n)return a[s]},t.remove=function(n){return ya(n)?this.removeLabel(n):vr(n)?this.killTweensOf(n):(n.parent===this&&xA(this,n),n===this._recent&&(this._recent=this._last),ap(this))},t.totalTime=function(n,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=or(bo.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),i.prototype.totalTime.call(this,n,a),this._forcing=0,this):this._tTime},t.addLabel=function(n,a){return this.labels[n]=sl(this,a),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,a,s){var l=Lr.delayedCall(0,a||ty,s);return l.data="isPause",this._hasPause=1,jc(this,l,sl(this,n))},t.removePause=function(n){var a=this._first;for(n=sl(this,n);a;)a._start===n&&a.data==="isPause"&&md(a),a=a._next},t.killTweensOf=function(n,a,s){for(var l=this.getTweensOf(n,s),f=l.length;f--;)nd!==l[f]&&l[f].kill(n,a);return this},t.getTweensOf=function(n,a){for(var s=[],l=fl(n),f=this._first,d=Wu(a),m;f;)f instanceof Lr?xk(f._targets,l)&&(d?(!nd||f._initted&&f._ts)&&f.globalTime(0)<=a&&f.globalTime(f.totalDuration())>a:!a||f.isActive())&&s.push(f):(m=f.getTweensOf(l,a)).length&&s.push.apply(s,m),f=f._next;return s},t.tweenTo=function(n,a){a=a||{};var s=this,l=sl(s,n),f=a,d=f.startAt,m=f.onStart,g=f.onStartParams,_=f.immediateRender,x,b=Lr.to(s,Uo({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(d&&"time"in d?d.time:s._time))/s.timeScale())||Ii,onStart:function(){if(s.pause(),!x){var T=a.duration||Math.abs((l-(d&&"time"in d?d.time:s._time))/s.timeScale());b._dur!==T&&kg(b,T,0,1).render(b._time,!0,!0),x=1}m&&m.apply(b,g||[])}},a));return _?b.render(0):b},t.tweenFromTo=function(n,a,s){return this.tweenTo(a,Uo({startAt:{time:sl(this,n)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),dB(this,sl(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),dB(this,sl(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+Ii)},t.shiftChildren=function(n,a,s){s===void 0&&(s=0);var l=this._first,f=this.labels,d;for(n=or(n);l;)l._start>=s&&(l._start+=n,l._end+=n),l=l._next;if(a)for(d in f)f[d]>=s&&(f[d]+=n);return ap(this)},t.invalidate=function(n){var a=this._first;for(this._lock=0;a;)a.invalidate(n),a=a._next;return i.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),ap(this)},t.totalDuration=function(n){var a=0,s=this,l=s._last,f=ul,d,m,g;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-n:n));if(s._dirty){for(g=s.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),m=l._start,m>f&&s._sort&&l._ts&&!s._lock?(s._lock=1,jc(s,l,m-l._delay,1)._lock=0):f=m,m<0&&l._ts&&(a-=m,(!g&&!s._dp||g&&g.smoothChildTiming)&&(s._start+=or(m/s._ts),s._time-=m,s._tTime-=m),s.shiftChildren(-m,!1,-1/0),f=0),l._end>a&&l._ts&&(a=l._end),l=d;kg(s,s===lr&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(n){if(lr._ts&&(cN(lr,pS(n,lr)),oN=bo.frame),bo.frame>=lB){lB+=Ro.autoSleep||120;var a=lr._first;if((!a||!a._ts)&&Ro.autoSleep&&bo._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||bo.sleep()}}},e})(ry);Uo(Os.prototype,{_lock:0,_hasPause:0,_forcing:0});var Vk=function(e,t,r,n,a,s,l){var f=new eo(this._pt,e,t,0,1,LN,null,a),d=0,m=0,g,_,x,b,M,T,A,R;for(f.b=r,f.e=n,r+="",n+="",(A=~n.indexOf("random("))&&(n=ny(n)),s&&(R=[r,n],s(R,e,t),r=R[0],n=R[1]),_=r.match(jM)||[];g=jM.exec(n);)b=g[0],M=n.substring(d,g.index),x?x=(x+1)%5:M.substr(-5)==="rgba("&&(x=1),b!==_[m++]&&(T=parseFloat(_[m-1])||0,f._pt={_next:f._pt,p:M||m===1?M:",",s:T,c:b.charAt(1)==="="?Rg(T,b)-T:parseFloat(b)-T,m:x&&x<4?Math.round:0},d=jM.lastIndex);return f.c=d<n.length?n.substring(d,n.length):"",f.fp=l,(iN.test(n)||A)&&(f.e=0),this._pt=f,f},FC=function(e,t,r,n,a,s,l,f,d,m){vr(n)&&(n=n(a||0,e,s));var g=e[t],_=r!=="get"?r:vr(g)?d?e[t.indexOf("set")||!vr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](d):e[t]():g,x=vr(g)?d?Yk:IN:kC,b;if(ya(n)&&(~n.indexOf("random(")&&(n=ny(n)),n.charAt(1)==="="&&(b=Rg(_,n)+(qa(_)||0),(b||b===0)&&(n=b))),!m||_!==n||N2)return!isNaN(_*n)&&n!==""?(b=new eo(this._pt,e,t,+_||0,n-(_||0),typeof g=="boolean"?qk:zN,0,x),d&&(b.fp=d),l&&b.modifier(l,this,e),this._pt=b):(!g&&!(t in e)&&NC(t,n),Vk.call(this,e,t,_,n,x,f||Ro.stringFilter,d))},jk=function(e,t,r,n,a){if(vr(e)&&(e=D_(e,a,t,r,n)),!Kc(e)||e.style&&e.nodeType||Qa(e)||tN(e))return ya(e)?D_(e,a,t,r,n):e;var s={},l;for(l in e)s[l]=D_(e[l],a,t,r,n);return s},UN=function(e,t,r,n,a,s){var l,f,d,m;if(yo[e]&&(l=new yo[e]).init(a,l.rawVars?t[e]:jk(t[e],n,a,s,r),r,n,s)!==!1&&(r._pt=f=new eo(r._pt,a,e,0,1,l.render,l,0,l.priority),r!==Mg))for(d=r._ptLookup[r._targets.indexOf(a)],m=l._props.length;m--;)d[l._props[m]]=f;return l},nd,N2,HC=function i(e,t,r){var n=e.vars,a=n.ease,s=n.startAt,l=n.immediateRender,f=n.lazy,d=n.onUpdate,m=n.runBackwards,g=n.yoyoEase,_=n.keyframes,x=n.autoRevert,b=e._dur,M=e._startAt,T=e._targets,A=e.parent,R=A&&A.data==="nested"?A.vars.targets:T,B=e._overwrite==="auto"&&!DC,D=e.timeline,I,L,P,F,O,U,G,X,te,ce,le,V,q;if(D&&(!_||!a)&&(a="none"),e._ease=sp(a,Pg.ease),e._yEase=g?wN(sp(g===!0?a:g,Pg.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!D&&!!n.runBackwards,!D||_&&!n.stagger){if(X=T[0]?rp(T[0]).harness:0,V=X&&n[X.prop],I=hS(n,IC),M&&(M._zTime<0&&M.progress(1),t<0&&m&&l&&!x?M.render(-1,!0):M.revert(m&&b?Jb:_k),M._lazy=0),s){if(md(e._startAt=Lr.set(T,Uo({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!M&&Ks(f),startAt:null,delay:0,onUpdate:d&&function(){return Eo(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Da||!l&&!x)&&e._startAt.revert(Jb),l&&b&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(m&&b&&!M){if(t&&(l=!1),P=Uo({overwrite:!1,data:"isFromStart",lazy:l&&!M&&Ks(f),immediateRender:l,stagger:0,parent:A},I),V&&(P[X.prop]=V),md(e._startAt=Lr.set(T,P)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Da?e._startAt.revert(Jb):e._startAt.render(-1,!0)),e._zTime=t,!l)i(e._startAt,Ii,Ii);else if(!t)return}for(e._pt=e._ptCache=0,f=b&&Ks(f)||f&&!b,L=0;L<T.length;L++){if(O=T[L],G=O._gsap||LC(T)[L]._gsap,e._ptLookup[L]=ce={},w2[G.id]&&ld.length&&dS(),le=R===T?L:R.indexOf(O),X&&(te=new X).init(O,V||I,e,le,R)!==!1&&(e._pt=F=new eo(e._pt,O,te.name,0,1,te.render,te,0,te.priority),te._props.forEach(function(ee){ce[ee]=F}),te.priority&&(U=1)),!X||V)for(P in I)yo[P]&&(te=UN(P,I,e,le,O,R))?te.priority&&(U=1):ce[P]=F=FC.call(e,O,P,"get",I[P],le,R,0,n.stringFilter);e._op&&e._op[L]&&e.kill(O,e._op[L]),B&&e._pt&&(nd=e,lr.killTweensOf(O,ce,e.globalTime(t)),q=!e.parent,nd=0),e._pt&&f&&(w2[G.id]=1)}U&&PN(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!q,_&&t<=0&&D.render(ul,!0,!0)},$k=function(e,t,r,n,a,s,l,f){var d=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,g,_,x;if(!d)for(d=e._ptCache[t]=[],_=e._ptLookup,x=e._targets.length;x--;){if(m=_[x][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return N2=1,e.vars[t]="+=0",HC(e,l),N2=0,f?ey(t+" not eligible for reset"):1;d.push(m)}for(x=d.length;x--;)g=d[x],m=g._pt||g,m.s=(n||n===0)&&!a?n:m.s+(n||0)+s*m.c,m.c=r-m.s,g.e&&(g.e=Er(r)+qa(g.e)),g.b&&(g.b=m.s+qa(g.b))},Xk=function(e,t){var r=e[0]?rp(e[0]).harness:0,n=r&&r.aliases,a,s,l,f;if(!n)return t;a=Fg({},t);for(s in n)if(s in a)for(f=n[s].split(","),l=f.length;l--;)a[f[l]]=a[s];return a},Zk=function(e,t,r,n){var a=t.ease||n||"power1.inOut",s,l;if(Qa(t))l=r[e]||(r[e]=[]),t.forEach(function(f,d){return l.push({t:d/(t.length-1)*100,v:f,e:a})});else for(s in t)l=r[s]||(r[s]=[]),s==="ease"||l.push({t:parseFloat(e),v:t[s],e:a})},D_=function(e,t,r,n,a){return vr(e)?e.call(t,r,n,a):ya(e)&&~e.indexOf("random(")?ny(e):e},ON=zC+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",NN={};Qs(ON+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return NN[i]=1});var Lr=(function(i){Q4(e,i);function e(r,n,a,s){var l;typeof n=="number"&&(a.duration=n,n=a,a=null),l=i.call(this,s?n:w_(n))||this;var f=l.vars,d=f.duration,m=f.delay,g=f.immediateRender,_=f.stagger,x=f.overwrite,b=f.keyframes,M=f.defaults,T=f.scrollTrigger,A=f.yoyoEase,R=n.parent||lr,B=(Qa(r)||tN(r)?Wu(r[0]):"length"in n)?[r]:fl(r),D,I,L,P,F,O,U,G;if(l._targets=B.length?LC(B):ey("GSAP target "+r+" not found. https://gsap.com",!Ro.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=x,b||_||U1(d)||U1(m)){if(n=l.vars,D=l.timeline=new Os({data:"nested",defaults:M||{},targets:R&&R.data==="nested"?R.vars.targets:B}),D.kill(),D.parent=D._dp=Hu(l),D._start=0,_||U1(d)||U1(m)){if(P=B.length,U=_&&_N(_),Kc(_))for(F in _)~ON.indexOf(F)&&(G||(G={}),G[F]=_[F]);for(I=0;I<P;I++)L=hS(n,NN),L.stagger=0,A&&(L.yoyoEase=A),G&&Fg(L,G),O=B[I],L.duration=+D_(d,Hu(l),I,O,B),L.delay=(+D_(m,Hu(l),I,O,B)||0)-l._delay,!_&&P===1&&L.delay&&(l._delay=m=L.delay,l._start+=m,L.delay=0),D.to(O,L,U?U(I,O,B):0),D._ease=Kn.none;D.duration()?d=m=0:l.timeline=0}else if(b){w_(Uo(D.vars.defaults,{ease:"none"})),D._ease=sp(b.ease||n.ease||"none");var X=0,te,ce,le;if(Qa(b))b.forEach(function(V){return D.to(B,V,">")}),D.duration();else{L={};for(F in b)F==="ease"||F==="easeEach"||Zk(F,b[F],L,b.easeEach);for(F in L)for(te=L[F].sort(function(V,q){return V.t-q.t}),X=0,I=0;I<te.length;I++)ce=te[I],le={ease:ce.e,duration:(ce.t-(I?te[I-1].t:0))/100*d},le[F]=ce.v,D.to(B,le,X),X+=le.duration;D.duration()<d&&D.to({},{duration:d-D.duration()})}}d||l.duration(d=D.duration())}else l.timeline=0;return x===!0&&!DC&&(nd=Hu(l),lr.killTweensOf(B),nd=0),jc(R,Hu(l),a),n.reversed&&l.reverse(),n.paused&&l.paused(!0),(g||!d&&!b&&l._start===or(R._time)&&Ks(g)&&Ek(Hu(l))&&R.data!=="nested")&&(l._tTime=-Ii,l.render(Math.max(0,-m)||0)),T&&pN(Hu(l),T),l}var t=e.prototype;return t.render=function(n,a,s){var l=this._time,f=this._tDur,d=this._dur,m=n<0,g=n>f-Ii&&!m?f:n<Ii?0:n,_,x,b,M,T,A,R,B,D;if(!d)Tk(this,n,a,s);else if(g!==this._tTime||!n||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(_=g,B=this.timeline,this._repeat){if(M=d+this._rDelay,this._repeat<-1&&m)return this.totalTime(M*100+n,a,s);if(_=or(g%M),g===f?(b=this._repeat,_=d):(T=or(g/M),b=~~T,b&&b===T?(_=d,b--):_>d&&(_=d)),A=this._yoyo&&b&1,A&&(D=this._yEase,_=d-_),T=Hg(this._tTime,M),_===l&&!s&&this._initted&&b===T)return this._tTime=g,this;b!==T&&(B&&this._yEase&&RN(B,A),this.vars.repeatRefresh&&!A&&!this._lock&&_!==M&&this._initted&&(this._lock=s=1,this.render(or(M*b),!0).invalidate()._lock=0))}if(!this._initted){if(mN(this,m?n:_,s,a,g))return this._tTime=0,this;if(l!==this._time&&!(s&&this.vars.repeatRefresh&&b!==T))return this;if(d!==this._dur)return this.render(n,a,s)}if(this._tTime=g,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(D||this._ease)(_/d),this._from&&(this.ratio=R=1-R),!l&&g&&!a&&!T&&(Eo(this,"onStart"),this._tTime!==g))return this;for(x=this._pt;x;)x.r(R,x.d),x=x._next;B&&B.render(n<0?n:B._dur*B._ease(_/this._dur),a,s)||this._startAt&&(this._zTime=n),this._onUpdate&&!a&&(m&&R2(this,n,a,s),Eo(this,"onUpdate")),this._repeat&&b!==T&&this.vars.onRepeat&&!a&&this.parent&&Eo(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(m&&!this._onUpdate&&R2(this,n,!0,!0),(n||!d)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&md(this,1),!a&&!(m&&!l)&&(g||l||A)&&(Eo(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),i.prototype.invalidate.call(this,n)},t.resetTo=function(n,a,s,l,f){iy||bo.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||HC(this,d),m=this._ease(d/this._dur),$k(this,n,a,s,l,m,d,f)?this.resetTo(n,a,s,l,1):(SA(this,0),this.parent||dN(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,a){if(a===void 0&&(a="all"),!n&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?g_(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Da),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(n,a,nd&&nd.vars.overwrite!==!0)._first||g_(this),this.parent&&s!==this.timeline.totalDuration()&&kg(this,this._dur*this.timeline._tDur/s,0,1),this}var l=this._targets,f=n?fl(n):l,d=this._ptLookup,m=this._pt,g,_,x,b,M,T,A;if((!a||a==="all")&&Sk(l,f))return a==="all"&&(this._pt=0),g_(this);for(g=this._op=this._op||[],a!=="all"&&(ya(a)&&(M={},Qs(a,function(R){return M[R]=1}),a=M),a=Xk(l,a)),A=l.length;A--;)if(~f.indexOf(l[A])){_=d[A],a==="all"?(g[A]=a,b=_,x={}):(x=g[A]=g[A]||{},b=a);for(M in b)T=_&&_[M],T&&((!("kill"in T.d)||T.d.kill(M)===!0)&&xA(this,T,"_pt"),delete _[M]),x!=="all"&&(x[M]=1)}return this._initted&&!this._pt&&m&&g_(this),this},e.to=function(n,a){return new e(n,a,arguments[2])},e.from=function(n,a){return R_(1,arguments)},e.delayedCall=function(n,a,s,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:l})},e.fromTo=function(n,a,s){return R_(2,arguments)},e.set=function(n,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(n,a)},e.killTweensOf=function(n,a,s){return lr.killTweensOf(n,a,s)},e})(ry);Uo(Lr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Qs("staggerTo,staggerFrom,staggerFromTo",function(i){Lr[i]=function(){var e=new Os,t=B2.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var kC=function(e,t,r){return e[t]=r},IN=function(e,t,r){return e[t](r)},Yk=function(e,t,r,n){return e[t](n.fp,r)},Jk=function(e,t,r){return e.setAttribute(t,r)},GC=function(e,t){return vr(e[t])?IN:BC(e[t])&&e.setAttribute?Jk:kC},zN=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},qk=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},LN=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},VC=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Wk=function(e,t,r,n){for(var a=this._pt,s;a;)s=a._next,a.p===n&&a.modifier(e,t,r),a=s},Kk=function(e){for(var t=this._pt,r,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?xA(this,t,"_pt"):t.dep||(r=1),t=n;return!r},Qk=function(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)},PN=function(e){for(var t=e._pt,r,n,a,s;t;){for(r=t._next,n=a;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:s)?t._prev._next=t:a=t,(t._next=n)?n._prev=t:s=t,t=r}e._pt=a},eo=(function(){function i(t,r,n,a,s,l,f,d,m){this.t=r,this.s=a,this.c=s,this.p=n,this.r=l||zN,this.d=f||this,this.set=d||kC,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(r,n,a){this.mSet=this.mSet||this.set,this.set=Qk,this.m=r,this.mt=a,this.tween=n},i})();Qs(zC+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return IC[i]=1});Bo.TweenMax=Bo.TweenLite=Lr;Bo.TimelineLite=Bo.TimelineMax=Os;lr=new Os({sortChildren:!1,defaults:Pg,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ro.stringFilter=CN;var op=[],Wb={},eG=[],pB=0,tG=0,JM=function(e){return(Wb[e]||eG).map(function(t){return t()})},I2=function(){var e=Date.now(),t=[];e-pB>2&&(JM("matchMediaInit"),op.forEach(function(r){var n=r.queries,a=r.conditions,s,l,f,d;for(l in n)s=kc.matchMedia(n[l]).matches,s&&(f=1),s!==a[l]&&(a[l]=s,d=1);d&&(r.revert(),f&&t.push(r))}),JM("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(n){return r.add(null,n)})}),pB=e,JM("matchMedia"))},FN=(function(){function i(t,r){this.selector=r&&U2(r),this.data=[],this._r=[],this.isReverted=!1,this.id=tG++,t&&this.add(t)}var e=i.prototype;return e.add=function(r,n,a){vr(r)&&(a=n,n=r,r=vr);var s=this,l=function(){var d=Ji,m=s.selector,g;return d&&d!==s&&d.data.push(s),a&&(s.selector=U2(a)),Ji=s,g=n.apply(s,arguments),vr(g)&&s._r.push(g),Ji=d,s.selector=m,s.isReverted=!1,g};return s.last=l,r===vr?l(s,function(f){return s.add(null,f)}):r?s[r]=l:l},e.ignore=function(r){var n=Ji;Ji=null,r(this),Ji=n},e.getTweens=function(){var r=[];return this.data.forEach(function(n){return n instanceof i?r.push.apply(r,n.getTweens()):n instanceof Lr&&!(n.parent&&n.parent.data==="nested")&&r.push(n)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,n){var a=this;if(r?(function(){for(var l=a.getTweens(),f=a.data.length,d;f--;)d=a.data[f],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(m){return l.splice(l.indexOf(m),1)}));for(l.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,g){return g.g-m.g||-1/0}).forEach(function(m){return m.t.revert(r)}),f=a.data.length;f--;)d=a.data[f],d instanceof Os?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Lr)&&d.revert&&d.revert(r);a._r.forEach(function(m){return m(r,a)}),a.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),n)for(var s=op.length;s--;)op[s].id===this.id&&op.splice(s,1)},e.revert=function(r){this.kill(r||{})},i})(),nG=(function(){function i(t){this.contexts=[],this.scope=t,Ji&&Ji.data.push(this)}var e=i.prototype;return e.add=function(r,n,a){Kc(r)||(r={matches:r});var s=new FN(0,a||this.scope),l=s.conditions={},f,d,m;Ji&&!s.selector&&(s.selector=Ji.selector),this.contexts.push(s),n=s.add("onMatch",n),s.queries=r;for(d in r)d==="all"?m=1:(f=kc.matchMedia(r[d]),f&&(op.indexOf(s)<0&&op.push(s),(l[d]=f.matches)&&(m=1),f.addListener?f.addListener(I2):f.addEventListener("change",I2)));return m&&n(s,function(g){return s.add(null,g)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(n){return n.kill(r,!0)})},i})(),mS={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(n){return EN(n)})},timeline:function(e){return new Os(e)},getTweensOf:function(e,t){return lr.getTweensOf(e,t)},getProperty:function(e,t,r,n){ya(e)&&(e=fl(e)[0]);var a=rp(e||{}).get,s=r?fN:uN;return r==="native"&&(r=""),e&&(t?s((yo[t]&&yo[t].get||a)(e,t,r,n)):function(l,f,d){return s((yo[l]&&yo[l].get||a)(e,l,f,d))})},quickSetter:function(e,t,r){if(e=fl(e),e.length>1){var n=e.map(function(m){return no.quickSetter(m,t,r)}),a=n.length;return function(m){for(var g=a;g--;)n[g](m)}}e=e[0]||{};var s=yo[t],l=rp(e),f=l.harness&&(l.harness.aliases||{})[t]||t,d=s?function(m){var g=new s;Mg._pt=0,g.init(e,r?m+r:m,Mg,0,[e]),g.render(1,g),Mg._pt&&VC(1,Mg)}:l.set(e,f);return s?d:function(m){return d(e,f,r?m+r:m,l,1)}},quickTo:function(e,t,r){var n,a=no.to(e,Uo((n={},n[t]="+=0.1",n.paused=!0,n.stagger=0,n),r||{})),s=function(f,d,m){return a.resetTo(t,f,d,m)};return s.tween=a,s},isTweening:function(e){return lr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=sp(e.ease,Pg.ease)),cB(Pg,e||{})},config:function(e){return cB(Ro,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,a=e.defaults,s=e.extendTimeline;(n||"").split(",").forEach(function(l){return l&&!yo[l]&&!Bo[l]&&ey(t+" effect requires "+l+" plugin.")}),$M[t]=function(l,f,d){return r(fl(l),Uo(f||{},a),d)},s&&(Os.prototype[t]=function(l,f,d){return this.add($M[t](l,Kc(f)?f:(d=f)&&{},this),d)})},registerEase:function(e,t){Kn[e]=sp(t)},parseEase:function(e,t){return arguments.length?sp(e,t):Kn},getById:function(e){return lr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Os(e),n,a;for(r.smoothChildTiming=Ks(e.smoothChildTiming),lr.remove(r),r._dp=0,r._time=r._tTime=lr._time,n=lr._first;n;)a=n._next,(t||!(!n._dur&&n instanceof Lr&&n.vars.onComplete===n._targets[0]))&&jc(r,n,n._start-n._delay),n=a;return jc(lr,r,0),r},context:function(e,t){return e?new FN(e,t):Ji},matchMedia:function(e){return new nG(e)},matchMediaRefresh:function(){return op.forEach(function(e){var t=e.conditions,r,n;for(n in t)t[n]&&(t[n]=!1,r=1);r&&e.revert()})||I2()},addEventListener:function(e,t){var r=Wb[e]||(Wb[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Wb[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)},utils:{wrap:Nk,wrapYoyo:Ik,distribute:_N,random:xN,snap:yN,normalize:Ok,getUnit:qa,clamp:Rk,splitColor:MN,toArray:fl,selector:U2,mapRange:SN,pipe:Bk,unitize:Uk,interpolate:zk,shuffle:vN},install:aN,effects:$M,ticker:bo,updateRoot:Os.updateRoot,plugins:yo,globalTimeline:lr,core:{PropTween:eo,globals:sN,Tween:Lr,Timeline:Os,Animation:ry,getCache:rp,_removeLinkedListItem:xA,reverting:function(){return Da},context:function(e){return e&&Ji&&(Ji.data.push(e),e._ctx=Ji),Ji},suppressOverwrites:function(e){return DC=e}}};Qs("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return mS[i]=Lr[i]});bo.add(Os.updateRoot);Mg=mS.to({},{duration:0});var iG=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},rG=function(e,t){var r=e._targets,n,a,s;for(n in t)for(a=r.length;a--;)s=e._ptLookup[a][n],s&&(s=s.d)&&(s._pt&&(s=iG(s,n)),s&&s.modifier&&s.modifier(t[n],e,r[a],n))},qM=function(e,t){return{name:e,headless:1,rawVars:1,init:function(n,a,s){s._onInit=function(l){var f,d;if(ya(a)&&(f={},Qs(a,function(m){return f[m]=1}),a=f),t){f={};for(d in a)f[d]=t(a[d]);a=f}rG(l,a)}}}},no=mS.registerPlugin({name:"attr",init:function(e,t,r,n,a){var s,l,f;this.tween=r;for(s in t)f=e.getAttribute(s)||"",l=this.add(e,"setAttribute",(f||0)+"",t[s],n,a,0,0,s),l.op=s,l.b=f,this._props.push(s)},render:function(e,t){for(var r=t._pt;r;)Da?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},qM("roundProps",O2),qM("modifiers"),qM("snap",yN))||mS;Lr.version=Os.version=no.version="3.14.2";rN=1;UC()&&Gg();Kn.Power0;Kn.Power1;Kn.Power2;Kn.Power3;Kn.Power4;Kn.Linear;Kn.Quad;Kn.Cubic;Kn.Quart;Kn.Quint;Kn.Strong;Kn.Elastic;Kn.Back;Kn.SteppedEase;Kn.Bounce;Kn.Sine;Kn.Expo;Kn.Circ;var mB,id,Dg,jC,Yh,gB,$C,aG=function(){return typeof window<"u"},Ku={},Hh=180/Math.PI,Bg=Math.PI/180,$m=Math.atan2,vB=1e8,XC=/([A-Z])/g,sG=/(left|right|width|margin|padding|x)/i,oG=/[\s,\(]\S/,$c={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},z2=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},lG=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},cG=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},uG=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},fG=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},HN=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},kN=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},dG=function(e,t,r){return e.style[t]=r},hG=function(e,t,r){return e.style.setProperty(t,r)},pG=function(e,t,r){return e._gsap[t]=r},mG=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},gG=function(e,t,r,n,a){var s=e._gsap;s.scaleX=s.scaleY=r,s.renderTransform(a,s)},vG=function(e,t,r,n,a){var s=e._gsap;s[t]=r,s.renderTransform(a,s)},cr="transform",to=cr+"Origin",_G=function i(e,t){var r=this,n=this.target,a=n.style,s=n._gsap;if(e in Ku&&a){if(this.tfm=this.tfm||{},e!=="transform")e=$c[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=Gu(n,l)}):this.tfm[e]=s.x?s[e]:Gu(n,e),e===to&&(this.tfm.zOrigin=s.zOrigin);else return $c.transform.split(",").forEach(function(l){return i.call(r,l,t)});if(this.props.indexOf(cr)>=0)return;s.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(to,t,"")),e=cr}(a||t)&&this.props.push(e,t,a[e])},GN=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},yG=function(){var e=this.props,t=this.target,r=t.style,n=t._gsap,a,s;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?r[e[a]]=e[a+2]:r.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(XC,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)n[s]=this.tfm[s];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=$C(),(!a||!a.isStart)&&!r[cr]&&(GN(r),n.zOrigin&&r[to]&&(r[to]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},VN=function(e,t){var r={target:e,props:[],revert:yG,save:_G};return e._gsap||no.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(n){return r.save(n)}),r},jN,L2=function(e,t){var r=id.createElementNS?id.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):id.createElement(e);return r&&r.style?r:id.createElement(e)},Mo=function i(e,t,r){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(XC,"-$1").toLowerCase())||n.getPropertyValue(t)||!r&&i(e,Vg(t)||t,1)||""},_B="O,Moz,ms,Ms,Webkit".split(","),Vg=function(e,t,r){var n=t||Yh,a=n.style,s=5;if(e in a&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(_B[s]+e in a););return s<0?null:(s===3?"ms":s>=0?_B[s]:"")+e},P2=function(){aG()&&window.document&&(mB=window,id=mB.document,Dg=id.documentElement,Yh=L2("div")||{style:{}},L2("div"),cr=Vg(cr),to=cr+"Origin",Yh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",jN=!!Vg("perspective"),$C=no.core.reverting,jC=1)},yB=function(e){var t=e.ownerSVGElement,r=L2("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0),a;n.style.display="block",r.appendChild(n),Dg.appendChild(r);try{a=n.getBBox()}catch{}return r.removeChild(n),Dg.removeChild(r),a},xB=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},$N=function(e){var t,r;try{t=e.getBBox()}catch{t=yB(e),r=1}return t&&(t.width||t.height)||r||(t=yB(e)),t&&!t.width&&!t.x&&!t.y?{x:+xB(e,["x","cx","x1"])||0,y:+xB(e,["y","cy","y1"])||0,width:0,height:0}:t},XN=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&$N(e))},gd=function(e,t){if(t){var r=e.style,n;t in Ku&&t!==to&&(t=cr),r.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(n==="--"?t:t.replace(XC,"-$1").toLowerCase())):r.removeAttribute(t)}},rd=function(e,t,r,n,a,s){var l=new eo(e._pt,t,r,0,1,s?kN:HN);return e._pt=l,l.b=n,l.e=a,e._props.push(r),l},bB={deg:1,rad:1,turn:1},xG={grid:1,flex:1},vd=function i(e,t,r,n){var a=parseFloat(r)||0,s=(r+"").trim().substr((a+"").length)||"px",l=Yh.style,f=sG.test(t),d=e.tagName.toLowerCase()==="svg",m=(d?"client":"offset")+(f?"Width":"Height"),g=100,_=n==="px",x=n==="%",b,M,T,A;if(n===s||!a||bB[n]||bB[s])return a;if(s!=="px"&&!_&&(a=i(e,t,r,"px")),A=e.getCTM&&XN(e),(x||s==="%")&&(Ku[t]||~t.indexOf("adius")))return b=A?e.getBBox()[f?"width":"height"]:e[m],Er(x?a/b*g:a/100*b);if(l[f?"width":"height"]=g+(_?s:n),M=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!d?e:e.parentNode,A&&(M=(e.ownerSVGElement||{}).parentNode),(!M||M===id||!M.appendChild)&&(M=id.body),T=M._gsap,T&&x&&T.width&&f&&T.time===bo.time&&!T.uncache)return Er(a/T.width*g);if(x&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=g+n,b=e[m],R?e.style[t]=R:gd(e,t)}else(x||s==="%")&&!xG[Mo(M,"display")]&&(l.position=Mo(e,"position")),M===e&&(l.position="static"),M.appendChild(Yh),b=Yh[m],M.removeChild(Yh),l.position="absolute";return f&&x&&(T=rp(M),T.time=bo.time,T.width=M[m]),Er(_?b*a/g:b&&a?g/b*a:0)},Gu=function(e,t,r,n){var a;return jC||P2(),t in $c&&t!=="transform"&&(t=$c[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ku[t]&&t!=="transform"?(a=sy(e,n),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:vS(Mo(e,to))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||n||~(a+"").indexOf("calc("))&&(a=gS[t]&&gS[t](e,t,r)||Mo(e,t)||lN(e,t)||(t==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?vd(e,t,a,r)+r:a},bG=function(e,t,r,n){if(!r||r==="none"){var a=Vg(t,e,1),s=a&&Mo(e,a,1);s&&s!==r?(t=a,r=s):t==="borderColor"&&(r=Mo(e,"borderTopColor"))}var l=new eo(this._pt,e.style,t,0,1,LN),f=0,d=0,m,g,_,x,b,M,T,A,R,B,D,I;if(l.b=r,l.e=n,r+="",n+="",n.substring(0,6)==="var(--"&&(n=Mo(e,n.substring(4,n.indexOf(")")))),n==="auto"&&(M=e.style[t],e.style[t]=n,n=Mo(e,t)||n,M?e.style[t]=M:gd(e,t)),m=[r,n],CN(m),r=m[0],n=m[1],_=r.match(Eg)||[],I=n.match(Eg)||[],I.length){for(;g=Eg.exec(n);)T=g[0],R=n.substring(f,g.index),b?b=(b+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(b=1),T!==(M=_[d++]||"")&&(x=parseFloat(M)||0,D=M.substr((x+"").length),T.charAt(1)==="="&&(T=Rg(x,T)+D),A=parseFloat(T),B=T.substr((A+"").length),f=Eg.lastIndex-B.length,B||(B=B||Ro.units[t]||D,f===n.length&&(n+=B,l.e+=B)),D!==B&&(x=vd(e,t,M,B)||0),l._pt={_next:l._pt,p:R||d===1?R:",",s:x,c:A-x,m:b&&b<4||t==="zIndex"?Math.round:0});l.c=f<n.length?n.substring(f,n.length):""}else l.r=t==="display"&&n==="none"?kN:HN;return iN.test(n)&&(l.e=0),this._pt=l,l},SB={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},SG=function(e){var t=e.split(" "),r=t[0],n=t[1]||"50%";return(r==="top"||r==="bottom"||n==="left"||n==="right")&&(e=r,r=n,n=e),t[0]=SB[r]||r,t[1]=SB[n]||n,t.join(" ")},AG=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,n=r.style,a=t.u,s=r._gsap,l,f,d;if(a==="all"||a===!0)n.cssText="",f=1;else for(a=a.split(","),d=a.length;--d>-1;)l=a[d],Ku[l]&&(f=1,l=l==="transformOrigin"?to:cr),gd(r,l);f&&(gd(r,cr),s&&(s.svg&&r.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",sy(r,1),s.uncache=1,GN(n)))}},gS={clearProps:function(e,t,r,n,a){if(a.data!=="isFromStart"){var s=e._pt=new eo(e._pt,t,r,0,0,AG);return s.u=n,s.pr=-10,s.tween=a,e._props.push(r),1}}},ay=[1,0,0,1,0,0],ZN={},YN=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},AB=function(e){var t=Mo(e,cr);return YN(t)?ay:t.substr(7).match(nN).map(Er)},ZC=function(e,t){var r=e._gsap||rp(e),n=e.style,a=AB(e),s,l,f,d;return r.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,a=[f.a,f.b,f.c,f.d,f.e,f.f],a.join(",")==="1,0,0,1,0,0"?ay:a):(a===ay&&!e.offsetParent&&e!==Dg&&!r.svg&&(f=n.display,n.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,Dg.appendChild(e)),a=AB(e),f?n.display=f:gd(e,"display"),d&&(l?s.insertBefore(e,l):s?s.appendChild(e):Dg.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},F2=function(e,t,r,n,a,s){var l=e._gsap,f=a||ZC(e,!0),d=l.xOrigin||0,m=l.yOrigin||0,g=l.xOffset||0,_=l.yOffset||0,x=f[0],b=f[1],M=f[2],T=f[3],A=f[4],R=f[5],B=t.split(" "),D=parseFloat(B[0])||0,I=parseFloat(B[1])||0,L,P,F,O;r?f!==ay&&(P=x*T-b*M)&&(F=D*(T/P)+I*(-M/P)+(M*R-T*A)/P,O=D*(-b/P)+I*(x/P)-(x*R-b*A)/P,D=F,I=O):(L=$N(e),D=L.x+(~B[0].indexOf("%")?D/100*L.width:D),I=L.y+(~(B[1]||B[0]).indexOf("%")?I/100*L.height:I)),n||n!==!1&&l.smooth?(A=D-d,R=I-m,l.xOffset=g+(A*x+R*M)-A,l.yOffset=_+(A*b+R*T)-R):l.xOffset=l.yOffset=0,l.xOrigin=D,l.yOrigin=I,l.smooth=!!n,l.origin=t,l.originIsAbsolute=!!r,e.style[to]="0px 0px",s&&(rd(s,l,"xOrigin",d,D),rd(s,l,"yOrigin",m,I),rd(s,l,"xOffset",g,l.xOffset),rd(s,l,"yOffset",_,l.yOffset)),e.setAttribute("data-svg-origin",D+" "+I)},sy=function(e,t){var r=e._gsap||new BN(e);if("x"in r&&!t&&!r.uncache)return r;var n=e.style,a=r.scaleX<0,s="px",l="deg",f=getComputedStyle(e),d=Mo(e,to)||"0",m,g,_,x,b,M,T,A,R,B,D,I,L,P,F,O,U,G,X,te,ce,le,V,q,ee,ve,J,Z,he,Be,we,Xe;return m=g=_=M=T=A=R=B=D=0,x=b=1,r.svg=!!(e.getCTM&&XN(e)),f.translate&&((f.translate!=="none"||f.scale!=="none"||f.rotate!=="none")&&(n[cr]=(f.translate!=="none"?"translate3d("+(f.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(f.rotate!=="none"?"rotate("+f.rotate+") ":"")+(f.scale!=="none"?"scale("+f.scale.split(" ").join(",")+") ":"")+(f[cr]!=="none"?f[cr]:"")),n.scale=n.rotate=n.translate="none"),P=ZC(e,r.svg),r.svg&&(r.uncache?(ee=e.getBBox(),d=r.xOrigin-ee.x+"px "+(r.yOrigin-ee.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),F2(e,q||d,!!q||r.originIsAbsolute,r.smooth!==!1,P)),I=r.xOrigin||0,L=r.yOrigin||0,P!==ay&&(G=P[0],X=P[1],te=P[2],ce=P[3],m=le=P[4],g=V=P[5],P.length===6?(x=Math.sqrt(G*G+X*X),b=Math.sqrt(ce*ce+te*te),M=G||X?$m(X,G)*Hh:0,R=te||ce?$m(te,ce)*Hh+M:0,R&&(b*=Math.abs(Math.cos(R*Bg))),r.svg&&(m-=I-(I*G+L*te),g-=L-(I*X+L*ce))):(Xe=P[6],Be=P[7],J=P[8],Z=P[9],he=P[10],we=P[11],m=P[12],g=P[13],_=P[14],F=$m(Xe,he),T=F*Hh,F&&(O=Math.cos(-F),U=Math.sin(-F),q=le*O+J*U,ee=V*O+Z*U,ve=Xe*O+he*U,J=le*-U+J*O,Z=V*-U+Z*O,he=Xe*-U+he*O,we=Be*-U+we*O,le=q,V=ee,Xe=ve),F=$m(-te,he),A=F*Hh,F&&(O=Math.cos(-F),U=Math.sin(-F),q=G*O-J*U,ee=X*O-Z*U,ve=te*O-he*U,we=ce*U+we*O,G=q,X=ee,te=ve),F=$m(X,G),M=F*Hh,F&&(O=Math.cos(F),U=Math.sin(F),q=G*O+X*U,ee=le*O+V*U,X=X*O-G*U,V=V*O-le*U,G=q,le=ee),T&&Math.abs(T)+Math.abs(M)>359.9&&(T=M=0,A=180-A),x=Er(Math.sqrt(G*G+X*X+te*te)),b=Er(Math.sqrt(V*V+Xe*Xe)),F=$m(le,V),R=Math.abs(F)>2e-4?F*Hh:0,D=we?1/(we<0?-we:we):0),r.svg&&(q=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!YN(Mo(e,cr)),q&&e.setAttribute("transform",q))),Math.abs(R)>90&&Math.abs(R)<270&&(a?(x*=-1,R+=M<=0?180:-180,M+=M<=0?180:-180):(b*=-1,R+=R<=0?180:-180)),t=t||r.uncache,r.x=m-((r.xPercent=m&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+s,r.y=g-((r.yPercent=g&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+s,r.z=_+s,r.scaleX=Er(x),r.scaleY=Er(b),r.rotation=Er(M)+l,r.rotationX=Er(T)+l,r.rotationY=Er(A)+l,r.skewX=R+l,r.skewY=B+l,r.transformPerspective=D+s,(r.zOrigin=parseFloat(d.split(" ")[2])||!t&&r.zOrigin||0)&&(n[to]=vS(d)),r.xOffset=r.yOffset=0,r.force3D=Ro.force3D,r.renderTransform=r.svg?MG:jN?JN:EG,r.uncache=0,r},vS=function(e){return(e=e.split(" "))[0]+" "+e[1]},WM=function(e,t,r){var n=qa(t);return Er(parseFloat(t)+parseFloat(vd(e,"x",r+"px",n)))+n},EG=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,JN(e,t)},Ah="0deg",W0="0px",Eh=") ",JN=function(e,t){var r=t||this,n=r.xPercent,a=r.yPercent,s=r.x,l=r.y,f=r.z,d=r.rotation,m=r.rotationY,g=r.rotationX,_=r.skewX,x=r.skewY,b=r.scaleX,M=r.scaleY,T=r.transformPerspective,A=r.force3D,R=r.target,B=r.zOrigin,D="",I=A==="auto"&&e&&e!==1||A===!0;if(B&&(g!==Ah||m!==Ah)){var L=parseFloat(m)*Bg,P=Math.sin(L),F=Math.cos(L),O;L=parseFloat(g)*Bg,O=Math.cos(L),s=WM(R,s,P*O*-B),l=WM(R,l,-Math.sin(L)*-B),f=WM(R,f,F*O*-B+B)}T!==W0&&(D+="perspective("+T+Eh),(n||a)&&(D+="translate("+n+"%, "+a+"%) "),(I||s!==W0||l!==W0||f!==W0)&&(D+=f!==W0||I?"translate3d("+s+", "+l+", "+f+") ":"translate("+s+", "+l+Eh),d!==Ah&&(D+="rotate("+d+Eh),m!==Ah&&(D+="rotateY("+m+Eh),g!==Ah&&(D+="rotateX("+g+Eh),(_!==Ah||x!==Ah)&&(D+="skew("+_+", "+x+Eh),(b!==1||M!==1)&&(D+="scale("+b+", "+M+Eh),R.style[cr]=D||"translate(0, 0)"},MG=function(e,t){var r=t||this,n=r.xPercent,a=r.yPercent,s=r.x,l=r.y,f=r.rotation,d=r.skewX,m=r.skewY,g=r.scaleX,_=r.scaleY,x=r.target,b=r.xOrigin,M=r.yOrigin,T=r.xOffset,A=r.yOffset,R=r.forceCSS,B=parseFloat(s),D=parseFloat(l),I,L,P,F,O;f=parseFloat(f),d=parseFloat(d),m=parseFloat(m),m&&(m=parseFloat(m),d+=m,f+=m),f||d?(f*=Bg,d*=Bg,I=Math.cos(f)*g,L=Math.sin(f)*g,P=Math.sin(f-d)*-_,F=Math.cos(f-d)*_,d&&(m*=Bg,O=Math.tan(d-m),O=Math.sqrt(1+O*O),P*=O,F*=O,m&&(O=Math.tan(m),O=Math.sqrt(1+O*O),I*=O,L*=O)),I=Er(I),L=Er(L),P=Er(P),F=Er(F)):(I=g,F=_,L=P=0),(B&&!~(s+"").indexOf("px")||D&&!~(l+"").indexOf("px"))&&(B=vd(x,"x",s,"px"),D=vd(x,"y",l,"px")),(b||M||T||A)&&(B=Er(B+b-(b*I+M*P)+T),D=Er(D+M-(b*L+M*F)+A)),(n||a)&&(O=x.getBBox(),B=Er(B+n/100*O.width),D=Er(D+a/100*O.height)),O="matrix("+I+","+L+","+P+","+F+","+B+","+D+")",x.setAttribute("transform",O),R&&(x.style[cr]=O)},TG=function(e,t,r,n,a){var s=360,l=ya(a),f=parseFloat(a)*(l&&~a.indexOf("rad")?Hh:1),d=f-n,m=n+d+"deg",g,_;return l&&(g=a.split("_")[1],g==="short"&&(d%=s,d!==d%(s/2)&&(d+=d<0?s:-s)),g==="cw"&&d<0?d=(d+s*vB)%s-~~(d/s)*s:g==="ccw"&&d>0&&(d=(d-s*vB)%s-~~(d/s)*s)),e._pt=_=new eo(e._pt,t,r,n,d,lG),_.e=m,_.u="deg",e._props.push(r),_},EB=function(e,t){for(var r in t)e[r]=t[r];return e},CG=function(e,t,r){var n=EB({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=r.style,l,f,d,m,g,_,x,b;n.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),s[cr]=t,l=sy(r,1),gd(r,cr),r.setAttribute("transform",d)):(d=getComputedStyle(r)[cr],s[cr]=t,l=sy(r,1),s[cr]=d);for(f in Ku)d=n[f],m=l[f],d!==m&&a.indexOf(f)<0&&(x=qa(d),b=qa(m),g=x!==b?vd(r,f,d,b):parseFloat(d),_=parseFloat(m),e._pt=new eo(e._pt,l,f,g,_-g,z2),e._pt.u=b||0,e._props.push(f));EB(l,n)};Qs("padding,margin,Width,Radius",function(i,e){var t="Top",r="Right",n="Bottom",a="Left",s=(e<3?[t,r,n,a]:[t+a,t+r,n+r,n+a]).map(function(l){return e<2?i+l:"border"+l+i});gS[e>1?"border"+i:i]=function(l,f,d,m,g){var _,x;if(arguments.length<4)return _=s.map(function(b){return Gu(l,b,d)}),x=_.join(" "),x.split(_[0]).length===5?_[0]:x;_=(m+"").split(" "),x={},s.forEach(function(b,M){return x[b]=_[M]=_[M]||_[(M-1)/2|0]}),l.init(f,x,g)}});var qN={name:"css",register:P2,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,a){var s=this._props,l=e.style,f=r.vars.startAt,d,m,g,_,x,b,M,T,A,R,B,D,I,L,P,F,O;jC||P2(),this.styles=this.styles||VN(e),F=this.styles.props,this.tween=r;for(M in t)if(M!=="autoRound"&&(m=t[M],!(yo[M]&&UN(M,t,r,n,e,a)))){if(x=typeof m,b=gS[M],x==="function"&&(m=m.call(r,n,e,a),x=typeof m),x==="string"&&~m.indexOf("random(")&&(m=ny(m)),b)b(this,e,M,m,r)&&(P=1);else if(M.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(M)+"").trim(),m+="",cd.lastIndex=0,cd.test(d)||(T=qa(d),A=qa(m),A?T!==A&&(d=vd(e,M,d,A)+A):T&&(m+=T)),this.add(l,"setProperty",d,m,n,a,0,0,M),s.push(M),F.push(M,0,l[M]);else if(x!=="undefined"){if(f&&M in f?(d=typeof f[M]=="function"?f[M].call(r,n,e,a):f[M],ya(d)&&~d.indexOf("random(")&&(d=ny(d)),qa(d+"")||d==="auto"||(d+=Ro.units[M]||qa(Gu(e,M))||""),(d+"").charAt(1)==="="&&(d=Gu(e,M))):d=Gu(e,M),_=parseFloat(d),R=x==="string"&&m.charAt(1)==="="&&m.substr(0,2),R&&(m=m.substr(2)),g=parseFloat(m),M in $c&&(M==="autoAlpha"&&(_===1&&Gu(e,"visibility")==="hidden"&&g&&(_=0),F.push("visibility",0,l.visibility),rd(this,l,"visibility",_?"inherit":"hidden",g?"inherit":"hidden",!g)),M!=="scale"&&M!=="transform"&&(M=$c[M],~M.indexOf(",")&&(M=M.split(",")[0]))),B=M in Ku,B){if(this.styles.save(M),O=m,x==="string"&&m.substring(0,6)==="var(--"){if(m=Mo(e,m.substring(4,m.indexOf(")"))),m.substring(0,5)==="calc("){var U=e.style.perspective;e.style.perspective=m,m=Mo(e,"perspective"),U?e.style.perspective=U:gd(e,"perspective")}g=parseFloat(m)}if(D||(I=e._gsap,I.renderTransform&&!t.parseTransform||sy(e,t.parseTransform),L=t.smoothOrigin!==!1&&I.smooth,D=this._pt=new eo(this._pt,l,cr,0,1,I.renderTransform,I,0,-1),D.dep=1),M==="scale")this._pt=new eo(this._pt,I,"scaleY",I.scaleY,(R?Rg(I.scaleY,R+g):g)-I.scaleY||0,z2),this._pt.u=0,s.push("scaleY",M),M+="X";else if(M==="transformOrigin"){F.push(to,0,l[to]),m=SG(m),I.svg?F2(e,m,0,L,0,this):(A=parseFloat(m.split(" ")[2])||0,A!==I.zOrigin&&rd(this,I,"zOrigin",I.zOrigin,A),rd(this,l,M,vS(d),vS(m)));continue}else if(M==="svgOrigin"){F2(e,m,1,L,0,this);continue}else if(M in ZN){TG(this,I,M,_,R?Rg(_,R+m):m);continue}else if(M==="smoothOrigin"){rd(this,I,"smooth",I.smooth,m);continue}else if(M==="force3D"){I[M]=m;continue}else if(M==="transform"){CG(this,m,e);continue}}else M in l||(M=Vg(M)||M);if(B||(g||g===0)&&(_||_===0)&&!oG.test(m)&&M in l)T=(d+"").substr((_+"").length),g||(g=0),A=qa(m)||(M in Ro.units?Ro.units[M]:T),T!==A&&(_=vd(e,M,d,A)),this._pt=new eo(this._pt,B?I:l,M,_,(R?Rg(_,R+g):g)-_,!B&&(A==="px"||M==="zIndex")&&t.autoRound!==!1?fG:z2),this._pt.u=A||0,B&&O!==m?(this._pt.b=d,this._pt.e=O,this._pt.r=uG):T!==A&&A!=="%"&&(this._pt.b=d,this._pt.r=cG);else if(M in l)bG.call(this,e,M,d,R?R+m:m);else if(M in e)this.add(e,M,d||e[M],R?R+m:m,n,a);else if(M!=="parseTransform"){NC(M,m);continue}B||(M in l?F.push(M,0,l[M]):typeof e[M]=="function"?F.push(M,2,e[M]()):F.push(M,1,d||e[M])),s.push(M)}}P&&PN(this)},render:function(e,t){if(t.tween._time||!$C())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Gu,aliases:$c,getSetter:function(e,t,r){var n=$c[t];return n&&n.indexOf(",")<0&&(t=n),t in Ku&&t!==to&&(e._gsap.x||Gu(e,"x"))?r&&gB===r?t==="scale"?mG:pG:(gB=r||{})&&(t==="scale"?gG:vG):e.style&&!BC(e.style[t])?dG:~t.indexOf("-")?hG:GC(e,t)},core:{_removeProperty:gd,_getMatrix:ZC}};no.utils.checkPrefix=Vg;no.core.getStyleSaver=VN;(function(i,e,t,r){var n=Qs(i+","+e+","+t,function(a){Ku[a]=1});Qs(e,function(a){Ro.units[a]="deg",ZN[a]=1}),$c[n[13]]=i+","+e,Qs(r,function(a){var s=a.split(":");$c[s[1]]=n[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Qs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Ro.units[i]="px"});no.registerPlugin(qN);var ud=no.registerPlugin(qN)||no;ud.core.Tween;let MB=typeof document<"u"?ot.useLayoutEffect:ot.useEffect,TB=i=>i&&!Array.isArray(i)&&typeof i=="object",O1=[],wG={},WN=ud;const By=(i,e=O1)=>{let t=wG;TB(i)?(t=i,i=null,e="dependencies"in t?t.dependencies:O1):TB(e)&&(t=e,e="dependencies"in t?t.dependencies:O1),i&&typeof i!="function"&&console.warn("First parameter must be a function or config object");const{scope:r,revertOnUpdate:n}=t,a=ot.useRef(!1),s=ot.useRef(WN.context(()=>{},r)),l=ot.useRef(d=>s.current.add(null,d)),f=e&&e.length&&!n;return f&&MB(()=>(a.current=!0,()=>s.current.revert()),O1),MB(()=>{if(i&&s.current.add(i,r),!f||!a.current)return()=>s.current.revert()},e),{context:s.current,contextSafe:l.current}};By.register=i=>{WN=i};By.headless=!0;function RG(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function DG(i,e,t){return e&&RG(i.prototype,e),i}var Ra,Kb,So,ad,sd,Ug,KN,kh,B_,QN,Xu,$l,eI,tI=function(){return Ra||typeof window<"u"&&(Ra=window.gsap)&&Ra.registerPlugin&&Ra},nI=1,Tg=[],Nn=[],Jc=[],U_=Date.now,H2=function(e,t){return t},BG=function(){var e=B_.core,t=e.bridge||{},r=e._scrollers,n=e._proxies;r.push.apply(r,Nn),n.push.apply(n,Jc),Nn=r,Jc=n,H2=function(s,l){return t[s](l)}},fd=function(e,t){return~Jc.indexOf(e)&&Jc[Jc.indexOf(e)+1][t]},O_=function(e){return!!~QN.indexOf(e)},Es=function(e,t,r,n,a){return e.addEventListener(t,r,{passive:n!==!1,capture:!!a})},Ss=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},N1="scrollLeft",I1="scrollTop",k2=function(){return Xu&&Xu.isPressed||Nn.cache++},_S=function(e,t){var r=function n(a){if(a||a===0){nI&&(So.history.scrollRestoration="manual");var s=Xu&&Xu.isPressed;a=n.v=Math.round(a)||(Xu&&Xu.iOS?1:0),e(a),n.cacheID=Nn.cache,s&&H2("ss",a)}else(t||Nn.cache!==n.cacheID||H2("ref"))&&(n.cacheID=Nn.cache,n.v=e());return n.v+n.offset};return r.offset=0,e&&r},Ns={s:N1,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_S(function(i){return arguments.length?So.scrollTo(i,Qr.sc()):So.pageXOffset||ad[N1]||sd[N1]||Ug[N1]||0})},Qr={s:I1,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ns,sc:_S(function(i){return arguments.length?So.scrollTo(Ns.sc(),i):So.pageYOffset||ad[I1]||sd[I1]||Ug[I1]||0})},Ys=function(e,t){return(t&&t._ctx&&t._ctx.selector||Ra.utils.toArray)(e)[0]||(typeof e=="string"&&Ra.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},UG=function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1},_d=function(e,t){var r=t.s,n=t.sc;O_(e)&&(e=ad.scrollingElement||sd);var a=Nn.indexOf(e),s=n===Qr.sc?1:2;!~a&&(a=Nn.push(e)-1),Nn[a+s]||Es(e,"scroll",k2);var l=Nn[a+s],f=l||(Nn[a+s]=_S(fd(e,r),!0)||(O_(e)?n:_S(function(d){return arguments.length?e[r]=d:e[r]})));return f.target=e,l||(f.smooth=Ra.getProperty(e,"scrollBehavior")==="smooth"),f},G2=function(e,t,r){var n=e,a=e,s=U_(),l=s,f=t||50,d=Math.max(500,f*3),m=function(b,M){var T=U_();M||T-s>f?(a=n,n=b,l=s,s=T):r?n+=b:n=a+(b-a)/(T-l)*(s-l)},g=function(){a=n=r?0:n,l=s=0},_=function(b){var M=l,T=a,A=U_();return(b||b===0)&&b!==n&&m(b),s===l||A-l>d?0:(n+(r?T:-T))/((r?A:s)-M)*1e3};return{update:m,reset:g,getVelocity:_}},K0=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},CB=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},iI=function(){B_=Ra.core.globals().ScrollTrigger,B_&&B_.core&&BG()},rI=function(e){return Ra=e||tI(),!Kb&&Ra&&typeof document<"u"&&document.body&&(So=window,ad=document,sd=ad.documentElement,Ug=ad.body,QN=[So,ad,sd,Ug],Ra.utils.clamp,eI=Ra.core.context||function(){},kh="onpointerenter"in Ug?"pointer":"mouse",KN=Mr.isTouch=So.matchMedia&&So.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in So||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,$l=Mr.eventTypes=("ontouchstart"in sd?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in sd?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return nI=0},500),iI(),Kb=1),Kb};Ns.op=Qr;Nn.cache=0;var Mr=(function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(r){Kb||rI(Ra)||console.warn("Please gsap.registerPlugin(Observer)"),B_||iI();var n=r.tolerance,a=r.dragMinimum,s=r.type,l=r.target,f=r.lineHeight,d=r.debounce,m=r.preventDefault,g=r.onStop,_=r.onStopDelay,x=r.ignore,b=r.wheelSpeed,M=r.event,T=r.onDragStart,A=r.onDragEnd,R=r.onDrag,B=r.onPress,D=r.onRelease,I=r.onRight,L=r.onLeft,P=r.onUp,F=r.onDown,O=r.onChangeX,U=r.onChangeY,G=r.onChange,X=r.onToggleX,te=r.onToggleY,ce=r.onHover,le=r.onHoverEnd,V=r.onMove,q=r.ignoreCheck,ee=r.isNormalizer,ve=r.onGestureStart,J=r.onGestureEnd,Z=r.onWheel,he=r.onEnable,Be=r.onDisable,we=r.onClick,Xe=r.scrollSpeed,_e=r.capture,Ce=r.allowClicks,Ze=r.lockAxis,et=r.onLockAxis;this.target=l=Ys(l)||sd,this.vars=r,x&&(x=Ra.utils.toArray(x)),n=n||1e-9,a=a||0,b=b||1,Xe=Xe||1,s=s||"wheel,touch,pointer",d=d!==!1,f||(f=parseFloat(So.getComputedStyle(Ug).lineHeight)||22);var mt,Mt,kt,Q,Ie,Le,Fe,ae=this,lt=0,We=0,rt=r.passive||!m&&r.passive!==!1,K=_d(l,Ns),de=_d(l,Qr),k=K(),H=de(),ie=~s.indexOf("touch")&&!~s.indexOf("pointer")&&$l[0]==="pointerdown",oe=O_(l),ye=l.ownerDocument||ad,xe=[0,0,0],at=[0,0,0],Je=0,_t=function(){return Je=U_()},ut=function(Ct,qt){return(ae.event=Ct)&&x&&UG(Ct.target,x)||qt&&ie&&Ct.pointerType!=="touch"||q&&q(Ct,qt)},Ke=function(){ae._vx.reset(),ae._vy.reset(),Mt.pause(),g&&g(ae)},tt=function(){var Ct=ae.deltaX=CB(xe),qt=ae.deltaY=CB(at),yt=Math.abs(Ct)>=n,$t=Math.abs(qt)>=n;G&&(yt||$t)&&G(ae,Ct,qt,xe,at),yt&&(I&&ae.deltaX>0&&I(ae),L&&ae.deltaX<0&&L(ae),O&&O(ae),X&&ae.deltaX<0!=lt<0&&X(ae),lt=ae.deltaX,xe[0]=xe[1]=xe[2]=0),$t&&(F&&ae.deltaY>0&&F(ae),P&&ae.deltaY<0&&P(ae),U&&U(ae),te&&ae.deltaY<0!=We<0&&te(ae),We=ae.deltaY,at[0]=at[1]=at[2]=0),(Q||kt)&&(V&&V(ae),kt&&(T&&kt===1&&T(ae),R&&R(ae),kt=0),Q=!1),Le&&!(Le=!1)&&et&&et(ae),Ie&&(Z(ae),Ie=!1),mt=0},St=function(Ct,qt,yt){xe[yt]+=Ct,at[yt]+=qt,ae._vx.update(Ct),ae._vy.update(qt),d?mt||(mt=requestAnimationFrame(tt)):tt()},se=function(Ct,qt){Ze&&!Fe&&(ae.axis=Fe=Math.abs(Ct)>Math.abs(qt)?"x":"y",Le=!0),Fe!=="y"&&(xe[2]+=Ct,ae._vx.update(Ct,!0)),Fe!=="x"&&(at[2]+=qt,ae._vy.update(qt,!0)),d?mt||(mt=requestAnimationFrame(tt)):tt()},Te=function(Ct){if(!ut(Ct,1)){Ct=K0(Ct,m);var qt=Ct.clientX,yt=Ct.clientY,$t=qt-ae.x,Ft=yt-ae.y,jt=ae.isDragging;ae.x=qt,ae.y=yt,(jt||($t||Ft)&&(Math.abs(ae.startX-qt)>=a||Math.abs(ae.startY-yt)>=a))&&(kt||(kt=jt?2:1),jt||(ae.isDragging=!0),se($t,Ft))}},st=ae.onPress=function(gt){ut(gt,1)||gt&&gt.button||(ae.axis=Fe=null,Mt.pause(),ae.isPressed=!0,gt=K0(gt),lt=We=0,ae.startX=ae.x=gt.clientX,ae.startY=ae.y=gt.clientY,ae._vx.reset(),ae._vy.reset(),Es(ee?l:ye,$l[1],Te,rt,!0),ae.deltaX=ae.deltaY=0,B&&B(ae))},re=ae.onRelease=function(gt){if(!ut(gt,1)){Ss(ee?l:ye,$l[1],Te,!0);var Ct=!isNaN(ae.y-ae.startY),qt=ae.isDragging,yt=qt&&(Math.abs(ae.x-ae.startX)>3||Math.abs(ae.y-ae.startY)>3),$t=K0(gt);!yt&&Ct&&(ae._vx.reset(),ae._vy.reset(),m&&Ce&&Ra.delayedCall(.08,function(){if(U_()-Je>300&&!gt.defaultPrevented){if(gt.target.click)gt.target.click();else if(ye.createEvent){var Ft=ye.createEvent("MouseEvents");Ft.initMouseEvent("click",!0,!0,So,1,$t.screenX,$t.screenY,$t.clientX,$t.clientY,!1,!1,!1,!1,0,null),gt.target.dispatchEvent(Ft)}}})),ae.isDragging=ae.isGesturing=ae.isPressed=!1,g&&qt&&!ee&&Mt.restart(!0),kt&&tt(),A&&qt&&A(ae),D&&D(ae,yt)}},je=function(Ct){return Ct.touches&&Ct.touches.length>1&&(ae.isGesturing=!0)&&ve(Ct,ae.isDragging)},nt=function(){return(ae.isGesturing=!1)||J(ae)},ht=function(Ct){if(!ut(Ct)){var qt=K(),yt=de();St((qt-k)*Xe,(yt-H)*Xe,1),k=qt,H=yt,g&&Mt.restart(!0)}},qe=function(Ct){if(!ut(Ct)){Ct=K0(Ct,m),Z&&(Ie=!0);var qt=(Ct.deltaMode===1?f:Ct.deltaMode===2?So.innerHeight:1)*b;St(Ct.deltaX*qt,Ct.deltaY*qt,0),g&&!ee&&Mt.restart(!0)}},Ge=function(Ct){if(!ut(Ct)){var qt=Ct.clientX,yt=Ct.clientY,$t=qt-ae.x,Ft=yt-ae.y;ae.x=qt,ae.y=yt,Q=!0,g&&Mt.restart(!0),($t||Ft)&&se($t,Ft)}},vt=function(Ct){ae.event=Ct,ce(ae)},Dt=function(Ct){ae.event=Ct,le(ae)},on=function(Ct){return ut(Ct)||K0(Ct,m)&&we(ae)};Mt=ae._dc=Ra.delayedCall(_||.25,Ke).pause(),ae.deltaX=ae.deltaY=0,ae._vx=G2(0,50,!0),ae._vy=G2(0,50,!0),ae.scrollX=K,ae.scrollY=de,ae.isDragging=ae.isGesturing=ae.isPressed=!1,eI(this),ae.enable=function(gt){return ae.isEnabled||(Es(oe?ye:l,"scroll",k2),s.indexOf("scroll")>=0&&Es(oe?ye:l,"scroll",ht,rt,_e),s.indexOf("wheel")>=0&&Es(l,"wheel",qe,rt,_e),(s.indexOf("touch")>=0&&KN||s.indexOf("pointer")>=0)&&(Es(l,$l[0],st,rt,_e),Es(ye,$l[2],re),Es(ye,$l[3],re),Ce&&Es(l,"click",_t,!0,!0),we&&Es(l,"click",on),ve&&Es(ye,"gesturestart",je),J&&Es(ye,"gestureend",nt),ce&&Es(l,kh+"enter",vt),le&&Es(l,kh+"leave",Dt),V&&Es(l,kh+"move",Ge)),ae.isEnabled=!0,ae.isDragging=ae.isGesturing=ae.isPressed=Q=kt=!1,ae._vx.reset(),ae._vy.reset(),k=K(),H=de(),gt&&gt.type&&st(gt),he&&he(ae)),ae},ae.disable=function(){ae.isEnabled&&(Tg.filter(function(gt){return gt!==ae&&O_(gt.target)}).length||Ss(oe?ye:l,"scroll",k2),ae.isPressed&&(ae._vx.reset(),ae._vy.reset(),Ss(ee?l:ye,$l[1],Te,!0)),Ss(oe?ye:l,"scroll",ht,_e),Ss(l,"wheel",qe,_e),Ss(l,$l[0],st,_e),Ss(ye,$l[2],re),Ss(ye,$l[3],re),Ss(l,"click",_t,!0),Ss(l,"click",on),Ss(ye,"gesturestart",je),Ss(ye,"gestureend",nt),Ss(l,kh+"enter",vt),Ss(l,kh+"leave",Dt),Ss(l,kh+"move",Ge),ae.isEnabled=ae.isPressed=ae.isDragging=!1,Be&&Be(ae))},ae.kill=ae.revert=function(){ae.disable();var gt=Tg.indexOf(ae);gt>=0&&Tg.splice(gt,1),Xu===ae&&(Xu=0)},Tg.push(ae),ee&&O_(l)&&(Xu=ae),ae.enable(M)},DG(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i})();Mr.version="3.14.2";Mr.create=function(i){return new Mr(i)};Mr.register=rI;Mr.getAll=function(){return Tg.slice()};Mr.getById=function(i){return Tg.filter(function(e){return e.vars.id===i})[0]};tI()&&Ra.registerPlugin(Mr);var zt,bg,On,Pi,xo,vi,YC,yS,oy,N_,__,z1,Za,AA,V2,Ds,wB,RB,Sg,aI,KM,sI,ws,j2,oI,lI,Wf,$2,JC,Og,qC,I_,X2,QM,L1=1,Ja=Date.now,eT=Ja(),pl=0,y_=0,DB=function(e,t,r){var n=_o(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=n,n?e.substr(6,e.length-7):e},BB=function(e,t){return t&&(!_o(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},OG=function i(){return y_&&requestAnimationFrame(i)},UB=function(){return AA=1},OB=function(){return AA=0},Gc=function(e){return e},x_=function(e){return Math.round(e*1e5)/1e5||0},cI=function(){return typeof window<"u"},uI=function(){return zt||cI()&&(zt=window.gsap)&&zt.registerPlugin&&zt},pp=function(e){return!!~YC.indexOf(e)},fI=function(e){return(e==="Height"?qC:On["inner"+e])||xo["client"+e]||vi["client"+e]},dI=function(e){return fd(e,"getBoundingClientRect")||(pp(e)?function(){return iS.width=On.innerWidth,iS.height=qC,iS}:function(){return ju(e)})},NG=function(e,t,r){var n=r.d,a=r.d2,s=r.a;return(s=fd(e,"getBoundingClientRect"))?function(){return s()[n]}:function(){return(t?fI(a):e["client"+a])||0}},IG=function(e,t){return!t||~Jc.indexOf(e)?dI(e):function(){return iS}},Xc=function(e,t){var r=t.s,n=t.d2,a=t.d,s=t.a;return Math.max(0,(r="scroll"+n)&&(s=fd(e,r))?s()-dI(e)()[a]:pp(e)?(xo[r]||vi[r])-fI(n):e[r]-e["offset"+n])},P1=function(e,t){for(var r=0;r<Sg.length;r+=3)(!t||~t.indexOf(Sg[r+1]))&&e(Sg[r],Sg[r+1],Sg[r+2])},_o=function(e){return typeof e=="string"},Wa=function(e){return typeof e=="function"},b_=function(e){return typeof e=="number"},Gh=function(e){return typeof e=="object"},Q0=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},tT=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Xm=Math.abs,hI="left",pI="top",WC="right",KC="bottom",lp="width",cp="height",z_="Right",L_="Left",P_="Top",F_="Bottom",zr="padding",ll="margin",jg="Width",QC="Height",Kr="px",cl=function(e){return On.getComputedStyle(e)},zG=function(e){var t=cl(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},NB=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},ju=function(e,t){var r=t&&cl(e)[V2]!=="matrix(1, 0, 0, 1, 0, 0)"&&zt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return r&&r.progress(0).kill(),n},xS=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},mI=function(e){var t=[],r=e.labels,n=e.duration(),a;for(a in r)t.push(r[a]/n);return t},LG=function(e){return function(t){return zt.utils.snap(mI(e),t)}},ew=function(e){var t=zt.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(n,a){return n-a});return r?function(n,a,s){s===void 0&&(s=.001);var l;if(!a)return t(n);if(a>0){for(n-=s,l=0;l<r.length;l++)if(r[l]>=n)return r[l];return r[l-1]}else for(l=r.length,n+=s;l--;)if(r[l]<=n)return r[l];return r[0]}:function(n,a,s){s===void 0&&(s=.001);var l=t(n);return!a||Math.abs(l-n)<s||l-n<0==a<0?l:t(a<0?n-e:n+e)}},PG=function(e){return function(t,r){return ew(mI(e))(t,r.direction)}},F1=function(e,t,r,n){return r.split(",").forEach(function(a){return e(t,a,n)})},ga=function(e,t,r,n,a){return e.addEventListener(t,r,{passive:!n,capture:!!a})},ma=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},H1=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},IB={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},k1={toggleActions:"play",anticipatePin:0},bS={top:0,left:0,center:.5,bottom:1,right:1},Qb=function(e,t){if(_o(e)){var r=e.indexOf("="),n=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in bS?bS[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},G1=function(e,t,r,n,a,s,l,f){var d=a.startColor,m=a.endColor,g=a.fontSize,_=a.indent,x=a.fontWeight,b=Pi.createElement("div"),M=pp(r)||fd(r,"pinType")==="fixed",T=e.indexOf("scroller")!==-1,A=M?vi:r,R=e.indexOf("start")!==-1,B=R?d:m,D="border-color:"+B+";font-size:"+g+";color:"+B+";font-weight:"+x+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return D+="position:"+((T||f)&&M?"fixed;":"absolute;"),(T||f||!M)&&(D+=(n===Qr?WC:KC)+":"+(s+parseFloat(_))+"px;"),l&&(D+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),b._isStart=R,b.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),b.style.cssText=D,b.innerText=t||t===0?e+"-"+t:e,A.children[0]?A.insertBefore(b,A.children[0]):A.appendChild(b),b._offset=b["offset"+n.op.d2],eS(b,0,n,R),b},eS=function(e,t,r,n){var a={display:"block"},s=r[n?"os2":"p2"],l=r[n?"p2":"os2"];e._isFlipped=n,a[r.a+"Percent"]=n?-100:0,a[r.a]=n?"1px":0,a["border"+s+jg]=1,a["border"+l+jg]=0,a[r.p]=t+"px",zt.set(e,a)},Rn=[],Z2={},ly,zB=function(){return Ja()-pl>34&&(ly||(ly=requestAnimationFrame(Yu)))},Zm=function(){(!ws||!ws.isPressed||ws.startX>vi.clientWidth)&&(Nn.cache++,ws?ly||(ly=requestAnimationFrame(Yu)):Yu(),pl||gp("scrollStart"),pl=Ja())},nT=function(){lI=On.innerWidth,oI=On.innerHeight},S_=function(e){Nn.cache++,(e===!0||!Za&&!sI&&!Pi.fullscreenElement&&!Pi.webkitFullscreenElement&&(!j2||lI!==On.innerWidth||Math.abs(On.innerHeight-oI)>On.innerHeight*.25))&&yS.restart(!0)},mp={},FG=[],gI=function i(){return ma(kn,"scrollEnd",i)||Jh(!0)},gp=function(e){return mp[e]&&mp[e].map(function(t){return t()})||FG},vo=[],vI=function(e){for(var t=0;t<vo.length;t+=5)(!e||vo[t+4]&&vo[t+4].query===e)&&(vo[t].style.cssText=vo[t+1],vo[t].getBBox&&vo[t].setAttribute("transform",vo[t+2]||""),vo[t+3].uncache=1)},_I=function(){return Nn.forEach(function(e){return Wa(e)&&++e.cacheID&&(e.rec=e())})},tw=function(e,t){var r;for(Ds=0;Ds<Rn.length;Ds++)r=Rn[Ds],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));I_=!0,t&&vI(t),t||gp("revert")},yI=function(e,t){Nn.cache++,(t||!Bs)&&Nn.forEach(function(r){return Wa(r)&&r.cacheID++&&(r.rec=0)}),_o(e)&&(On.history.scrollRestoration=JC=e)},Bs,up=0,LB,HG=function(){if(LB!==up){var e=LB=up;requestAnimationFrame(function(){return e===up&&Jh(!0)})}},xI=function(){vi.appendChild(Og),qC=!ws&&Og.offsetHeight||On.innerHeight,vi.removeChild(Og)},PB=function(e){return oy(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Jh=function(e,t){if(xo=Pi.documentElement,vi=Pi.body,YC=[On,Pi,xo,vi],pl&&!e&&!I_){ga(kn,"scrollEnd",gI);return}xI(),Bs=kn.isRefreshing=!0,I_||_I();var r=gp("refreshInit");aI&&kn.sort(),t||tw(),Nn.forEach(function(n){Wa(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),Rn.slice(0).forEach(function(n){return n.refresh()}),I_=!1,Rn.forEach(function(n){if(n._subPinOffset&&n.pin){var a=n.vars.horizontal?"offsetWidth":"offsetHeight",s=n.pin[a];n.revert(!0,1),n.adjustPinSpacing(n.pin[a]-s),n.refresh()}}),X2=1,PB(!0),Rn.forEach(function(n){var a=Xc(n.scroller,n._dir),s=n.vars.end==="max"||n._endClamp&&n.end>a,l=n._startClamp&&n.start>=a;(s||l)&&n.setPositions(l?a-1:n.start,s?Math.max(l?a:n.start+1,a):n.end,!0)}),PB(!1),X2=0,r.forEach(function(n){return n&&n.render&&n.render(-1)}),Nn.forEach(function(n){Wa(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),yI(JC,1),yS.pause(),up++,Bs=2,Yu(2),Rn.forEach(function(n){return Wa(n.vars.onRefresh)&&n.vars.onRefresh(n)}),Bs=kn.isRefreshing=!1,gp("refresh")},Y2=0,tS=1,H_,Yu=function(e){if(e===2||!Bs&&!I_){kn.isUpdating=!0,H_&&H_.update(0);var t=Rn.length,r=Ja(),n=r-eT>=50,a=t&&Rn[0].scroll();if(tS=Y2>a?-1:1,Bs||(Y2=a),n&&(pl&&!AA&&r-pl>200&&(pl=0,gp("scrollEnd")),__=eT,eT=r),tS<0){for(Ds=t;Ds-- >0;)Rn[Ds]&&Rn[Ds].update(0,n);tS=1}else for(Ds=0;Ds<t;Ds++)Rn[Ds]&&Rn[Ds].update(0,n);kn.isUpdating=!1}ly=0},J2=[hI,pI,KC,WC,ll+F_,ll+z_,ll+P_,ll+L_,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],nS=J2.concat([lp,cp,"boxSizing","max"+jg,"max"+QC,"position",ll,zr,zr+P_,zr+z_,zr+F_,zr+L_]),kG=function(e,t,r){Ng(r);var n=e._gsap;if(n.spacerIsNative)Ng(n.spacerState);else if(e._gsap.swappedIn){var a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))}e._gsap.swappedIn=!1},iT=function(e,t,r,n){if(!e._gsap.swappedIn){for(var a=J2.length,s=t.style,l=e.style,f;a--;)f=J2[a],s[f]=r[f];s.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(s.display="inline-block"),l[KC]=l[WC]="auto",s.flexBasis=r.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[lp]=xS(e,Ns)+Kr,s[cp]=xS(e,Qr)+Kr,s[zr]=l[ll]=l[pI]=l[hI]="0",Ng(n),l[lp]=l["max"+jg]=r[lp],l[cp]=l["max"+QC]=r[cp],l[zr]=r[zr],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},GG=/([A-Z])/g,Ng=function(e){if(e){var t=e.t.style,r=e.length,n=0,a,s;for((e.t._gsap||zt.core.getCache(e.t)).uncache=1;n<r;n+=2)s=e[n+1],a=e[n],s?t[a]=s:t[a]&&t.removeProperty(a.replace(GG,"-$1").toLowerCase())}},V1=function(e){for(var t=nS.length,r=e.style,n=[],a=0;a<t;a++)n.push(nS[a],r[nS[a]]);return n.t=e,n},VG=function(e,t,r){for(var n=[],a=e.length,s=r?8:0,l;s<a;s+=2)l=e[s],n.push(l,l in t?t[l]:e[s+1]);return n.t=e.t,n},iS={left:0,top:0},FB=function(e,t,r,n,a,s,l,f,d,m,g,_,x,b){Wa(e)&&(e=e(f)),_o(e)&&e.substr(0,3)==="max"&&(e=_+(e.charAt(4)==="="?Qb("0"+e.substr(3),r):0));var M=x?x.time():0,T,A,R;if(x&&x.seek(0),isNaN(e)||(e=+e),b_(e))x&&(e=zt.utils.mapRange(x.scrollTrigger.start,x.scrollTrigger.end,0,_,e)),l&&eS(l,r,n,!0);else{Wa(t)&&(t=t(f));var B=(e||"0").split(" "),D,I,L,P;R=Ys(t,f)||vi,D=ju(R)||{},(!D||!D.left&&!D.top)&&cl(R).display==="none"&&(P=R.style.display,R.style.display="block",D=ju(R),P?R.style.display=P:R.style.removeProperty("display")),I=Qb(B[0],D[n.d]),L=Qb(B[1]||"0",r),e=D[n.p]-d[n.p]-m+I+a-L,l&&eS(l,L,n,r-L<20||l._isStart&&L>20),r-=r-L}if(b&&(f[b]=e||-.001,e<0&&(e=0)),s){var F=e+r,O=s._isStart;T="scroll"+n.d2,eS(s,F,n,O&&F>20||!O&&(g?Math.max(vi[T],xo[T]):s.parentNode[T])<=F+1),g&&(d=ju(l),g&&(s.style[n.op.p]=d[n.op.p]-n.op.m-s._offset+Kr))}return x&&R&&(T=ju(R),x.seek(_),A=ju(R),x._caScrollDist=T[n.p]-A[n.p],e=e/x._caScrollDist*_),x&&x.seek(M),x?e:Math.round(e)},jG=/(webkit|moz|length|cssText|inset)/i,HB=function(e,t,r,n){if(e.parentNode!==t){var a=e.style,s,l;if(t===vi){e._stOrig=a.cssText,l=cl(e);for(s in l)!+s&&!jG.test(s)&&l[s]&&typeof a[s]=="string"&&s!=="0"&&(a[s]=l[s]);a.top=r,a.left=n}else a.cssText=e._stOrig;zt.core.getCache(e).uncache=1,t.appendChild(e)}},bI=function(e,t,r){var n=t,a=n;return function(s){var l=Math.round(e());return l!==n&&l!==a&&Math.abs(l-n)>3&&Math.abs(l-a)>3&&(s=l,r&&r()),a=n,n=Math.round(s),n}},j1=function(e,t,r){var n={};n[t.p]="+="+r,zt.set(e,n)},kB=function(e,t){var r=_d(e,t),n="_scroll"+t.p2,a=function s(l,f,d,m,g){var _=s.tween,x=f.onComplete,b={};d=d||r();var M=bI(r,d,function(){_.kill(),s.tween=0});return g=m&&g||0,m=m||l-d,_&&_.kill(),f[n]=l,f.inherit=!1,f.modifiers=b,b[n]=function(){return M(d+m*_.ratio+g*_.ratio*_.ratio)},f.onUpdate=function(){Nn.cache++,s.tween&&Yu()},f.onComplete=function(){s.tween=0,x&&x.call(_)},_=s.tween=zt.to(e,f),_};return e[n]=r,r.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},ga(e,"wheel",r.wheelHandler),kn.isTouch&&ga(e,"touchmove",r.wheelHandler),a},kn=(function(){function i(t,r){bg||i.register(zt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),$2(this),this.init(t,r)}var e=i.prototype;return e.init=function(r,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!y_){this.update=this.refresh=this.kill=Gc;return}r=NB(_o(r)||b_(r)||r.nodeType?{trigger:r}:r,k1);var a=r,s=a.onUpdate,l=a.toggleClass,f=a.id,d=a.onToggle,m=a.onRefresh,g=a.scrub,_=a.trigger,x=a.pin,b=a.pinSpacing,M=a.invalidateOnRefresh,T=a.anticipatePin,A=a.onScrubComplete,R=a.onSnapComplete,B=a.once,D=a.snap,I=a.pinReparent,L=a.pinSpacer,P=a.containerAnimation,F=a.fastScrollEnd,O=a.preventOverlaps,U=r.horizontal||r.containerAnimation&&r.horizontal!==!1?Ns:Qr,G=!g&&g!==0,X=Ys(r.scroller||On),te=zt.core.getCache(X),ce=pp(X),le=("pinType"in r?r.pinType:fd(X,"pinType")||ce&&"fixed")==="fixed",V=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],q=G&&r.toggleActions.split(" "),ee="markers"in r?r.markers:k1.markers,ve=ce?0:parseFloat(cl(X)["border"+U.p2+jg])||0,J=this,Z=r.onRefreshInit&&function(){return r.onRefreshInit(J)},he=NG(X,ce,U),Be=IG(X,ce),we=0,Xe=0,_e=0,Ce=_d(X,U),Ze,et,mt,Mt,kt,Q,Ie,Le,Fe,ae,lt,We,rt,K,de,k,H,ie,oe,ye,xe,at,Je,_t,ut,Ke,tt,St,se,Te,st,re,je,nt,ht,qe,Ge,vt,Dt;if(J._startClamp=J._endClamp=!1,J._dir=U,T*=45,J.scroller=X,J.scroll=P?P.time.bind(P):Ce,Mt=Ce(),J.vars=r,n=n||r.animation,"refreshPriority"in r&&(aI=1,r.refreshPriority===-9999&&(H_=J)),te.tweenScroll=te.tweenScroll||{top:kB(X,Qr),left:kB(X,Ns)},J.tweenTo=Ze=te.tweenScroll[U.p],J.scrubDuration=function(yt){je=b_(yt)&&yt,je?re?re.duration(yt):re=zt.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:je,paused:!0,onComplete:function(){return A&&A(J)}}):(re&&re.progress(1).kill(),re=0)},n&&(n.vars.lazy=!1,n._initted&&!J.isReverted||n.vars.immediateRender!==!1&&r.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),J.animation=n.pause(),n.scrollTrigger=J,J.scrubDuration(g),Te=0,f||(f=n.vars.id)),D&&((!Gh(D)||D.push)&&(D={snapTo:D}),"scrollBehavior"in vi.style&&zt.set(ce?[vi,xo]:X,{scrollBehavior:"auto"}),Nn.forEach(function(yt){return Wa(yt)&&yt.target===(ce?Pi.scrollingElement||xo:X)&&(yt.smooth=!1)}),mt=Wa(D.snapTo)?D.snapTo:D.snapTo==="labels"?LG(n):D.snapTo==="labelsDirectional"?PG(n):D.directional!==!1?function(yt,$t){return ew(D.snapTo)(yt,Ja()-Xe<500?0:$t.direction)}:zt.utils.snap(D.snapTo),nt=D.duration||{min:.1,max:2},nt=Gh(nt)?N_(nt.min,nt.max):N_(nt,nt),ht=zt.delayedCall(D.delay||je/2||.1,function(){var yt=Ce(),$t=Ja()-Xe<500,Ft=Ze.tween;if(($t||Math.abs(J.getVelocity())<10)&&!Ft&&!AA&&we!==yt){var jt=(yt-Q)/K,bi=n&&!G?n.totalProgress():jt,Wt=$t?0:(bi-st)/(Ja()-__)*1e3||0,In=zt.utils.clamp(-jt,1-jt,Xm(Wt/2)*Wt/.185),$n=jt+(D.inertia===!1?0:In),Ot,un,Mn=D,Cr=Mn.onStart,hi=Mn.onInterrupt,kr=Mn.onComplete;if(Ot=mt($n,J),b_(Ot)||(Ot=$n),un=Math.max(0,Math.round(Q+Ot*K)),yt<=Ie&&yt>=Q&&un!==yt){if(Ft&&!Ft._initted&&Ft.data<=Xm(un-yt))return;D.inertia===!1&&(In=Ot-jt),Ze(un,{duration:nt(Xm(Math.max(Xm($n-bi),Xm(Ot-bi))*.185/Wt/.05||0)),ease:D.ease||"power3",data:Xm(un-yt),onInterrupt:function(){return ht.restart(!0)&&hi&&hi(J)},onComplete:function(){J.update(),we=Ce(),n&&!G&&(re?re.resetTo("totalProgress",Ot,n._tTime/n._tDur):n.progress(Ot)),Te=st=n&&!G?n.totalProgress():J.progress,R&&R(J),kr&&kr(J)}},yt,In*K,un-yt-In*K),Cr&&Cr(J,Ze.tween)}}else J.isActive&&we!==yt&&ht.restart(!0)}).pause()),f&&(Z2[f]=J),_=J.trigger=Ys(_||x!==!0&&x),Dt=_&&_._gsap&&_._gsap.stRevert,Dt&&(Dt=Dt(J)),x=x===!0?_:Ys(x),_o(l)&&(l={targets:_,className:l}),x&&(b===!1||b===ll||(b=!b&&x.parentNode&&x.parentNode.style&&cl(x.parentNode).display==="flex"?!1:zr),J.pin=x,et=zt.core.getCache(x),et.spacer?de=et.pinState:(L&&(L=Ys(L),L&&!L.nodeType&&(L=L.current||L.nativeElement),et.spacerIsNative=!!L,L&&(et.spacerState=V1(L))),et.spacer=ie=L||Pi.createElement("div"),ie.classList.add("pin-spacer"),f&&ie.classList.add("pin-spacer-"+f),et.pinState=de=V1(x)),r.force3D!==!1&&zt.set(x,{force3D:!0}),J.spacer=ie=et.spacer,se=cl(x),_t=se[b+U.os2],ye=zt.getProperty(x),xe=zt.quickSetter(x,U.a,Kr),iT(x,ie,se),H=V1(x)),ee){We=Gh(ee)?NB(ee,IB):IB,ae=G1("scroller-start",f,X,U,We,0),lt=G1("scroller-end",f,X,U,We,0,ae),oe=ae["offset"+U.op.d2];var on=Ys(fd(X,"content")||X);Le=this.markerStart=G1("start",f,on,U,We,oe,0,P),Fe=this.markerEnd=G1("end",f,on,U,We,oe,0,P),P&&(vt=zt.quickSetter([Le,Fe],U.a,Kr)),!le&&!(Jc.length&&fd(X,"fixedMarkers")===!0)&&(zG(ce?vi:X),zt.set([ae,lt],{force3D:!0}),Ke=zt.quickSetter(ae,U.a,Kr),St=zt.quickSetter(lt,U.a,Kr))}if(P){var gt=P.vars.onUpdate,Ct=P.vars.onUpdateParams;P.eventCallback("onUpdate",function(){J.update(0,0,1),gt&&gt.apply(P,Ct||[])})}if(J.previous=function(){return Rn[Rn.indexOf(J)-1]},J.next=function(){return Rn[Rn.indexOf(J)+1]},J.revert=function(yt,$t){if(!$t)return J.kill(!0);var Ft=yt!==!1||!J.enabled,jt=Za;Ft!==J.isReverted&&(Ft&&(qe=Math.max(Ce(),J.scroll.rec||0),_e=J.progress,Ge=n&&n.progress()),Le&&[Le,Fe,ae,lt].forEach(function(bi){return bi.style.display=Ft?"none":"block"}),Ft&&(Za=J,J.update(Ft)),x&&(!I||!J.isActive)&&(Ft?kG(x,ie,de):iT(x,ie,cl(x),ut)),Ft||J.update(Ft),Za=jt,J.isReverted=Ft)},J.refresh=function(yt,$t,Ft,jt){if(!((Za||!J.enabled)&&!$t)){if(x&&yt&&pl){ga(i,"scrollEnd",gI);return}!Bs&&Z&&Z(J),Za=J,Ze.tween&&!Ft&&(Ze.tween.kill(),Ze.tween=0),re&&re.pause(),M&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(_n){return _n.vars.immediateRender&&_n.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),J.isReverted||J.revert(!0,!0),J._subPinOffset=!1;var bi=he(),Wt=Be(),In=P?P.duration():Xc(X,U),$n=K<=.01||!K,Ot=0,un=jt||0,Mn=Gh(Ft)?Ft.end:r.end,Cr=r.endTrigger||_,hi=Gh(Ft)?Ft.start:r.start||(r.start===0||!_?0:x?"0 0":"0 100%"),kr=J.pinnedContainer=r.pinnedContainer&&Ys(r.pinnedContainer,J),Gr=_&&Math.max(0,Rn.indexOf(J))||0,_i=Gr,j,pe,Ae,Ue,ge,ke,ft,wt,bt,Ut,Ht,Nt,ln;for(ee&&Gh(Ft)&&(Nt=zt.getProperty(ae,U.p),ln=zt.getProperty(lt,U.p));_i-- >0;)ke=Rn[_i],ke.end||ke.refresh(0,1)||(Za=J),ft=ke.pin,ft&&(ft===_||ft===x||ft===kr)&&!ke.isReverted&&(Ut||(Ut=[]),Ut.unshift(ke),ke.revert(!0,!0)),ke!==Rn[_i]&&(Gr--,_i--);for(Wa(hi)&&(hi=hi(J)),hi=DB(hi,"start",J),Q=FB(hi,_,bi,U,Ce(),Le,ae,J,Wt,ve,le,In,P,J._startClamp&&"_startClamp")||(x?-.001:0),Wa(Mn)&&(Mn=Mn(J)),_o(Mn)&&!Mn.indexOf("+=")&&(~Mn.indexOf(" ")?Mn=(_o(hi)?hi.split(" ")[0]:"")+Mn:(Ot=Qb(Mn.substr(2),bi),Mn=_o(hi)?hi:(P?zt.utils.mapRange(0,P.duration(),P.scrollTrigger.start,P.scrollTrigger.end,Q):Q)+Ot,Cr=_)),Mn=DB(Mn,"end",J),Ie=Math.max(Q,FB(Mn||(Cr?"100% 0":In),Cr,bi,U,Ce()+Ot,Fe,lt,J,Wt,ve,le,In,P,J._endClamp&&"_endClamp"))||-.001,Ot=0,_i=Gr;_i--;)ke=Rn[_i]||{},ft=ke.pin,ft&&ke.start-ke._pinPush<=Q&&!P&&ke.end>0&&(j=ke.end-(J._startClamp?Math.max(0,ke.start):ke.start),(ft===_&&ke.start-ke._pinPush<Q||ft===kr)&&isNaN(hi)&&(Ot+=j*(1-ke.progress)),ft===x&&(un+=j));if(Q+=Ot,Ie+=Ot,J._startClamp&&(J._startClamp+=Ot),J._endClamp&&!Bs&&(J._endClamp=Ie||-.001,Ie=Math.min(Ie,Xc(X,U))),K=Ie-Q||(Q-=.01)&&.001,$n&&(_e=zt.utils.clamp(0,1,zt.utils.normalize(Q,Ie,qe))),J._pinPush=un,Le&&Ot&&(j={},j[U.a]="+="+Ot,kr&&(j[U.p]="-="+Ce()),zt.set([Le,Fe],j)),x&&!(X2&&J.end>=Xc(X,U)))j=cl(x),Ue=U===Qr,Ae=Ce(),at=parseFloat(ye(U.a))+un,!In&&Ie>1&&(Ht=(ce?Pi.scrollingElement||xo:X).style,Ht={style:Ht,value:Ht["overflow"+U.a.toUpperCase()]},ce&&cl(vi)["overflow"+U.a.toUpperCase()]!=="scroll"&&(Ht.style["overflow"+U.a.toUpperCase()]="scroll")),iT(x,ie,j),H=V1(x),pe=ju(x,!0),wt=le&&_d(X,Ue?Ns:Qr)(),b?(ut=[b+U.os2,K+un+Kr],ut.t=ie,_i=b===zr?xS(x,U)+K+un:0,_i&&(ut.push(U.d,_i+Kr),ie.style.flexBasis!=="auto"&&(ie.style.flexBasis=_i+Kr)),Ng(ut),kr&&Rn.forEach(function(_n){_n.pin===kr&&_n.vars.pinSpacing!==!1&&(_n._subPinOffset=!0)}),le&&Ce(qe)):(_i=xS(x,U),_i&&ie.style.flexBasis!=="auto"&&(ie.style.flexBasis=_i+Kr)),le&&(ge={top:pe.top+(Ue?Ae-Q:wt)+Kr,left:pe.left+(Ue?wt:Ae-Q)+Kr,boxSizing:"border-box",position:"fixed"},ge[lp]=ge["max"+jg]=Math.ceil(pe.width)+Kr,ge[cp]=ge["max"+QC]=Math.ceil(pe.height)+Kr,ge[ll]=ge[ll+P_]=ge[ll+z_]=ge[ll+F_]=ge[ll+L_]="0",ge[zr]=j[zr],ge[zr+P_]=j[zr+P_],ge[zr+z_]=j[zr+z_],ge[zr+F_]=j[zr+F_],ge[zr+L_]=j[zr+L_],k=VG(de,ge,I),Bs&&Ce(0)),n?(bt=n._initted,KM(1),n.render(n.duration(),!0,!0),Je=ye(U.a)-at+K+un,tt=Math.abs(K-Je)>1,le&&tt&&k.splice(k.length-2,2),n.render(0,!0,!0),bt||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),KM(0)):Je=K,Ht&&(Ht.value?Ht.style["overflow"+U.a.toUpperCase()]=Ht.value:Ht.style.removeProperty("overflow-"+U.a));else if(_&&Ce()&&!P)for(pe=_.parentNode;pe&&pe!==vi;)pe._pinOffset&&(Q-=pe._pinOffset,Ie-=pe._pinOffset),pe=pe.parentNode;Ut&&Ut.forEach(function(_n){return _n.revert(!1,!0)}),J.start=Q,J.end=Ie,Mt=kt=Bs?qe:Ce(),!P&&!Bs&&(Mt<qe&&Ce(qe),J.scroll.rec=0),J.revert(!1,!0),Xe=Ja(),ht&&(we=-1,ht.restart(!0)),Za=0,n&&G&&(n._initted||Ge)&&n.progress()!==Ge&&n.progress(Ge||0,!0).render(n.time(),!0,!0),($n||_e!==J.progress||P||M||n&&!n._initted)&&(n&&!G&&(n._initted||_e||n.vars.immediateRender!==!1)&&n.totalProgress(P&&Q<-.001&&!_e?zt.utils.normalize(Q,Ie,0):_e,!0),J.progress=$n||(Mt-Q)/K===_e?0:_e),x&&b&&(ie._pinOffset=Math.round(J.progress*Je)),re&&re.invalidate(),isNaN(Nt)||(Nt-=zt.getProperty(ae,U.p),ln-=zt.getProperty(lt,U.p),j1(ae,U,Nt),j1(Le,U,Nt-(jt||0)),j1(lt,U,ln),j1(Fe,U,ln-(jt||0))),$n&&!Bs&&J.update(),m&&!Bs&&!rt&&(rt=!0,m(J),rt=!1)}},J.getVelocity=function(){return(Ce()-kt)/(Ja()-__)*1e3||0},J.endAnimation=function(){Q0(J.callbackAnimation),n&&(re?re.progress(1):n.paused()?G||Q0(n,J.direction<0,1):Q0(n,n.reversed()))},J.labelToScroll=function(yt){return n&&n.labels&&(Q||J.refresh()||Q)+n.labels[yt]/n.duration()*K||0},J.getTrailing=function(yt){var $t=Rn.indexOf(J),Ft=J.direction>0?Rn.slice(0,$t).reverse():Rn.slice($t+1);return(_o(yt)?Ft.filter(function(jt){return jt.vars.preventOverlaps===yt}):Ft).filter(function(jt){return J.direction>0?jt.end<=Q:jt.start>=Ie})},J.update=function(yt,$t,Ft){if(!(P&&!Ft&&!yt)){var jt=Bs===!0?qe:J.scroll(),bi=yt?0:(jt-Q)/K,Wt=bi<0?0:bi>1?1:bi||0,In=J.progress,$n,Ot,un,Mn,Cr,hi,kr,Gr;if($t&&(kt=Mt,Mt=P?Ce():jt,D&&(st=Te,Te=n&&!G?n.totalProgress():Wt)),T&&x&&!Za&&!L1&&pl&&(!Wt&&Q<jt+(jt-kt)/(Ja()-__)*T?Wt=1e-4:Wt===1&&Ie>jt+(jt-kt)/(Ja()-__)*T&&(Wt=.9999)),Wt!==In&&J.enabled){if($n=J.isActive=!!Wt&&Wt<1,Ot=!!In&&In<1,hi=$n!==Ot,Cr=hi||!!Wt!=!!In,J.direction=Wt>In?1:-1,J.progress=Wt,Cr&&!Za&&(un=Wt&&!In?0:Wt===1?1:In===1?2:3,G&&(Mn=!hi&&q[un+1]!=="none"&&q[un+1]||q[un],Gr=n&&(Mn==="complete"||Mn==="reset"||Mn in n))),O&&(hi||Gr)&&(Gr||g||!n)&&(Wa(O)?O(J):J.getTrailing(O).forEach(function(Ae){return Ae.endAnimation()})),G||(re&&!Za&&!L1?(re._dp._time-re._start!==re._time&&re.render(re._dp._time-re._start),re.resetTo?re.resetTo("totalProgress",Wt,n._tTime/n._tDur):(re.vars.totalProgress=Wt,re.invalidate().restart())):n&&n.totalProgress(Wt,!!(Za&&(Xe||yt)))),x){if(yt&&b&&(ie.style[b+U.os2]=_t),!le)xe(x_(at+Je*Wt));else if(Cr){if(kr=!yt&&Wt>In&&Ie+1>jt&&jt+1>=Xc(X,U),I)if(!yt&&($n||kr)){var _i=ju(x,!0),j=jt-Q;HB(x,vi,_i.top+(U===Qr?j:0)+Kr,_i.left+(U===Qr?0:j)+Kr)}else HB(x,ie);Ng($n||kr?k:H),tt&&Wt<1&&$n||xe(at+(Wt===1&&!kr?Je:0))}}D&&!Ze.tween&&!Za&&!L1&&ht.restart(!0),l&&(hi||B&&Wt&&(Wt<1||!QM))&&oy(l.targets).forEach(function(Ae){return Ae.classList[$n||B?"add":"remove"](l.className)}),s&&!G&&!yt&&s(J),Cr&&!Za?(G&&(Gr&&(Mn==="complete"?n.pause().totalProgress(1):Mn==="reset"?n.restart(!0).pause():Mn==="restart"?n.restart(!0):n[Mn]()),s&&s(J)),(hi||!QM)&&(d&&hi&&tT(J,d),V[un]&&tT(J,V[un]),B&&(Wt===1?J.kill(!1,1):V[un]=0),hi||(un=Wt===1?1:3,V[un]&&tT(J,V[un]))),F&&!$n&&Math.abs(J.getVelocity())>(b_(F)?F:2500)&&(Q0(J.callbackAnimation),re?re.progress(1):Q0(n,Mn==="reverse"?1:!Wt,1))):G&&s&&!Za&&s(J)}if(St){var pe=P?jt/P.duration()*(P._caScrollDist||0):jt;Ke(pe+(ae._isFlipped?1:0)),St(pe)}vt&&vt(-jt/P.duration()*(P._caScrollDist||0))}},J.enable=function(yt,$t){J.enabled||(J.enabled=!0,ga(X,"resize",S_),ce||ga(X,"scroll",Zm),Z&&ga(i,"refreshInit",Z),yt!==!1&&(J.progress=_e=0,Mt=kt=we=Ce()),$t!==!1&&J.refresh())},J.getTween=function(yt){return yt&&Ze?Ze.tween:re},J.setPositions=function(yt,$t,Ft,jt){if(P){var bi=P.scrollTrigger,Wt=P.duration(),In=bi.end-bi.start;yt=bi.start+In*yt/Wt,$t=bi.start+In*$t/Wt}J.refresh(!1,!1,{start:BB(yt,Ft&&!!J._startClamp),end:BB($t,Ft&&!!J._endClamp)},jt),J.update()},J.adjustPinSpacing=function(yt){if(ut&&yt){var $t=ut.indexOf(U.d)+1;ut[$t]=parseFloat(ut[$t])+yt+Kr,ut[1]=parseFloat(ut[1])+yt+Kr,Ng(ut)}},J.disable=function(yt,$t){if(yt!==!1&&J.revert(!0,!0),J.enabled&&(J.enabled=J.isActive=!1,$t||re&&re.pause(),qe=0,et&&(et.uncache=1),Z&&ma(i,"refreshInit",Z),ht&&(ht.pause(),Ze.tween&&Ze.tween.kill()&&(Ze.tween=0)),!ce)){for(var Ft=Rn.length;Ft--;)if(Rn[Ft].scroller===X&&Rn[Ft]!==J)return;ma(X,"resize",S_),ce||ma(X,"scroll",Zm)}},J.kill=function(yt,$t){J.disable(yt,$t),re&&!$t&&re.kill(),f&&delete Z2[f];var Ft=Rn.indexOf(J);Ft>=0&&Rn.splice(Ft,1),Ft===Ds&&tS>0&&Ds--,Ft=0,Rn.forEach(function(jt){return jt.scroller===J.scroller&&(Ft=1)}),Ft||Bs||(J.scroll.rec=0),n&&(n.scrollTrigger=null,yt&&n.revert({kill:!1}),$t||n.kill()),Le&&[Le,Fe,ae,lt].forEach(function(jt){return jt.parentNode&&jt.parentNode.removeChild(jt)}),H_===J&&(H_=0),x&&(et&&(et.uncache=1),Ft=0,Rn.forEach(function(jt){return jt.pin===x&&Ft++}),Ft||(et.spacer=0)),r.onKill&&r.onKill(J)},Rn.push(J),J.enable(!1,!1),Dt&&Dt(J),n&&n.add&&!K){var qt=J.update;J.update=function(){J.update=qt,Nn.cache++,Q||Ie||J.refresh()},zt.delayedCall(.01,J.update),K=.01,Q=Ie=0}else J.refresh();x&&HG()},i.register=function(r){return bg||(zt=r||uI(),cI()&&window.document&&i.enable(),bg=y_),bg},i.defaults=function(r){if(r)for(var n in r)k1[n]=r[n];return k1},i.disable=function(r,n){y_=0,Rn.forEach(function(s){return s[n?"kill":"disable"](r)}),ma(On,"wheel",Zm),ma(Pi,"scroll",Zm),clearInterval(z1),ma(Pi,"touchcancel",Gc),ma(vi,"touchstart",Gc),F1(ma,Pi,"pointerdown,touchstart,mousedown",UB),F1(ma,Pi,"pointerup,touchend,mouseup",OB),yS.kill(),P1(ma);for(var a=0;a<Nn.length;a+=3)H1(ma,Nn[a],Nn[a+1]),H1(ma,Nn[a],Nn[a+2])},i.enable=function(){if(On=window,Pi=document,xo=Pi.documentElement,vi=Pi.body,zt&&(oy=zt.utils.toArray,N_=zt.utils.clamp,$2=zt.core.context||Gc,KM=zt.core.suppressOverwrites||Gc,JC=On.history.scrollRestoration||"auto",Y2=On.pageYOffset||0,zt.core.globals("ScrollTrigger",i),vi)){y_=1,Og=document.createElement("div"),Og.style.height="100vh",Og.style.position="absolute",xI(),OG(),Mr.register(zt),i.isTouch=Mr.isTouch,Wf=Mr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),j2=Mr.isTouch===1,ga(On,"wheel",Zm),YC=[On,Pi,xo,vi],zt.matchMedia?(i.matchMedia=function(d){var m=zt.matchMedia(),g;for(g in d)m.add(g,d[g]);return m},zt.addEventListener("matchMediaInit",function(){_I(),tw()}),zt.addEventListener("matchMediaRevert",function(){return vI()}),zt.addEventListener("matchMedia",function(){Jh(0,1),gp("matchMedia")}),zt.matchMedia().add("(orientation: portrait)",function(){return nT(),nT})):console.warn("Requires GSAP 3.11.0 or later"),nT(),ga(Pi,"scroll",Zm);var r=vi.hasAttribute("style"),n=vi.style,a=n.borderTopStyle,s=zt.core.Animation.prototype,l,f;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",l=ju(vi),Qr.m=Math.round(l.top+Qr.sc())||0,Ns.m=Math.round(l.left+Ns.sc())||0,a?n.borderTopStyle=a:n.removeProperty("border-top-style"),r||(vi.setAttribute("style",""),vi.removeAttribute("style")),z1=setInterval(zB,250),zt.delayedCall(.5,function(){return L1=0}),ga(Pi,"touchcancel",Gc),ga(vi,"touchstart",Gc),F1(ga,Pi,"pointerdown,touchstart,mousedown",UB),F1(ga,Pi,"pointerup,touchend,mouseup",OB),V2=zt.utils.checkPrefix("transform"),nS.push(V2),bg=Ja(),yS=zt.delayedCall(.2,Jh).pause(),Sg=[Pi,"visibilitychange",function(){var d=On.innerWidth,m=On.innerHeight;Pi.hidden?(wB=d,RB=m):(wB!==d||RB!==m)&&S_()},Pi,"DOMContentLoaded",Jh,On,"load",Jh,On,"resize",S_],P1(ga),Rn.forEach(function(d){return d.enable(0,1)}),f=0;f<Nn.length;f+=3)H1(ma,Nn[f],Nn[f+1]),H1(ma,Nn[f],Nn[f+2])}},i.config=function(r){"limitCallbacks"in r&&(QM=!!r.limitCallbacks);var n=r.syncInterval;n&&clearInterval(z1)||(z1=n)&&setInterval(zB,n),"ignoreMobileResize"in r&&(j2=i.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(P1(ma)||P1(ga,r.autoRefreshEvents||"none"),sI=(r.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(r,n){var a=Ys(r),s=Nn.indexOf(a),l=pp(a);~s&&Nn.splice(s,l?6:2),n&&(l?Jc.unshift(On,n,vi,n,xo,n):Jc.unshift(a,n))},i.clearMatchMedia=function(r){Rn.forEach(function(n){return n._ctx&&n._ctx.query===r&&n._ctx.kill(!0,!0)})},i.isInViewport=function(r,n,a){var s=(_o(r)?Ys(r):r).getBoundingClientRect(),l=s[a?lp:cp]*n||0;return a?s.right-l>0&&s.left+l<On.innerWidth:s.bottom-l>0&&s.top+l<On.innerHeight},i.positionInViewport=function(r,n,a){_o(r)&&(r=Ys(r));var s=r.getBoundingClientRect(),l=s[a?lp:cp],f=n==null?l/2:n in bS?bS[n]*l:~n.indexOf("%")?parseFloat(n)*l/100:parseFloat(n)||0;return a?(s.left+f)/On.innerWidth:(s.top+f)/On.innerHeight},i.killAll=function(r){if(Rn.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),r!==!0){var n=mp.killAll||[];mp={},n.forEach(function(a){return a()})}},i})();kn.version="3.14.2";kn.saveStyles=function(i){return i?oy(i).forEach(function(e){if(e&&e.style){var t=vo.indexOf(e);t>=0&&vo.splice(t,5),vo.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),zt.core.getCache(e),$2())}}):vo};kn.revert=function(i,e){return tw(!i,e)};kn.create=function(i,e){return new kn(i,e)};kn.refresh=function(i){return i?S_(!0):(bg||kn.register())&&Jh(!0)};kn.update=function(i){return++Nn.cache&&Yu(i===!0?2:0)};kn.clearScrollMemory=yI;kn.maxScroll=function(i,e){return Xc(i,e?Ns:Qr)};kn.getScrollFunc=function(i,e){return _d(Ys(i),e?Ns:Qr)};kn.getById=function(i){return Z2[i]};kn.getAll=function(){return Rn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};kn.isScrolling=function(){return!!pl};kn.snapDirectional=ew;kn.addEventListener=function(i,e){var t=mp[i]||(mp[i]=[]);~t.indexOf(e)||t.push(e)};kn.removeEventListener=function(i,e){var t=mp[i],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};kn.batch=function(i,e){var t=[],r={},n=e.interval||.016,a=e.batchMax||1e9,s=function(d,m){var g=[],_=[],x=zt.delayedCall(n,function(){m(g,_),g=[],_=[]}).pause();return function(b){g.length||x.restart(!0),g.push(b.trigger),_.push(b),a<=g.length&&x.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&Wa(e[l])&&l!=="onRefreshInit"?s(l,e[l]):e[l];return Wa(a)&&(a=a(),ga(kn,"refresh",function(){return a=e.batchMax()})),oy(i).forEach(function(f){var d={};for(l in r)d[l]=r[l];d.trigger=f,t.push(kn.create(d))}),t};var GB=function(e,t,r,n){return t>n?e(n):t<0&&e(0),r>n?(n-t)/(r-t):r<0?t/(t-r):1},rT=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Mr.isTouch?" pinch-zoom":""):"none",e===xo&&i(vi,t)},$1={auto:1,scroll:1},$G=function(e){var t=e.event,r=e.target,n=e.axis,a=(t.changedTouches?t.changedTouches[0]:t).target,s=a._gsap||zt.core.getCache(a),l=Ja(),f;if(!s._isScrollT||l-s._isScrollT>2e3){for(;a&&a!==vi&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!($1[(f=cl(a)).overflowY]||$1[f.overflowX]));)a=a.parentNode;s._isScroll=a&&a!==r&&!pp(a)&&($1[(f=cl(a)).overflowY]||$1[f.overflowX]),s._isScrollT=l}(s._isScroll||n==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},SI=function(e,t,r,n){return Mr.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:n=n&&$G,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return r&&ga(Pi,Mr.eventTypes[0],jB,!1,!0)},onDisable:function(){return ma(Pi,Mr.eventTypes[0],jB,!0)}})},XG=/(input|label|select|textarea)/i,VB,jB=function(e){var t=XG.test(e.target.tagName);(t||VB)&&(e._gsapAllow=!0,VB=t)},ZG=function(e){Gh(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,n=t.momentum,a=t.allowNestedScroll,s=t.onRelease,l,f,d=Ys(e.target)||xo,m=zt.core.globals().ScrollSmoother,g=m&&m.get(),_=Wf&&(e.content&&Ys(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),x=_d(d,Qr),b=_d(d,Ns),M=1,T=(Mr.isTouch&&On.visualViewport?On.visualViewport.scale*On.visualViewport.width:On.outerWidth)/On.innerWidth,A=0,R=Wa(n)?function(){return n(l)}:function(){return n||2.8},B,D,I=SI(d,e.type,!0,a),L=function(){return D=!1},P=Gc,F=Gc,O=function(){f=Xc(d,Qr),F=N_(Wf?1:0,f),r&&(P=N_(0,Xc(d,Ns))),B=up},U=function(){_._gsap.y=x_(parseFloat(_._gsap.y)+x.offset)+"px",_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(_._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},G=function(){if(D){requestAnimationFrame(L);var ee=x_(l.deltaY/2),ve=F(x.v-ee);if(_&&ve!==x.v+x.offset){x.offset=ve-x.v;var J=x_((parseFloat(_&&_._gsap.y)||0)-x.offset);_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+J+", 0, 1)",_._gsap.y=J+"px",x.cacheID=Nn.cache,Yu()}return!0}x.offset&&U(),D=!0},X,te,ce,le,V=function(){O(),X.isActive()&&X.vars.scrollY>f&&(x()>f?X.progress(1)&&x(f):X.resetTo("scrollY",f))};return _&&zt.set(_,{y:"+=0"}),e.ignoreCheck=function(q){return Wf&&q.type==="touchmove"&&G()||M>1.05&&q.type!=="touchstart"||l.isGesturing||q.touches&&q.touches.length>1},e.onPress=function(){D=!1;var q=M;M=x_((On.visualViewport&&On.visualViewport.scale||1)/T),X.pause(),q!==M&&rT(d,M>1.01?!0:r?!1:"x"),te=b(),ce=x(),O(),B=up},e.onRelease=e.onGestureStart=function(q,ee){if(x.offset&&U(),!ee)le.restart(!0);else{Nn.cache++;var ve=R(),J,Z;r&&(J=b(),Z=J+ve*.05*-q.velocityX/.227,ve*=GB(b,J,Z,Xc(d,Ns)),X.vars.scrollX=P(Z)),J=x(),Z=J+ve*.05*-q.velocityY/.227,ve*=GB(x,J,Z,Xc(d,Qr)),X.vars.scrollY=F(Z),X.invalidate().duration(ve).play(.01),(Wf&&X.vars.scrollY>=f||J>=f-1)&&zt.to({},{onUpdate:V,duration:ve})}s&&s(q)},e.onWheel=function(){X._ts&&X.pause(),Ja()-A>1e3&&(B=0,A=Ja())},e.onChange=function(q,ee,ve,J,Z){if(up!==B&&O(),ee&&r&&b(P(J[2]===ee?te+(q.startX-q.x):b()+ee-J[1])),ve){x.offset&&U();var he=Z[2]===ve,Be=he?ce+q.startY-q.y:x()+ve-Z[1],we=F(Be);he&&Be!==we&&(ce+=we-Be),x(we)}(ve||ee)&&Yu()},e.onEnable=function(){rT(d,r?!1:"x"),kn.addEventListener("refresh",V),ga(On,"resize",V),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=b.smooth=!1),I.enable()},e.onDisable=function(){rT(d,!0),ma(On,"resize",V),kn.removeEventListener("refresh",V),I.kill()},e.lockAxis=e.lockAxis!==!1,l=new Mr(e),l.iOS=Wf,Wf&&!x()&&x(1),Wf&&zt.ticker.add(Gc),le=l._dc,X=zt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:bI(x,x(),function(){return X.pause()})},onUpdate:Yu,onComplete:le.vars.onComplete}),l};kn.sort=function(i){if(Wa(i))return Rn.sort(i);var e=On.pageYOffset||0;return kn.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+On.innerHeight}),Rn.sort(i||function(t,r){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};kn.observe=function(i){return new Mr(i)};kn.normalizeScroll=function(i){if(typeof i>"u")return ws;if(i===!0&&ws)return ws.enable();if(i===!1){ws&&ws.kill(),ws=i;return}var e=i instanceof Mr?i:ZG(i);return ws&&ws.target===e.target&&ws.kill(),pp(e.target)&&(ws=e),e};kn.core={_getVelocityProp:G2,_inputObserver:SI,_scrollers:Nn,_proxies:Jc,bridge:{ss:function(){pl||gp("scrollStart"),pl=Ja()},ref:function(){return Za}}};uI()&&zt.registerPlugin(kn);function YG(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.352 0 0 5.352 0 12s5.352 12 12 12 12-5.352 12-12S18.648 0 12 0zm2.8 4.333c.13-.004.248.136.171.278l-3.044 5.58a.187.187 0 00.164.276h5.26c.17 0 .252.207.128.323l-9.22 8.605c-.165.154-.41-.063-.278-.246l4.364-6.021a.187.187 0 00-.151-.296H6.627a.187.187 0 01-.131-.32l8.18-8.123a.182.182 0 01.125-.056z"},child:[]}]})(i)}function JG(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.455 8.369c-.538-.748-1.778-2.285-3.681-4.569-.826-.991-1.535-1.832-1.884-2.245a146 146 0 0 0-.488-.576l-.207-.245-.113-.133-.022-.032-.01-.005L12.57 0l-.609.488c-1.555 1.246-2.828 2.851-3.681 4.64-.523 1.064-.864 2.105-1.043 3.176-.047.241-.088.489-.121.738-.209-.017-.421-.028-.632-.033-.018-.001-.035-.002-.059-.003a7.46 7.46 0 0 0-2.28.274l-.317.089-.163.286c-.765 1.342-1.198 2.869-1.252 4.416-.07 2.01.477 3.954 1.583 5.625 1.082 1.633 2.61 2.882 4.42 3.611l.236.095.071.025.003-.001a9.59 9.59 0 0 0 2.941.568q.171.006.342.006c1.273 0 2.513-.249 3.69-.742l.008.004.313-.145a9.63 9.63 0 0 0 3.927-3.335c1.01-1.49 1.577-3.234 1.641-5.042.075-2.161-.643-4.304-2.133-6.371m-7.083 6.695c.328 1.244.264 2.44-.191 3.558-1.135-1.12-1.967-2.352-2.475-3.665-.543-1.404-.87-2.74-.974-3.975.48.157.922.366 1.315.622 1.132.737 1.914 1.902 2.325 3.461zm.207 6.022c.482.368.99.712 1.513 1.028-.771.21-1.565.302-2.369.273a8 8 0 0 1-.373-.022c.458-.394.869-.823 1.228-1.279zm1.347-6.431c-.516-1.957-1.527-3.437-3.002-4.398-.647-.421-1.385-.741-2.194-.95.011-.134.026-.268.043-.4.014-.113.03-.216.046-.313.133-.689.332-1.37.589-2.025.099-.25.206-.499.321-.74l.004-.008c.177-.358.376-.719.61-1.105l.092-.152-.003-.001c.544-.851 1.197-1.627 1.942-2.311l.288.341c.672.796 1.304 1.548 1.878 2.237 1.291 1.549 2.966 3.583 3.612 4.48 1.277 1.771 1.893 3.579 1.83 5.375-.049 1.395-.461 2.755-1.195 3.933-.694 1.116-1.661 2.05-2.8 2.708-.636-.318-1.559-.839-2.539-1.599.79-1.575.952-3.28.479-5.072zm-2.575 5.397c-.725.939-1.587 1.55-2.09 1.856-.081-.029-.163-.06-.243-.093l-.065-.026c-1.49-.616-2.747-1.656-3.635-3.01-.907-1.384-1.356-2.993-1.298-4.653.041-1.19.338-2.327.882-3.379.316-.07.638-.114.96-.131l.084-.002c.162-.003.324-.003.478 0 .227.011.454.035.677.07.073 1.513.445 3.145 1.105 4.852.637 1.644 1.694 3.162 3.144 4.515z"},child:[]}]})(i)}function $B(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.665 21.978C16.758 23.255 14.465 24 12 24 5.377 24 0 18.623 0 12S5.377 0 12 0s12 5.377 12 12c0 3.583-1.574 6.801-4.067 9.001L9.219 7.2H7.2v9.596h1.615V9.251l9.85 12.727Zm-3.332-8.533 1.6 2.061V7.2h-1.6v6.245Z"},child:[]}]})(i)}function qG(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(i)}function WG(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.9297 13.6875c.164-.0938.375-.0352.4687.1328l.0625.1055c.4805.8515.9805 1.6601 1.5 2.4258.6133.9023 1.3047 1.8164 2.0743 2.7421a.3455.3455 0 0 1-.0391.4844l-.0742.0664c-2.543 2.2227-4.1914 2.664-4.9532 1.332-.746-1.3046-.4765-3.6718.8086-7.1093a.3437.3437 0 0 1 .1524-.1797ZM17.75 16.3008c.1836-.0313.3594.086.3945.2695l.0196.1016c.6289 3.2851.1875 4.9297-1.3243 4.9297-1.4804 0-3.3593-1.4024-5.6484-4.2032a.3271.3271 0 0 1-.0742-.2226c0-.1875.1562-.3399.3437-.3399h.1211a32.9838 32.9838 0 0 0 2.8086-.0976c1.0703-.086 2.1914-.2305 3.3594-.4375zm.871-6.9766a.3528.3528 0 0 1 .4454-.211l.1016.0352c3.2617 1.1094 4.5039 2.332 3.7187 3.6641-.7656 1.3047-2.9922 2.254-6.6836 2.8477-.082.0117-.168-.004-.2383-.047-.168-.0976-.2265-.3085-.125-.4765l.0625-.1054c.504-.8438.957-1.6836 1.3672-2.5235.4766-.9883.9297-2.0508 1.3516-3.1836zM7.797 8.3398c.082-.0117.168.004.2383.047.168.0976.2265.3085.125.4765l-.0625.1054a34.0882 34.0882 0 0 0-1.3672 2.5235c-.4766.9883-.9297 2.0508-1.3516 3.1836a.3528.3528 0 0 1-.4453.211l-.1016-.0352c-3.2617-1.1094-4.5039-2.332-3.7187-3.6641.7656-1.3047 2.9922-2.254 6.6836-2.8477Zm5.2812-3.9843c2.543-2.2227 4.1914-2.664 4.9532-1.332.746 1.3046.4765 3.6718-.8086 7.1093a.3436.3436 0 0 1-.1524.1797c-.164.0938-.375.0352-.4687-.1328l-.0625-.1055c-.4805-.8515-.9805-1.6601-1.5-2.4258-.6133-.9023-1.3047-1.8164-2.0743-2.7421a.3455.3455 0 0 1 .0391-.4844Zm-5.793-2.082c1.4805 0 3.3633 1.4023 5.6485 4.203a.3488.3488 0 0 1 .0781.2188c-.0039.1914-.1562.3438-.3476.3438l-.1172-.004a34.5835 34.5835 0 0 0-2.8086.1016c-1.0742.086-2.1953.2305-3.3633.4375a.343.343 0 0 1-.3945-.2734l-.0196-.0977c-.629-3.2851-.1876-4.9297 1.3242-4.9297Zm2.8711 5.8124h3.6875a.638.638 0 0 1 .5508.3164l1.8477 3.2188a.6437.6437 0 0 1 0 .6289l-1.8477 3.2227a.638.638 0 0 1-.5507.3164h-3.6875c-.2266 0-.4375-.1211-.547-.3164L7.7579 12.25a.6437.6437 0 0 1 0-.629l1.8516-3.2187c.1093-.1953.3203-.3164.5468-.3164Zm3.2305.793a.638.638 0 0 1 .5508.3164l1.3906 2.4258a.6437.6437 0 0 1 0 .6289l-1.3906 2.4297a.638.638 0 0 1-.5508.3164h-2.7734c-.2266 0-.4375-.1211-.5469-.3164L8.672 12.25a.6437.6437 0 0 1 0-.629l1.3945-2.4257c.1094-.1953.3203-.3164.5469-.3164Zm-.4922.8672h-1.789c-.2266 0-.4336.1172-.547.3164l-.8983 1.5586a.6437.6437 0 0 0 0 .6289l.8984 1.5625a.6317.6317 0 0 0 .5469.3164h1.789a.6317.6317 0 0 0 .547-.3164l.8983-1.5625a.6437.6437 0 0 0 0-.629l-.8984-1.5585c-.1133-.1992-.3203-.3164-.5469-.3164Zm-.4765.8281c.2265 0 .4375.1211.5468.3164l.422.7305c.1132.1953.1132.4375 0 .6289l-.422.7344c-.1093.1953-.3203.3164-.5468.3164h-.836a.6317.6317 0 0 1-.5468-.3164l-.422-.7344c-.1132-.1914-.1132-.4336 0-.629l.422-.7304a.6317.6317 0 0 1 .5468-.3164zm-.418.8164a.548.548 0 0 0-.4727.2735c-.0976.168-.0976.375 0 .5468a.5444.5444 0 0 0 .4727.2696.5444.5444 0 0 0 .4727-.2696c.0976-.1718.0976-.3789 0-.5468A.548.548 0 0 0 12 11.3906Zm-4.4219.5469h.9805M18.9805 7.75c.3906-1.8945.4765-3.3438.2226-4.3984-.1484-.629-.4218-1.1368-.8398-1.5078-.4414-.3907-1-.582-1.625-.582-1.0352 0-2.1211.4726-3.2813 1.3671-.4726.3633-.9648.8047-1.4726 1.3164-.043-.0508-.086-.1015-.1367-.1445-1.4454-1.2852-2.6602-2.082-3.6993-2.3906-.6171-.1836-1.1953-.1993-1.7226-.0235-.5586.1875-1.004.5742-1.3164 1.1172-.5156.8945-.6524 2.0742-.461 3.5274.0782.5898.2149 1.2343.4024 1.9335a1.1187 1.1187 0 0 0-.2149.047C3.008 8.621 1.711 9.2694.9258 10.0155c-.4649.4414-.7695.9375-.8828 1.4805-.1133.5781 0 1.1562.3125 1.6992.5156.8945 1.4648 1.5977 2.8164 2.1563.543.2226 1.1562.4257 1.8437.6093a1.0227 1.0227 0 0 0-.0703.2266c-.3906 1.8906-.4765 3.3438-.2226 4.3945.1484.629.4257 1.1407.8398 1.5078.4414.3907 1 .582 1.625.582 1.0352 0 2.121-.4726 3.2813-1.3632.4765-.3711.9726-.8164 1.4882-1.336a1.2 1.2 0 0 0 .1953.2266c1.4454 1.2852 2.6602 2.082 3.6993 2.3906.6172.1836 1.1953.1993 1.7226.0235.5586-.1875 1.004-.5742 1.3164-1.1172.5157-.8945.6524-2.0742.461-3.5273-.082-.6133-.2227-1.2813-.4258-2.0118a1.2248 1.2248 0 0 0 .2383-.0468c1.828-.6094 3.125-1.2578 3.9101-2.004.4649-.4413.7696-.9374.8828-1.4804.1133-.5781 0-1.1563-.3125-1.6992-.5156-.8946-1.4648-1.5977-2.8164-2.1563-.5586-.2304-1.1953-.4414-1.9062-.625a.8647.8647 0 0 0 .0586-.1953z"},child:[]}]})(i)}function KG(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.634 16.504c.87-.075 1.543-.84 1.5-1.754-.047-.914-.796-1.648-1.709-1.648h-.061a1.71 1.71 0 00-1.648 1.769c.03.479.226.869.494 1.153-1.048 2.038-2.621 3.536-5.005 4.795-1.603.838-3.296 1.154-4.944.93-1.378-.195-2.456-.81-3.116-1.799-.988-1.499-1.078-3.116-.255-4.734.6-1.17 1.499-2.023 2.099-2.443a9.96 9.96 0 01-.42-1.543C-.868 14.408-.416 18.752.932 20.805c1.004 1.498 3.057 2.456 5.304 2.456.6 0 1.23-.044 1.843-.194 3.897-.749 6.848-3.086 8.541-6.532zm5.348-3.746c-2.32-2.728-5.738-4.226-9.634-4.226h-.51c-.253-.554-.837-.899-1.498-.899h-.045c-.943 0-1.678.81-1.647 1.753.03.898.794 1.648 1.708 1.648h.074a1.69 1.69 0 001.499-1.049h.555c2.309 0 4.495.674 6.488 1.992 1.527 1.005 2.622 2.323 3.237 3.897.538 1.288.509 2.547-.045 3.597-.855 1.647-2.294 2.517-4.196 2.517-1.199 0-2.367-.375-2.967-.644-.36.298-.96.793-1.394 1.093 1.318.598 2.652.943 3.94.943 2.922 0 5.094-1.647 5.919-3.236.898-1.798.824-4.824-1.47-7.416zM6.49 17.042c.03.899.793 1.648 1.708 1.648h.06a1.688 1.688 0 001.648-1.768c0-.9-.779-1.647-1.693-1.647h-.06c-.06 0-.15 0-.226.029-1.243-2.098-1.768-4.347-1.572-6.772.12-1.828.72-3.417 1.797-4.735.9-1.124 2.593-1.68 3.747-1.708 3.236-.061 4.585 3.971 4.689 5.574l1.498.45C17.741 3.197 14.686.62 11.764.62 9.02.62 6.49 2.613 5.47 5.535 4.077 9.43 4.991 13.177 6.7 16.174c-.15.195-.24.539-.21.868z"},child:[]}]})(i)}function XB(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"},child:[]}]})(i)}function QG(i){return ic({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"},child:[]}]})(i)}function eV(i){return ic({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M301.84 378.92c-.3.6-.6 1.08 0 0zm249.13-87a131.16 131.16 0 0 0-58 13.5c-5.9-11.9-12-22.3-13-30.1-1.2-9.1-2.5-14.5-1.1-25.3s7.7-26.1 7.6-27.2-1.4-6.6-14.3-6.7-24 2.5-25.29 5.9a122.83 122.83 0 0 0-5.3 19.1c-2.3 11.7-25.79 53.5-39.09 75.3-4.4-8.5-8.1-16-8.9-22-1.2-9.1-2.5-14.5-1.1-25.3s7.7-26.1 7.6-27.2-1.4-6.6-14.29-6.7-24 2.5-25.3 5.9-2.7 11.4-5.3 19.1-33.89 77.3-42.08 95.4c-4.2 9.2-7.8 16.6-10.4 21.6-.4.8-.7 1.3-.9 1.7.3-.5.5-1 .5-.8-2.2 4.3-3.5 6.7-3.5 6.7v.1c-1.7 3.2-3.6 6.1-4.5 6.1-.6 0-1.9-8.4.3-19.9 4.7-24.2 15.8-61.8 15.7-63.1-.1-.7 2.1-7.2-7.3-10.7-9.1-3.3-12.4 2.2-13.2 2.2s-1.4 2-1.4 2 10.1-42.4-19.39-42.4c-18.4 0-44 20.2-56.58 38.5-7.9 4.3-25 13.6-43 23.5-6.9 3.8-14 7.7-20.7 11.4-.5-.5-.9-1-1.4-1.5-35.79-38.2-101.87-65.2-99.07-116.5 1-18.7 7.5-67.8 127.07-127.4 98-48.8 176.35-35.4 189.84-5.6 19.4 42.5-41.89 121.6-143.66 133-38.79 4.3-59.18-10.7-64.28-16.3-5.3-5.9-6.1-6.2-8.1-5.1-3.3 1.8-1.2 7 0 10.1 3 7.9 15.5 21.9 36.79 28.9 18.7 6.1 64.18 9.5 119.17-11.8 61.78-23.8 109.87-90.1 95.77-145.6C386.52 18.32 293-.18 204.57 31.22c-52.69 18.7-109.67 48.1-150.66 86.4-48.69 45.6-56.48 85.3-53.28 101.9 11.39 58.9 92.57 97.3 125.06 125.7-1.6.9-3.1 1.7-4.5 2.5-16.29 8.1-78.18 40.5-93.67 74.7-17.5 38.8 2.9 66.6 16.29 70.4 41.79 11.6 84.58-9.3 107.57-43.6s20.2-79.1 9.6-99.5c-.1-.3-.3-.5-.4-.8 4.2-2.5 8.5-5 12.8-7.5 8.29-4.9 16.39-9.4 23.49-13.3-4 10.8-6.9 23.8-8.4 42.6-1.8 22 7.3 50.5 19.1 61.7 5.2 4.9 11.49 5 15.39 5 13.8 0 20-11.4 26.89-25 8.5-16.6 16-35.9 16-35.9s-9.4 52.2 16.3 52.2c9.39 0 18.79-12.1 23-18.3v.1s.2-.4.7-1.2c1-1.5 1.5-2.4 1.5-2.4v-.3c3.8-6.5 12.1-21.4 24.59-46 16.2-31.8 31.69-71.5 31.69-71.5a201.24 201.24 0 0 0 6.2 25.8c2.8 9.5 8.7 19.9 13.4 30-3.8 5.2-6.1 8.2-6.1 8.2a.31.31 0 0 0 .1.2c-3 4-6.4 8.3-9.9 12.5-12.79 15.2-28 32.6-30 37.6-2.4 5.9-1.8 10.3 2.8 13.7 3.4 2.6 9.4 3 15.69 2.5 11.5-.8 19.6-3.6 23.5-5.4a82.2 82.2 0 0 0 20.19-10.6c12.5-9.2 20.1-22.4 19.4-39.8-.4-9.6-3.5-19.2-7.3-28.2 1.1-1.6 2.3-3.3 3.4-5C434.8 301.72 450.1 270 450.1 270a201.24 201.24 0 0 0 6.2 25.8c2.4 8.1 7.09 17 11.39 25.7-18.59 15.1-30.09 32.6-34.09 44.1-7.4 21.3-1.6 30.9 9.3 33.1 4.9 1 11.9-1.3 17.1-3.5a79.46 79.46 0 0 0 21.59-11.1c12.5-9.2 24.59-22.1 23.79-39.6-.3-7.9-2.5-15.8-5.4-23.4 15.7-6.6 36.09-10.2 62.09-7.2 55.68 6.5 66.58 41.3 64.48 55.8s-13.8 22.6-17.7 25-5.1 3.3-4.8 5.1c.5 2.6 2.3 2.5 5.6 1.9 4.6-.8 29.19-11.8 30.29-38.7 1.6-34-31.09-71.4-89-71.1zm-429.18 144.7c-18.39 20.1-44.19 27.7-55.28 21.3C54.61 451 59.31 421.42 82 400c13.8-13 31.59-25 43.39-32.4 2.7-1.6 6.6-4 11.4-6.9.8-.5 1.2-.7 1.2-.7.9-.6 1.9-1.1 2.9-1.7 8.29 30.4.3 57.2-19.1 78.3zm134.36-91.4c-6.4 15.7-19.89 55.7-28.09 53.6-7-1.8-11.3-32.3-1.4-62.3 5-15.1 15.6-33.1 21.9-40.1 10.09-11.3 21.19-14.9 23.79-10.4 3.5 5.9-12.2 49.4-16.2 59.2zm111 53c-2.7 1.4-5.2 2.3-6.4 1.6-.9-.5 1.1-2.4 1.1-2.4s13.9-14.9 19.4-21.7c3.2-4 6.9-8.7 10.89-13.9 0 .5.1 1 .1 1.6-.13 17.9-17.32 30-25.12 34.8zm85.58-19.5c-2-1.4-1.7-6.1 5-20.7 2.6-5.7 8.59-15.3 19-24.5a36.18 36.18 0 0 1 1.9 10.8c-.1 22.5-16.2 30.9-25.89 34.4z"},child:[]}]})(i)}function ZB(i){return ic({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(i)}ud.registerPlugin(kn);const Ym={title:"Nestretto Coffee",description:"An App built with React.js for a fast, user-friendly experience",image:"/images/project1.jpeg",alt:"Nestretto Coffee",tools:[ne.jsx(qG,{},"react"),ne.jsx(eV,{},"sass"),ne.jsx(JG,{},"firebase"),ne.jsx(KG,{},"redux")],liveLink:"https://nestrettocoffee.com/"},tV=[{title:"Video Games Explorer",image:"/images/2.jpg",alt:"Video Games Explorer",tools:[ne.jsx($B,{},"next"),ne.jsx(QG,{},"ts"),ne.jsx(XB,{},"Tailwindcss"),ne.jsx(YG,{},"Chakraui"),ne.jsx(WG,{},"Reactquery")],liveLink:"https://gamevortex.netlify.app/"},{title:"OpenWeather Forecast",image:"/images/dd.png",alt:"OpenWeather Forecast",tools:[ne.jsx($B,{},"next"),ne.jsx(XB,{},"Tailwindcss")],liveLink:"https://weather-app-blush-psi-75.vercel.app/"}],nV=()=>{const i=ot.useRef(null),e=ot.useRef(null),t=ot.useRef([]);t.current=[];const r=n=>{n&&!t.current.includes(n)&&t.current.push(n)};return By(()=>{ud.fromTo(e.current,{y:50,opacity:0},{y:0,opacity:1,scrollTrigger:{trigger:e.current,start:"top bottom-=100"}}),t.current.forEach((n,a)=>{ud.fromTo(n,{y:50,opacity:0},{y:0,opacity:1,delay:.2*(a+1),scrollTrigger:{trigger:n,start:"top bottom-=100"}})}),ud.fromTo(i.current,{opacity:0},{opacity:1,duration:1.5})},[]),ne.jsx("section",{ref:i,id:"work",className:"app-showcase",children:ne.jsxs("div",{className:"w-full",children:[ne.jsxs("div",{className:"showcaselayout",children:[ne.jsxs("div",{ref:e,className:"first-project-wrapper group",children:[ne.jsxs("div",{className:"image-wrapper cursor-pointer relative overflow-hidden",children:[ne.jsx("img",{src:Ym.image,alt:Ym.alt}),ne.jsxs("a",{href:Ym.liveLink,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white font-medium text-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg",children:["Live Preview ",ne.jsx(ZB,{className:"ml-2 text-xl"})]})]}),ne.jsxs("div",{className:"text-content",children:[ne.jsxs("div",{className:"flex items-center justify-between",children:[ne.jsx("h2",{children:Ym.title}),ne.jsx("div",{className:"flex gap-2 mt-2 text-xl text-white",children:Ym.tools.map(n=>n)})]}),ne.jsx("p",{className:"text-white-50 md:text-xl",children:Ym.description})]})]}),ne.jsx("div",{className:"project-list-wrapper overflow-hidden",children:tV.map((n,a)=>ne.jsxs("div",{ref:r,className:"project relative group",children:[ne.jsxs("div",{className:"image-wrapper bg-[#ffefdb] cursor-pointer relative overflow-hidden",children:[ne.jsx("img",{src:n.image,alt:n.alt}),n.liveLink&&ne.jsxs("a",{href:n.liveLink,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white font-medium text-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg",children:["Live Preview ",ne.jsx(ZB,{className:"ml-2 text-xl"})]})]}),ne.jsxs("div",{className:"flex items-center justify-between flex-wrap mt-2",children:[ne.jsx("p",{children:n.title}),ne.jsx("p",{className:"flex gap-2 mt-2 text-xl text-white",children:n.tools.map(s=>s)})]})]},a))})]}),ne.jsx("div",{className:"text-center mt-10",children:ne.jsx("a",{href:"/projects",className:`inline-block px-8 py-3 border border-white/30 text-white rounded-full \r
                     hover:bg-white hover:text-black transition-all duration-300`,children:"View All Projects"})})]})})},AI=Object.freeze({status:"aborted"});function Me(i,e,t){function r(l,f){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:f,constr:s,traits:new Set},enumerable:!1}),l._zod.traits.has(i))return;l._zod.traits.add(i),e(l,f);const d=s.prototype,m=Object.keys(d);for(let g=0;g<m.length;g++){const _=m[g];_ in l||(l[_]=d[_].bind(l))}}const n=t?.Parent??Object;class a extends n{}Object.defineProperty(a,"name",{value:i});function s(l){var f;const d=t?.Parent?new a:this;r(d,l),(f=d._zod).deferred??(f.deferred=[]);for(const m of d._zod.deferred)m();return d}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:l=>t?.Parent&&l instanceof t.Parent?!0:l?._zod?.traits?.has(i)}),Object.defineProperty(s,"name",{value:i}),s}const EI=Symbol("zod_brand");class fp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class EA extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const SS={};function ts(i){return i&&Object.assign(SS,i),SS}function iV(i){return i}function rV(i){return i}function aV(i){}function sV(i){throw new Error("Unexpected value in exhaustive check")}function oV(i){}function nw(i){const e=Object.values(i).filter(r=>typeof r=="number");return Object.entries(i).filter(([r,n])=>e.indexOf(+r)===-1).map(([r,n])=>n)}function dt(i,e="|"){return i.map(t=>rn(t)).join(e)}function AS(i,e){return typeof e=="bigint"?e.toString():e}function Uy(i){return{get value(){{const e=i();return Object.defineProperty(this,"value",{value:e}),e}}}}function Bp(i){return i==null}function MA(i){const e=i.startsWith("^")?1:0,t=i.endsWith("$")?i.length-1:i.length;return i.slice(e,t)}function MI(i,e){const t=(i.toString().split(".")[1]||"").length,r=e.toString();let n=(r.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f?.[1]&&(n=Number.parseInt(f[1]))}const a=t>n?t:n,s=Number.parseInt(i.toFixed(a).replace(".","")),l=Number.parseInt(e.toFixed(a).replace(".",""));return s%l/10**a}const YB=Symbol("evaluating");function Cn(i,e,t){let r;Object.defineProperty(i,e,{get(){if(r!==YB)return r===void 0&&(r=YB,r=t()),r},set(n){Object.defineProperty(i,e,{value:n})},configurable:!0})}function lV(i){return Object.create(Object.getPrototypeOf(i),Object.getOwnPropertyDescriptors(i))}function Cd(i,e,t){Object.defineProperty(i,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function tu(...i){const e={};for(const t of i){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function cV(i){return tu(i._zod.def)}function uV(i,e){return e?e.reduce((t,r)=>t?.[r],i):i}function fV(i){const e=Object.keys(i),t=e.map(r=>i[r]);return Promise.all(t).then(r=>{const n={};for(let a=0;a<e.length;a++)n[e[a]]=r[a];return n})}function dV(i=10){const e="abcdefghijklmnopqrstuvwxyz";let t="";for(let r=0;r<i;r++)t+=e[Math.floor(Math.random()*e.length)];return t}function q2(i){return JSON.stringify(i)}function TI(i){return i.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const iw="captureStackTrace"in Error?Error.captureStackTrace:(...i)=>{};function $g(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}const CI=Uy(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const i=Function;return new i(""),!0}catch{return!1}});function vp(i){if($g(i)===!1)return!1;const e=i.constructor;if(e===void 0||typeof e!="function")return!0;const t=e.prototype;return!($g(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function TA(i){return vp(i)?{...i}:Array.isArray(i)?[...i]:i}function hV(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}const pV=i=>{const e=typeof i;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(i)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(i)?"array":i===null?"null":i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?"promise":typeof Map<"u"&&i instanceof Map?"map":typeof Set<"u"&&i instanceof Set?"set":typeof Date<"u"&&i instanceof Date?"date":typeof File<"u"&&i instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},ES=new Set(["string","number","symbol"]),wI=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Qu(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vl(i,e,t){const r=new i._zod.constr(e??i._zod.def);return(!e||t?.parent)&&(r._zod.parent=i),r}function it(i){const e=i;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function mV(i){let e;return new Proxy({},{get(t,r,n){return e??(e=i()),Reflect.get(e,r,n)},set(t,r,n,a){return e??(e=i()),Reflect.set(e,r,n,a)},has(t,r){return e??(e=i()),Reflect.has(e,r)},deleteProperty(t,r){return e??(e=i()),Reflect.deleteProperty(e,r)},ownKeys(t){return e??(e=i()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(t,r){return e??(e=i()),Reflect.getOwnPropertyDescriptor(e,r)},defineProperty(t,r,n){return e??(e=i()),Reflect.defineProperty(e,r,n)}})}function rn(i){return typeof i=="bigint"?i.toString()+"n":typeof i=="string"?`"${i}"`:`${i}`}function RI(i){return Object.keys(i).filter(e=>i[e]._zod.optin==="optional"&&i[e]._zod.optout==="optional")}const DI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},BI={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function UI(i,e){const t=i._zod.def,r=t.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=tu(i._zod.def,{get shape(){const s={};for(const l in e){if(!(l in t.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(s[l]=t.shape[l])}return Cd(this,"shape",s),s},checks:[]});return vl(i,a)}function OI(i,e){const t=i._zod.def,r=t.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=tu(i._zod.def,{get shape(){const s={...i._zod.def.shape};for(const l in e){if(!(l in t.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete s[l]}return Cd(this,"shape",s),s},checks:[]});return vl(i,a)}function NI(i,e){if(!vp(e))throw new Error("Invalid input to extend: expected a plain object");const t=i._zod.def.checks;if(t&&t.length>0){const a=i._zod.def.shape;for(const s in e)if(Object.getOwnPropertyDescriptor(a,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const n=tu(i._zod.def,{get shape(){const a={...i._zod.def.shape,...e};return Cd(this,"shape",a),a}});return vl(i,n)}function II(i,e){if(!vp(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t=tu(i._zod.def,{get shape(){const r={...i._zod.def.shape,...e};return Cd(this,"shape",r),r}});return vl(i,t)}function zI(i,e){const t=tu(i._zod.def,{get shape(){const r={...i._zod.def.shape,...e._zod.def.shape};return Cd(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return vl(i,t)}function LI(i,e,t){const n=e._zod.def.checks;if(n&&n.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=tu(e._zod.def,{get shape(){const l=e._zod.def.shape,f={...l};if(t)for(const d in t){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);t[d]&&(f[d]=i?new i({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)f[d]=i?new i({type:"optional",innerType:l[d]}):l[d];return Cd(this,"shape",f),f},checks:[]});return vl(e,s)}function PI(i,e,t){const r=tu(e._zod.def,{get shape(){const n=e._zod.def.shape,a={...n};if(t)for(const s in t){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=new i({type:"nonoptional",innerType:n[s]}))}else for(const s in n)a[s]=new i({type:"nonoptional",innerType:n[s]});return Cd(this,"shape",a),a}});return vl(e,r)}function qh(i,e=0){if(i.aborted===!0)return!0;for(let t=e;t<i.issues.length;t++)if(i.issues[t]?.continue!==!0)return!0;return!1}function Kl(i,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(i),t})}function A_(i){return typeof i=="string"?i:i?.message}function gl(i,e,t){const r={...i,path:i.path??[]};if(!i.message){const n=A_(i.inst?._zod.def?.error?.(i))??A_(e?.error?.(i))??A_(t.customError?.(i))??A_(t.localeError?.(i))??"Invalid input";r.message=n}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function CA(i){return i instanceof Set?"set":i instanceof Map?"map":i instanceof File?"file":"unknown"}function wA(i){return Array.isArray(i)?"array":typeof i=="string"?"string":"unknown"}function sn(i){const e=typeof i;switch(e){case"number":return Number.isNaN(i)?"nan":"number";case"object":{if(i===null)return"null";if(Array.isArray(i))return"array";const t=i;if(t&&Object.getPrototypeOf(t)!==Object.prototype&&"constructor"in t&&t.constructor)return t.constructor.name}}return e}function Xg(...i){const[e,t,r]=i;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}function gV(i){return Object.entries(i).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function FI(i){const e=atob(i),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function HI(i){let e="";for(let t=0;t<i.length;t++)e+=String.fromCharCode(i[t]);return btoa(e)}function vV(i){const e=i.replace(/-/g,"+").replace(/_/g,"/"),t="=".repeat((4-e.length%4)%4);return FI(e+t)}function _V(i){return HI(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function yV(i){const e=i.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=Number.parseInt(e.slice(r,r+2),16);return t}function xV(i){return Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join("")}class bV{constructor(...e){}}const kI=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:BI,Class:bV,NUMBER_FORMAT_RANGES:DI,aborted:qh,allowsEval:CI,assert:oV,assertEqual:iV,assertIs:aV,assertNever:sV,assertNotEqual:rV,assignProp:Cd,base64ToUint8Array:FI,base64urlToUint8Array:vV,cached:Uy,captureStackTrace:iw,cleanEnum:gV,cleanRegex:MA,clone:vl,cloneDef:cV,createTransparentProxy:mV,defineLazy:Cn,esc:q2,escapeRegex:Qu,extend:NI,finalizeIssue:gl,floatSafeRemainder:MI,getElementAtPath:uV,getEnumValues:nw,getLengthableOrigin:wA,getParsedType:pV,getSizableOrigin:CA,hexToUint8Array:yV,isObject:$g,isPlainObject:vp,issue:Xg,joinValues:dt,jsonStringifyReplacer:AS,merge:zI,mergeDefs:tu,normalizeParams:it,nullish:Bp,numKeys:hV,objectClone:lV,omit:OI,optionalKeys:RI,parsedType:sn,partial:LI,pick:UI,prefixIssues:Kl,primitiveTypes:wI,promiseAllObject:fV,propertyKeyTypes:ES,randomString:dV,required:PI,safeExtend:II,shallowClone:TA,slugify:TI,stringifyPrimitive:rn,uint8ArrayToBase64:HI,uint8ArrayToBase64url:_V,uint8ArrayToHex:xV,unwrapMessage:A_},Symbol.toStringTag,{value:"Module"})),GI=(i,e)=>{i.name="$ZodError",Object.defineProperty(i,"_zod",{value:i._zod,enumerable:!1}),Object.defineProperty(i,"issues",{value:e,enumerable:!1}),i.message=JSON.stringify(e,AS,2),Object.defineProperty(i,"toString",{value:()=>i.message,enumerable:!1})},RA=Me("$ZodError",GI),Io=Me("$ZodError",GI,{Parent:Error});function rw(i,e=t=>t.message){const t={},r=[];for(const n of i.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}function aw(i,e=t=>t.message){const t={_errors:[]},r=n=>{for(const a of n.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(s=>r({issues:s}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)t._errors.push(e(a));else{let s=t,l=0;for(;l<a.path.length;){const f=a.path[l];l===a.path.length-1?(s[f]=s[f]||{_errors:[]},s[f]._errors.push(e(a))):s[f]=s[f]||{_errors:[]},s=s[f],l++}}};return r(i),t}function VI(i,e=t=>t.message){const t={errors:[]},r=(n,a=[])=>{var s,l;for(const f of n.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(d=>r({issues:d},f.path));else if(f.code==="invalid_key")r({issues:f.issues},f.path);else if(f.code==="invalid_element")r({issues:f.issues},f.path);else{const d=[...a,...f.path];if(d.length===0){t.errors.push(e(f));continue}let m=t,g=0;for(;g<d.length;){const _=d[g],x=g===d.length-1;typeof _=="string"?(m.properties??(m.properties={}),(s=m.properties)[_]??(s[_]={errors:[]}),m=m.properties[_]):(m.items??(m.items=[]),(l=m.items)[_]??(l[_]={errors:[]}),m=m.items[_]),x&&m.errors.push(e(f)),g++}}};return r(i),t}function jI(i){const e=[],t=i.map(r=>typeof r=="object"?r.key:r);for(const r of t)typeof r=="number"?e.push(`[${r}]`):typeof r=="symbol"?e.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?e.push(`[${JSON.stringify(r)}]`):(e.length&&e.push("."),e.push(r));return e.join("")}function $I(i){const e=[],t=[...i.issues].sort((r,n)=>(r.path??[]).length-(n.path??[]).length);for(const r of t)e.push(` ${r.message}`),r.path?.length&&e.push(`   at ${jI(r.path)}`);return e.join(`
`)}const Oy=i=>(e,t,r,n)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:t,issues:[]},a);if(s instanceof Promise)throw new fp;if(s.issues.length){const l=new(n?.Err??i)(s.issues.map(f=>gl(f,a,ts())));throw iw(l,n?.callee),l}return s.value},MS=Oy(Io),Ny=i=>async(e,t,r,n)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:t,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const l=new(n?.Err??i)(s.issues.map(f=>gl(f,a,ts())));throw iw(l,n?.callee),l}return s.value},TS=Ny(Io),Iy=i=>(e,t,r)=>{const n=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:t,issues:[]},n);if(a instanceof Promise)throw new fp;return a.issues.length?{success:!1,error:new(i??RA)(a.issues.map(s=>gl(s,n,ts())))}:{success:!0,data:a.value}},XI=Iy(Io),zy=i=>async(e,t,r)=>{const n=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:t,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new i(a.issues.map(s=>gl(s,n,ts())))}:{success:!0,data:a.value}},ZI=zy(Io),sw=i=>(e,t,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Oy(i)(e,t,n)},SV=sw(Io),ow=i=>(e,t,r)=>Oy(i)(e,t,r),AV=ow(Io),lw=i=>async(e,t,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ny(i)(e,t,n)},EV=lw(Io),cw=i=>async(e,t,r)=>Ny(i)(e,t,r),MV=cw(Io),uw=i=>(e,t,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Iy(i)(e,t,n)},TV=uw(Io),fw=i=>(e,t,r)=>Iy(i)(e,t,r),CV=fw(Io),dw=i=>async(e,t,r)=>{const n=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return zy(i)(e,t,n)},wV=dw(Io),hw=i=>async(e,t,r)=>zy(i)(e,t,r),RV=hw(Io),YI=/^[cC][^\s-]{8,}$/,JI=/^[0-9a-z]+$/,qI=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WI=/^[0-9a-vA-V]{20}$/,KI=/^[A-Za-z0-9]{27}$/,QI=/^[a-zA-Z0-9_-]{21}$/,ez=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,DV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Zg=i=>i?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${i}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,BV=Zg(4),UV=Zg(6),OV=Zg(7),nz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,NV=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,IV=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,iz=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,zV=iz,LV=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,PV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function rz(){return new RegExp(PV,"u")}const az=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,oz=i=>{const e=Qu(i??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},lz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,pw=/^[A-Za-z0-9_-]*$/,fz=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,dz=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,hz=/^\+[1-9]\d{6,14}$/,pz="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",mz=new RegExp(`^${pz}$`);function gz(i){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof i.precision=="number"?i.precision===-1?`${e}`:i.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${i.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function vz(i){return new RegExp(`^${gz(i)}$`)}function _z(i){const e=gz({precision:i.precision}),t=["Z"];i.local&&t.push(""),i.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${pz}T(?:${r})$`)}const yz=i=>{const e=i?`[\\s\\S]{${i?.minimum??0},${i?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},xz=/^-?\d+n?$/,bz=/^-?\d+$/,mw=/^-?\d+(?:\.\d+)?$/,Sz=/^(?:true|false)$/i,Az=/^null$/i,Ez=/^undefined$/i,Mz=/^[^A-Z]*$/,Tz=/^[^a-z]*$/,Cz=/^[0-9a-fA-F]*$/;function Ly(i,e){return new RegExp(`^[A-Za-z0-9+/]{${i}}${e}$`)}function Py(i){return new RegExp(`^[A-Za-z0-9_-]{${i}}$`)}const FV=/^[0-9a-fA-F]{32}$/,HV=Ly(22,"=="),kV=Py(22),GV=/^[0-9a-fA-F]{40}$/,VV=Ly(27,"="),jV=Py(27),$V=/^[0-9a-fA-F]{64}$/,XV=Ly(43,"="),ZV=Py(43),YV=/^[0-9a-fA-F]{96}$/,JV=Ly(64,""),qV=Py(64),WV=/^[0-9a-fA-F]{128}$/,KV=Ly(86,"=="),QV=Py(86),gw=Object.freeze(Object.defineProperty({__proto__:null,base64:uz,base64url:pw,bigint:xz,boolean:Sz,browserEmail:LV,cidrv4:lz,cidrv6:cz,cuid:YI,cuid2:JI,date:mz,datetime:_z,domain:dz,duration:ez,e164:hz,email:nz,emoji:rz,extendedDuration:DV,guid:tz,hex:Cz,hostname:fz,html5Email:NV,idnEmail:zV,integer:bz,ipv4:az,ipv6:sz,ksuid:KI,lowercase:Mz,mac:oz,md5_base64:HV,md5_base64url:kV,md5_hex:FV,nanoid:QI,null:Az,number:mw,rfc5322Email:IV,sha1_base64:VV,sha1_base64url:jV,sha1_hex:GV,sha256_base64:XV,sha256_base64url:ZV,sha256_hex:$V,sha384_base64:JV,sha384_base64url:qV,sha384_hex:YV,sha512_base64:KV,sha512_base64url:QV,sha512_hex:WV,string:yz,time:vz,ulid:qI,undefined:Ez,unicodeEmail:iz,uppercase:Tz,uuid:Zg,uuid4:BV,uuid6:UV,uuid7:OV,xid:WI},Symbol.toStringTag,{value:"Module"})),Ki=Me("$ZodCheck",(i,e)=>{var t;i._zod??(i._zod={}),i._zod.def=e,(t=i._zod).onattach??(t.onattach=[])}),wz={number:"number",bigint:"bigint",object:"date"},vw=Me("$ZodCheckLessThan",(i,e)=>{Ki.init(i,e);const t=wz[typeof e.value];i._zod.onattach.push(r=>{const n=r._zod.bag,a=(e.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?n.maximum=e.value:n.exclusiveMaximum=e.value)}),i._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:i,continue:!e.abort})}}),_w=Me("$ZodCheckGreaterThan",(i,e)=>{Ki.init(i,e);const t=wz[typeof e.value];i._zod.onattach.push(r=>{const n=r._zod.bag,a=(e.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?n.minimum=e.value:n.exclusiveMinimum=e.value)}),i._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:i,continue:!e.abort})}}),Rz=Me("$ZodCheckMultipleOf",(i,e)=>{Ki.init(i,e),i._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),i._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):MI(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:i,continue:!e.abort})}}),Dz=Me("$ZodCheckNumberFormat",(i,e)=>{Ki.init(i,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[n,a]=DI[e.format];i._zod.onattach.push(s=>{const l=s._zod.bag;l.format=e.format,l.minimum=n,l.maximum=a,t&&(l.pattern=bz)}),i._zod.check=s=>{const l=s.value;if(t){if(!Number.isInteger(l)){s.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:l,inst:i});return}if(!Number.isSafeInteger(l)){l>0?s.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:r,inclusive:!0,continue:!e.abort}):s.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:r,inclusive:!0,continue:!e.abort});return}}l<n&&s.issues.push({origin:"number",input:l,code:"too_small",minimum:n,inclusive:!0,inst:i,continue:!e.abort}),l>a&&s.issues.push({origin:"number",input:l,code:"too_big",maximum:a,inclusive:!0,inst:i,continue:!e.abort})}}),Bz=Me("$ZodCheckBigIntFormat",(i,e)=>{Ki.init(i,e);const[t,r]=BI[e.format];i._zod.onattach.push(n=>{const a=n._zod.bag;a.format=e.format,a.minimum=t,a.maximum=r}),i._zod.check=n=>{const a=n.value;a<t&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:t,inclusive:!0,inst:i,continue:!e.abort}),a>r&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:r,inclusive:!0,inst:i,continue:!e.abort})}}),Uz=Me("$ZodCheckMaxSize",(i,e)=>{var t;Ki.init(i,e),(t=i._zod.def).when??(t.when=r=>{const n=r.value;return!Bp(n)&&n.size!==void 0}),i._zod.onattach.push(r=>{const n=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(r._zod.bag.maximum=e.maximum)}),i._zod.check=r=>{const n=r.value;n.size<=e.maximum||r.issues.push({origin:CA(n),code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:i,continue:!e.abort})}}),Oz=Me("$ZodCheckMinSize",(i,e)=>{var t;Ki.init(i,e),(t=i._zod.def).when??(t.when=r=>{const n=r.value;return!Bp(n)&&n.size!==void 0}),i._zod.onattach.push(r=>{const n=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(r._zod.bag.minimum=e.minimum)}),i._zod.check=r=>{const n=r.value;n.size>=e.minimum||r.issues.push({origin:CA(n),code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:i,continue:!e.abort})}}),Nz=Me("$ZodCheckSizeEquals",(i,e)=>{var t;Ki.init(i,e),(t=i._zod.def).when??(t.when=r=>{const n=r.value;return!Bp(n)&&n.size!==void 0}),i._zod.onattach.push(r=>{const n=r._zod.bag;n.minimum=e.size,n.maximum=e.size,n.size=e.size}),i._zod.check=r=>{const n=r.value,a=n.size;if(a===e.size)return;const s=a>e.size;r.issues.push({origin:CA(n),...s?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:r.value,inst:i,continue:!e.abort})}}),Iz=Me("$ZodCheckMaxLength",(i,e)=>{var t;Ki.init(i,e),(t=i._zod.def).when??(t.when=r=>{const n=r.value;return!Bp(n)&&n.length!==void 0}),i._zod.onattach.push(r=>{const n=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(r._zod.bag.maximum=e.maximum)}),i._zod.check=r=>{const n=r.value;if(n.length<=e.maximum)return;const s=wA(n);r.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:i,continue:!e.abort})}}),zz=Me("$ZodCheckMinLength",(i,e)=>{var t;Ki.init(i,e),(t=i._zod.def).when??(t.when=r=>{const n=r.value;return!Bp(n)&&n.length!==void 0}),i._zod.onattach.push(r=>{const n=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(r._zod.bag.minimum=e.minimum)}),i._zod.check=r=>{const n=r.value;if(n.length>=e.minimum)return;const s=wA(n);r.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:i,continue:!e.abort})}}),Lz=Me("$ZodCheckLengthEquals",(i,e)=>{var t;Ki.init(i,e),(t=i._zod.def).when??(t.when=r=>{const n=r.value;return!Bp(n)&&n.length!==void 0}),i._zod.onattach.push(r=>{const n=r._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length}),i._zod.check=r=>{const n=r.value,a=n.length;if(a===e.length)return;const s=wA(n),l=a>e.length;r.issues.push({origin:s,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:i,continue:!e.abort})}}),Fy=Me("$ZodCheckStringFormat",(i,e)=>{var t,r;Ki.init(i,e),i._zod.onattach.push(n=>{const a=n._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(t=i._zod).check??(t.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:e.format,input:n.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:i,continue:!e.abort})}):(r=i._zod).check??(r.check=()=>{})}),Pz=Me("$ZodCheckRegex",(i,e)=>{Fy.init(i,e),i._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:i,continue:!e.abort})}}),Fz=Me("$ZodCheckLowerCase",(i,e)=>{e.pattern??(e.pattern=Mz),Fy.init(i,e)}),Hz=Me("$ZodCheckUpperCase",(i,e)=>{e.pattern??(e.pattern=Tz),Fy.init(i,e)}),kz=Me("$ZodCheckIncludes",(i,e)=>{Ki.init(i,e);const t=Qu(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,i._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),i._zod.check=n=>{n.value.includes(e.includes,e.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:n.value,inst:i,continue:!e.abort})}}),Gz=Me("$ZodCheckStartsWith",(i,e)=>{Ki.init(i,e);const t=new RegExp(`^${Qu(e.prefix)}.*`);e.pattern??(e.pattern=t),i._zod.onattach.push(r=>{const n=r._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(t)}),i._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:i,continue:!e.abort})}}),Vz=Me("$ZodCheckEndsWith",(i,e)=>{Ki.init(i,e);const t=new RegExp(`.*${Qu(e.suffix)}$`);e.pattern??(e.pattern=t),i._zod.onattach.push(r=>{const n=r._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(t)}),i._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:i,continue:!e.abort})}});function JB(i,e,t){i.issues.length&&e.issues.push(...Kl(t,i.issues))}const jz=Me("$ZodCheckProperty",(i,e)=>{Ki.init(i,e),i._zod.check=t=>{const r=e.schema._zod.run({value:t.value[e.property],issues:[]},{});if(r instanceof Promise)return r.then(n=>JB(n,t,e.property));JB(r,t,e.property)}}),$z=Me("$ZodCheckMimeType",(i,e)=>{Ki.init(i,e);const t=new Set(e.mime);i._zod.onattach.push(r=>{r._zod.bag.mime=e.mime}),i._zod.check=r=>{t.has(r.value.type)||r.issues.push({code:"invalid_value",values:e.mime,input:r.value.type,inst:i,continue:!e.abort})}}),Xz=Me("$ZodCheckOverwrite",(i,e)=>{Ki.init(i,e),i._zod.check=t=>{t.value=e.tx(t.value)}});class Zz{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(s=>s),n=Math.min(...r.map(s=>s.length-s.trimStart().length)),a=r.map(s=>s.slice(n)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const e=Function,t=this?.args,n=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...t,n.join(`
`))}}const Yz={major:4,minor:3,patch:5},pn=Me("$ZodType",(i,e)=>{var t;i??(i={}),i._zod.def=e,i._zod.bag=i._zod.bag||{},i._zod.version=Yz;const r=[...i._zod.def.checks??[]];i._zod.traits.has("$ZodCheck")&&r.unshift(i);for(const n of r)for(const a of n._zod.onattach)a(i);if(r.length===0)(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred?.push(()=>{i._zod.run=i._zod.parse});else{const n=(s,l,f)=>{let d=qh(s),m;for(const g of l){if(g._zod.def.when){if(!g._zod.def.when(s))continue}else if(d)continue;const _=s.issues.length,x=g._zod.check(s);if(x instanceof Promise&&f?.async===!1)throw new fp;if(m||x instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await x,s.issues.length!==_&&(d||(d=qh(s,_)))});else{if(s.issues.length===_)continue;d||(d=qh(s,_))}}return m?m.then(()=>s):s},a=(s,l,f)=>{if(qh(s))return s.aborted=!0,s;const d=n(l,r,f);if(d instanceof Promise){if(f.async===!1)throw new fp;return d.then(m=>i._zod.parse(m,f))}return i._zod.parse(d,f)};i._zod.run=(s,l)=>{if(l.skipChecks)return i._zod.parse(s,l);if(l.direction==="backward"){const d=i._zod.parse({value:s.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(m=>a(m,s,l)):a(d,s,l)}const f=i._zod.parse(s,l);if(f instanceof Promise){if(l.async===!1)throw new fp;return f.then(d=>n(d,r,l))}return n(f,r,l)}}Cn(i,"~standard",()=>({validate:n=>{try{const a=XI(i,n);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return ZI(i,n).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),Hy=Me("$ZodString",(i,e)=>{pn.init(i,e),i._zod.pattern=[...i?._zod.bag?.patterns??[]].pop()??yz(i._zod.bag),i._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:i}),t}}),zi=Me("$ZodStringFormat",(i,e)=>{Fy.init(i,e),Hy.init(i,e)}),Jz=Me("$ZodGUID",(i,e)=>{e.pattern??(e.pattern=tz),zi.init(i,e)}),qz=Me("$ZodUUID",(i,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Zg(r))}else e.pattern??(e.pattern=Zg());zi.init(i,e)}),Wz=Me("$ZodEmail",(i,e)=>{e.pattern??(e.pattern=nz),zi.init(i,e)}),Kz=Me("$ZodURL",(i,e)=>{zi.init(i,e),i._zod.check=t=>{try{const r=t.value.trim(),n=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(n.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:t.value,inst:i,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:i,continue:!e.abort})),e.normalize?t.value=n.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:i,continue:!e.abort})}}}),Qz=Me("$ZodEmoji",(i,e)=>{e.pattern??(e.pattern=rz()),zi.init(i,e)}),eL=Me("$ZodNanoID",(i,e)=>{e.pattern??(e.pattern=QI),zi.init(i,e)}),tL=Me("$ZodCUID",(i,e)=>{e.pattern??(e.pattern=YI),zi.init(i,e)}),nL=Me("$ZodCUID2",(i,e)=>{e.pattern??(e.pattern=JI),zi.init(i,e)}),iL=Me("$ZodULID",(i,e)=>{e.pattern??(e.pattern=qI),zi.init(i,e)}),rL=Me("$ZodXID",(i,e)=>{e.pattern??(e.pattern=WI),zi.init(i,e)}),aL=Me("$ZodKSUID",(i,e)=>{e.pattern??(e.pattern=KI),zi.init(i,e)}),sL=Me("$ZodISODateTime",(i,e)=>{e.pattern??(e.pattern=_z(e)),zi.init(i,e)}),oL=Me("$ZodISODate",(i,e)=>{e.pattern??(e.pattern=mz),zi.init(i,e)}),lL=Me("$ZodISOTime",(i,e)=>{e.pattern??(e.pattern=vz(e)),zi.init(i,e)}),cL=Me("$ZodISODuration",(i,e)=>{e.pattern??(e.pattern=ez),zi.init(i,e)}),uL=Me("$ZodIPv4",(i,e)=>{e.pattern??(e.pattern=az),zi.init(i,e),i._zod.bag.format="ipv4"}),fL=Me("$ZodIPv6",(i,e)=>{e.pattern??(e.pattern=sz),zi.init(i,e),i._zod.bag.format="ipv6",i._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:i,continue:!e.abort})}}}),dL=Me("$ZodMAC",(i,e)=>{e.pattern??(e.pattern=oz(e.delimiter)),zi.init(i,e),i._zod.bag.format="mac"}),hL=Me("$ZodCIDRv4",(i,e)=>{e.pattern??(e.pattern=lz),zi.init(i,e)}),pL=Me("$ZodCIDRv6",(i,e)=>{e.pattern??(e.pattern=cz),zi.init(i,e),i._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[n,a]=r;if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${n}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:i,continue:!e.abort})}}});function yw(i){if(i==="")return!0;if(i.length%4!==0)return!1;try{return atob(i),!0}catch{return!1}}const mL=Me("$ZodBase64",(i,e)=>{e.pattern??(e.pattern=uz),zi.init(i,e),i._zod.bag.contentEncoding="base64",i._zod.check=t=>{yw(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:i,continue:!e.abort})}});function gL(i){if(!pw.test(i))return!1;const e=i.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return yw(t)}const vL=Me("$ZodBase64URL",(i,e)=>{e.pattern??(e.pattern=pw),zi.init(i,e),i._zod.bag.contentEncoding="base64url",i._zod.check=t=>{gL(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:i,continue:!e.abort})}}),_L=Me("$ZodE164",(i,e)=>{e.pattern??(e.pattern=hz),zi.init(i,e)});function yL(i,e=null){try{const t=i.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const n=JSON.parse(atob(r));return!("typ"in n&&n?.typ!=="JWT"||!n.alg||e&&(!("alg"in n)||n.alg!==e))}catch{return!1}}const xL=Me("$ZodJWT",(i,e)=>{zi.init(i,e),i._zod.check=t=>{yL(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:i,continue:!e.abort})}}),bL=Me("$ZodCustomStringFormat",(i,e)=>{zi.init(i,e),i._zod.check=t=>{e.fn(t.value)||t.issues.push({code:"invalid_format",format:e.format,input:t.value,inst:i,continue:!e.abort})}}),xw=Me("$ZodNumber",(i,e)=>{pn.init(i,e),i._zod.pattern=i._zod.bag.pattern??mw,i._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const n=t.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return t;const a=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:n,inst:i,...a?{received:a}:{}}),t}}),SL=Me("$ZodNumberFormat",(i,e)=>{Dz.init(i,e),xw.init(i,e)}),bw=Me("$ZodBoolean",(i,e)=>{pn.init(i,e),i._zod.pattern=Sz,i._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const n=t.value;return typeof n=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:i}),t}}),Sw=Me("$ZodBigInt",(i,e)=>{pn.init(i,e),i._zod.pattern=xz,i._zod.parse=(t,r)=>{if(e.coerce)try{t.value=BigInt(t.value)}catch{}return typeof t.value=="bigint"||t.issues.push({expected:"bigint",code:"invalid_type",input:t.value,inst:i}),t}}),AL=Me("$ZodBigIntFormat",(i,e)=>{Bz.init(i,e),Sw.init(i,e)}),EL=Me("$ZodSymbol",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value;return typeof n=="symbol"||t.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:i}),t}}),ML=Me("$ZodUndefined",(i,e)=>{pn.init(i,e),i._zod.pattern=Ez,i._zod.values=new Set([void 0]),i._zod.optin="optional",i._zod.optout="optional",i._zod.parse=(t,r)=>{const n=t.value;return typeof n>"u"||t.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:i}),t}}),TL=Me("$ZodNull",(i,e)=>{pn.init(i,e),i._zod.pattern=Az,i._zod.values=new Set([null]),i._zod.parse=(t,r)=>{const n=t.value;return n===null||t.issues.push({expected:"null",code:"invalid_type",input:n,inst:i}),t}}),CL=Me("$ZodAny",(i,e)=>{pn.init(i,e),i._zod.parse=t=>t}),wL=Me("$ZodUnknown",(i,e)=>{pn.init(i,e),i._zod.parse=t=>t}),RL=Me("$ZodNever",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:i}),t)}),DL=Me("$ZodVoid",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value;return typeof n>"u"||t.issues.push({expected:"void",code:"invalid_type",input:n,inst:i}),t}}),BL=Me("$ZodDate",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{if(e.coerce)try{t.value=new Date(t.value)}catch{}const n=t.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||t.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:i}),t}});function qB(i,e,t){i.issues.length&&e.issues.push(...Kl(t,i.issues)),e.value[t]=i.value}const UL=Me("$ZodArray",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value;if(!Array.isArray(n))return t.issues.push({expected:"array",code:"invalid_type",input:n,inst:i}),t;t.value=Array(n.length);const a=[];for(let s=0;s<n.length;s++){const l=n[s],f=e.element._zod.run({value:l,issues:[]},r);f instanceof Promise?a.push(f.then(d=>qB(d,t,s))):qB(f,t,s)}return a.length?Promise.all(a).then(()=>t):t}});function CS(i,e,t,r,n){if(i.issues.length){if(n&&!(t in r))return;e.issues.push(...Kl(t,i.issues))}i.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=i.value}function OL(i){const e=Object.keys(i.shape);for(const r of e)if(!i.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=RI(i.shape);return{...i,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function NL(i,e,t,r,n,a){const s=[],l=n.keySet,f=n.catchall._zod,d=f.def.type,m=f.optout==="optional";for(const g in e){if(l.has(g))continue;if(d==="never"){s.push(g);continue}const _=f.run({value:e[g],issues:[]},r);_ instanceof Promise?i.push(_.then(x=>CS(x,t,g,e,m))):CS(_,t,g,e,m)}return s.length&&t.issues.push({code:"unrecognized_keys",keys:s,input:e,inst:a}),i.length?Promise.all(i).then(()=>t):t}const IL=Me("$ZodObject",(i,e)=>{if(pn.init(i,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...l};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Uy(()=>OL(e));Cn(i._zod,"propValues",()=>{const l=e.shape,f={};for(const d in l){const m=l[d]._zod;if(m.values){f[d]??(f[d]=new Set);for(const g of m.values)f[d].add(g)}}return f});const n=$g,a=e.catchall;let s;i._zod.parse=(l,f)=>{s??(s=r.value);const d=l.value;if(!n(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:i}),l;l.value={};const m=[],g=s.shape;for(const _ of s.keys){const x=g[_],b=x._zod.optout==="optional",M=x._zod.run({value:d[_],issues:[]},f);M instanceof Promise?m.push(M.then(T=>CS(T,l,_,d,b))):CS(M,l,_,d,b)}return a?NL(m,d,l,f,r.value,i):m.length?Promise.all(m).then(()=>l):l}}),zL=Me("$ZodObjectJIT",(i,e)=>{IL.init(i,e);const t=i._zod.parse,r=Uy(()=>OL(e)),n=_=>{const x=new Zz(["shape","payload","ctx"]),b=r.value,M=B=>{const D=q2(B);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};x.write("const input = payload.value;");const T=Object.create(null);let A=0;for(const B of b.keys)T[B]=`key_${A++}`;x.write("const newResult = {};");for(const B of b.keys){const D=T[B],I=q2(B),P=_[B]?._zod?.optout==="optional";x.write(`const ${D} = ${M(B)};`),P?x.write(`
        if (${D}.issues.length) {
          if (${I} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${I}, ...iss.path] : [${I}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${D}.value;
        }
        
      `):x.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${I}, ...iss.path] : [${I}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${D}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const R=x.compile();return(B,D)=>R(_,B,D)};let a;const s=$g,l=!SS.jitless,d=l&&CI.value,m=e.catchall;let g;i._zod.parse=(_,x)=>{g??(g=r.value);const b=_.value;return s(b)?l&&d&&x?.async===!1&&x.jitless!==!0?(a||(a=n(e.shape)),_=a(_,x),m?NL([],b,_,x,g,i):_):t(_,x):(_.issues.push({expected:"object",code:"invalid_type",input:b,inst:i}),_)}});function WB(i,e,t,r){for(const a of i)if(a.issues.length===0)return e.value=a.value,e;const n=i.filter(a=>!qh(a));return n.length===1?(e.value=n[0].value,n[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:i.map(a=>a.issues.map(s=>gl(s,r,ts())))}),e)}const DA=Me("$ZodUnion",(i,e)=>{pn.init(i,e),Cn(i._zod,"optin",()=>e.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Cn(i._zod,"optout",()=>e.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Cn(i._zod,"values",()=>{if(e.options.every(n=>n._zod.values))return new Set(e.options.flatMap(n=>Array.from(n._zod.values)))}),Cn(i._zod,"pattern",()=>{if(e.options.every(n=>n._zod.pattern)){const n=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${n.map(a=>MA(a.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;i._zod.parse=(n,a)=>{if(t)return r(n,a);let s=!1;const l=[];for(const f of e.options){const d=f._zod.run({value:n.value,issues:[]},a);if(d instanceof Promise)l.push(d),s=!0;else{if(d.issues.length===0)return d;l.push(d)}}return s?Promise.all(l).then(f=>WB(f,n,i,a)):WB(l,n,i,a)}});function KB(i,e,t,r){const n=i.filter(a=>a.issues.length===0);return n.length===1?(e.value=n[0].value,e):(n.length===0?e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:i.map(a=>a.issues.map(s=>gl(s,r,ts())))}):e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:[],inclusive:!1}),e)}const LL=Me("$ZodXor",(i,e)=>{DA.init(i,e),e.inclusive=!1;const t=e.options.length===1,r=e.options[0]._zod.run;i._zod.parse=(n,a)=>{if(t)return r(n,a);let s=!1;const l=[];for(const f of e.options){const d=f._zod.run({value:n.value,issues:[]},a);d instanceof Promise?(l.push(d),s=!0):l.push(d)}return s?Promise.all(l).then(f=>KB(f,n,i,a)):KB(l,n,i,a)}}),PL=Me("$ZodDiscriminatedUnion",(i,e)=>{e.inclusive=!1,DA.init(i,e);const t=i._zod.parse;Cn(i._zod,"propValues",()=>{const n={};for(const a of e.options){const s=a._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(const[l,f]of Object.entries(s)){n[l]||(n[l]=new Set);for(const d of f)n[l].add(d)}}return n});const r=Uy(()=>{const n=e.options,a=new Map;for(const s of n){const l=s._zod.propValues?.[e.discriminator];if(!l||l.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(const f of l){if(a.has(f))throw new Error(`Duplicate discriminator value "${String(f)}"`);a.set(f,s)}}return a});i._zod.parse=(n,a)=>{const s=n.value;if(!$g(s))return n.issues.push({code:"invalid_type",expected:"object",input:s,inst:i}),n;const l=r.value.get(s?.[e.discriminator]);return l?l._zod.run(n,a):e.unionFallback?t(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:s,path:[e.discriminator],inst:i}),n)}}),FL=Me("$ZodIntersection",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value,a=e.left._zod.run({value:n,issues:[]},r),s=e.right._zod.run({value:n,issues:[]},r);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([f,d])=>QB(t,f,d)):QB(t,a,s)}});function W2(i,e){if(i===e)return{valid:!0,data:i};if(i instanceof Date&&e instanceof Date&&+i==+e)return{valid:!0,data:i};if(vp(i)&&vp(e)){const t=Object.keys(e),r=Object.keys(i).filter(a=>t.indexOf(a)!==-1),n={...i,...e};for(const a of r){const s=W2(i[a],e[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};n[a]=s.data}return{valid:!0,data:n}}if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<i.length;r++){const n=i[r],a=e[r],s=W2(n,a);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};t.push(s.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function QB(i,e,t){const r=new Map;let n;for(const l of e.issues)if(l.code==="unrecognized_keys"){n??(n=l);for(const f of l.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else i.issues.push(l);for(const l of t.issues)if(l.code==="unrecognized_keys")for(const f of l.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else i.issues.push(l);const a=[...r].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(a.length&&n&&i.issues.push({...n,keys:a}),qh(i))return i;const s=W2(e.value,t.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return i.value=s.data,i}const Aw=Me("$ZodTuple",(i,e)=>{pn.init(i,e);const t=e.items;i._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({input:a,inst:i,expected:"tuple",code:"invalid_type"}),r;r.value=[];const s=[],l=[...t].reverse().findIndex(m=>m._zod.optin!=="optional"),f=l===-1?0:t.length-l;if(!e.rest){const m=a.length>t.length,g=a.length<f-1;if(m||g)return r.issues.push({...m?{code:"too_big",maximum:t.length,inclusive:!0}:{code:"too_small",minimum:t.length},input:a,inst:i,origin:"array"}),r}let d=-1;for(const m of t){if(d++,d>=a.length&&d>=f)continue;const g=m._zod.run({value:a[d],issues:[]},n);g instanceof Promise?s.push(g.then(_=>X1(_,r,d))):X1(g,r,d)}if(e.rest){const m=a.slice(t.length);for(const g of m){d++;const _=e.rest._zod.run({value:g,issues:[]},n);_ instanceof Promise?s.push(_.then(x=>X1(x,r,d))):X1(_,r,d)}}return s.length?Promise.all(s).then(()=>r):r}});function X1(i,e,t){i.issues.length&&e.issues.push(...Kl(t,i.issues)),e.value[t]=i.value}const HL=Me("$ZodRecord",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value;if(!vp(n))return t.issues.push({expected:"record",code:"invalid_type",input:n,inst:i}),t;const a=[],s=e.keyType._zod.values;if(s){t.value={};const l=new Set;for(const d of s)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){l.add(typeof d=="number"?d.toString():d);const m=e.valueType._zod.run({value:n[d],issues:[]},r);m instanceof Promise?a.push(m.then(g=>{g.issues.length&&t.issues.push(...Kl(d,g.issues)),t.value[d]=g.value})):(m.issues.length&&t.issues.push(...Kl(d,m.issues)),t.value[d]=m.value)}let f;for(const d in n)l.has(d)||(f=f??[],f.push(d));f&&f.length>0&&t.issues.push({code:"unrecognized_keys",input:n,inst:i,keys:f})}else{t.value={};for(const l of Reflect.ownKeys(n)){if(l==="__proto__")continue;let f=e.keyType._zod.run({value:l,issues:[]},r);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&mw.test(l)&&f.issues.length&&f.issues.some(g=>g.code==="invalid_type"&&g.expected==="number")){const g=e.keyType._zod.run({value:Number(l),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(f=g)}if(f.issues.length){e.mode==="loose"?t.value[l]=n[l]:t.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(g=>gl(g,r,ts())),input:l,path:[l],inst:i});continue}const m=e.valueType._zod.run({value:n[l],issues:[]},r);m instanceof Promise?a.push(m.then(g=>{g.issues.length&&t.issues.push(...Kl(l,g.issues)),t.value[f.value]=g.value})):(m.issues.length&&t.issues.push(...Kl(l,m.issues)),t.value[f.value]=m.value)}}return a.length?Promise.all(a).then(()=>t):t}}),kL=Me("$ZodMap",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value;if(!(n instanceof Map))return t.issues.push({expected:"map",code:"invalid_type",input:n,inst:i}),t;const a=[];t.value=new Map;for(const[s,l]of n){const f=e.keyType._zod.run({value:s,issues:[]},r),d=e.valueType._zod.run({value:l,issues:[]},r);f instanceof Promise||d instanceof Promise?a.push(Promise.all([f,d]).then(([m,g])=>{eU(m,g,t,s,n,i,r)})):eU(f,d,t,s,n,i,r)}return a.length?Promise.all(a).then(()=>t):t}});function eU(i,e,t,r,n,a,s){i.issues.length&&(ES.has(typeof r)?t.issues.push(...Kl(r,i.issues)):t.issues.push({code:"invalid_key",origin:"map",input:n,inst:a,issues:i.issues.map(l=>gl(l,s,ts()))})),e.issues.length&&(ES.has(typeof r)?t.issues.push(...Kl(r,e.issues)):t.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:r,issues:e.issues.map(l=>gl(l,s,ts()))})),t.value.set(i.value,e.value)}const GL=Me("$ZodSet",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value;if(!(n instanceof Set))return t.issues.push({input:n,inst:i,expected:"set",code:"invalid_type"}),t;const a=[];t.value=new Set;for(const s of n){const l=e.valueType._zod.run({value:s,issues:[]},r);l instanceof Promise?a.push(l.then(f=>tU(f,t))):tU(l,t)}return a.length?Promise.all(a).then(()=>t):t}});function tU(i,e){i.issues.length&&e.issues.push(...i.issues),e.value.add(i.value)}const VL=Me("$ZodEnum",(i,e)=>{pn.init(i,e);const t=nw(e.entries),r=new Set(t);i._zod.values=r,i._zod.pattern=new RegExp(`^(${t.filter(n=>ES.has(typeof n)).map(n=>typeof n=="string"?Qu(n):n.toString()).join("|")})$`),i._zod.parse=(n,a)=>{const s=n.value;return r.has(s)||n.issues.push({code:"invalid_value",values:t,input:s,inst:i}),n}}),jL=Me("$ZodLiteral",(i,e)=>{if(pn.init(i,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const t=new Set(e.values);i._zod.values=t,i._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Qu(r):r?Qu(r.toString()):String(r)).join("|")})$`),i._zod.parse=(r,n)=>{const a=r.value;return t.has(a)||r.issues.push({code:"invalid_value",values:e.values,input:a,inst:i}),r}}),$L=Me("$ZodFile",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{const n=t.value;return n instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:n,inst:i}),t}}),XL=Me("$ZodTransform",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{if(r.direction==="backward")throw new EA(i.constructor.name);const n=e.transform(t.value,t);if(r.async)return(n instanceof Promise?n:Promise.resolve(n)).then(s=>(t.value=s,t));if(n instanceof Promise)throw new fp;return t.value=n,t}});function nU(i,e){return i.issues.length&&e===void 0?{issues:[],value:void 0}:i}const Ew=Me("$ZodOptional",(i,e)=>{pn.init(i,e),i._zod.optin="optional",i._zod.optout="optional",Cn(i._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Cn(i._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${MA(t.source)})?$`):void 0}),i._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const n=e.innerType._zod.run(t,r);return n instanceof Promise?n.then(a=>nU(a,t.value)):nU(n,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),ZL=Me("$ZodExactOptional",(i,e)=>{Ew.init(i,e),Cn(i._zod,"values",()=>e.innerType._zod.values),Cn(i._zod,"pattern",()=>e.innerType._zod.pattern),i._zod.parse=(t,r)=>e.innerType._zod.run(t,r)}),YL=Me("$ZodNullable",(i,e)=>{pn.init(i,e),Cn(i._zod,"optin",()=>e.innerType._zod.optin),Cn(i._zod,"optout",()=>e.innerType._zod.optout),Cn(i._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${MA(t.source)}|null)$`):void 0}),Cn(i._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),i._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),JL=Me("$ZodDefault",(i,e)=>{pn.init(i,e),i._zod.optin="optional",Cn(i._zod,"values",()=>e.innerType._zod.values),i._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const n=e.innerType._zod.run(t,r);return n instanceof Promise?n.then(a=>iU(a,e)):iU(n,e)}});function iU(i,e){return i.value===void 0&&(i.value=e.defaultValue),i}const qL=Me("$ZodPrefault",(i,e)=>{pn.init(i,e),i._zod.optin="optional",Cn(i._zod,"values",()=>e.innerType._zod.values),i._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),WL=Me("$ZodNonOptional",(i,e)=>{pn.init(i,e),Cn(i._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),i._zod.parse=(t,r)=>{const n=e.innerType._zod.run(t,r);return n instanceof Promise?n.then(a=>rU(a,i)):rU(n,i)}});function rU(i,e){return!i.issues.length&&i.value===void 0&&i.issues.push({code:"invalid_type",expected:"nonoptional",input:i.value,inst:e}),i}const KL=Me("$ZodSuccess",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>{if(r.direction==="backward")throw new EA("ZodSuccess");const n=e.innerType._zod.run(t,r);return n instanceof Promise?n.then(a=>(t.value=a.issues.length===0,t)):(t.value=n.issues.length===0,t)}}),QL=Me("$ZodCatch",(i,e)=>{pn.init(i,e),Cn(i._zod,"optin",()=>e.innerType._zod.optin),Cn(i._zod,"optout",()=>e.innerType._zod.optout),Cn(i._zod,"values",()=>e.innerType._zod.values),i._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const n=e.innerType._zod.run(t,r);return n instanceof Promise?n.then(a=>(t.value=a.value,a.issues.length&&(t.value=e.catchValue({...t,error:{issues:a.issues.map(s=>gl(s,r,ts()))},input:t.value}),t.issues=[]),t)):(t.value=n.value,n.issues.length&&(t.value=e.catchValue({...t,error:{issues:n.issues.map(a=>gl(a,r,ts()))},input:t.value}),t.issues=[]),t)}}),eP=Me("$ZodNaN",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>((typeof t.value!="number"||!Number.isNaN(t.value))&&t.issues.push({input:t.value,inst:i,expected:"nan",code:"invalid_type"}),t)}),tP=Me("$ZodPipe",(i,e)=>{pn.init(i,e),Cn(i._zod,"values",()=>e.in._zod.values),Cn(i._zod,"optin",()=>e.in._zod.optin),Cn(i._zod,"optout",()=>e.out._zod.optout),Cn(i._zod,"propValues",()=>e.in._zod.propValues),i._zod.parse=(t,r)=>{if(r.direction==="backward"){const a=e.out._zod.run(t,r);return a instanceof Promise?a.then(s=>Z1(s,e.in,r)):Z1(a,e.in,r)}const n=e.in._zod.run(t,r);return n instanceof Promise?n.then(a=>Z1(a,e.out,r)):Z1(n,e.out,r)}});function Z1(i,e,t){return i.issues.length?(i.aborted=!0,i):e._zod.run({value:i.value,issues:i.issues},t)}const Mw=Me("$ZodCodec",(i,e)=>{pn.init(i,e),Cn(i._zod,"values",()=>e.in._zod.values),Cn(i._zod,"optin",()=>e.in._zod.optin),Cn(i._zod,"optout",()=>e.out._zod.optout),Cn(i._zod,"propValues",()=>e.in._zod.propValues),i._zod.parse=(t,r)=>{if((r.direction||"forward")==="forward"){const a=e.in._zod.run(t,r);return a instanceof Promise?a.then(s=>Y1(s,e,r)):Y1(a,e,r)}else{const a=e.out._zod.run(t,r);return a instanceof Promise?a.then(s=>Y1(s,e,r)):Y1(a,e,r)}}});function Y1(i,e,t){if(i.issues.length)return i.aborted=!0,i;if((t.direction||"forward")==="forward"){const n=e.transform(i.value,i);return n instanceof Promise?n.then(a=>J1(i,a,e.out,t)):J1(i,n,e.out,t)}else{const n=e.reverseTransform(i.value,i);return n instanceof Promise?n.then(a=>J1(i,a,e.in,t)):J1(i,n,e.in,t)}}function J1(i,e,t,r){return i.issues.length?(i.aborted=!0,i):t._zod.run({value:e,issues:i.issues},r)}const nP=Me("$ZodReadonly",(i,e)=>{pn.init(i,e),Cn(i._zod,"propValues",()=>e.innerType._zod.propValues),Cn(i._zod,"values",()=>e.innerType._zod.values),Cn(i._zod,"optin",()=>e.innerType?._zod?.optin),Cn(i._zod,"optout",()=>e.innerType?._zod?.optout),i._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const n=e.innerType._zod.run(t,r);return n instanceof Promise?n.then(aU):aU(n)}});function aU(i){return i.value=Object.freeze(i.value),i}const iP=Me("$ZodTemplateLiteral",(i,e)=>{pn.init(i,e);const t=[];for(const r of e.parts)if(typeof r=="object"&&r!==null){if(!r._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...r._zod.traits].shift()}`);const n=r._zod.pattern instanceof RegExp?r._zod.pattern.source:r._zod.pattern;if(!n)throw new Error(`Invalid template literal part: ${r._zod.traits}`);const a=n.startsWith("^")?1:0,s=n.endsWith("$")?n.length-1:n.length;t.push(n.slice(a,s))}else if(r===null||wI.has(typeof r))t.push(Qu(`${r}`));else throw new Error(`Invalid template literal part: ${r}`);i._zod.pattern=new RegExp(`^${t.join("")}$`),i._zod.parse=(r,n)=>typeof r.value!="string"?(r.issues.push({input:r.value,inst:i,expected:"string",code:"invalid_type"}),r):(i._zod.pattern.lastIndex=0,i._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:i,code:"invalid_format",format:e.format??"template_literal",pattern:i._zod.pattern.source}),r)}),rP=Me("$ZodFunction",(i,e)=>(pn.init(i,e),i._def=e,i._zod.def=e,i.implement=t=>{if(typeof t!="function")throw new Error("implement() must be called with a function");return function(...r){const n=i._def.input?MS(i._def.input,r):r,a=Reflect.apply(t,this,n);return i._def.output?MS(i._def.output,a):a}},i.implementAsync=t=>{if(typeof t!="function")throw new Error("implementAsync() must be called with a function");return async function(...r){const n=i._def.input?await TS(i._def.input,r):r,a=await Reflect.apply(t,this,n);return i._def.output?await TS(i._def.output,a):a}},i._zod.parse=(t,r)=>typeof t.value!="function"?(t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:i}),t):(i._def.output&&i._def.output._zod.def.type==="promise"?t.value=i.implementAsync(t.value):t.value=i.implement(t.value),t),i.input=(...t)=>{const r=i.constructor;return Array.isArray(t[0])?new r({type:"function",input:new Aw({type:"tuple",items:t[0],rest:t[1]}),output:i._def.output}):new r({type:"function",input:t[0],output:i._def.output})},i.output=t=>{const r=i.constructor;return new r({type:"function",input:i._def.input,output:t})},i)),aP=Me("$ZodPromise",(i,e)=>{pn.init(i,e),i._zod.parse=(t,r)=>Promise.resolve(t.value).then(n=>e.innerType._zod.run({value:n,issues:[]},r))}),sP=Me("$ZodLazy",(i,e)=>{pn.init(i,e),Cn(i._zod,"innerType",()=>e.getter()),Cn(i._zod,"pattern",()=>i._zod.innerType?._zod?.pattern),Cn(i._zod,"propValues",()=>i._zod.innerType?._zod?.propValues),Cn(i._zod,"optin",()=>i._zod.innerType?._zod?.optin??void 0),Cn(i._zod,"optout",()=>i._zod.innerType?._zod?.optout??void 0),i._zod.parse=(t,r)=>i._zod.innerType._zod.run(t,r)}),oP=Me("$ZodCustom",(i,e)=>{Ki.init(i,e),pn.init(i,e),i._zod.parse=(t,r)=>t,i._zod.check=t=>{const r=t.value,n=e.fn(r);if(n instanceof Promise)return n.then(a=>sU(a,t,r,i));sU(n,t,r,i)}});function sU(i,e,t,r){if(!i){const n={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(n.params=r._zod.def.params),e.issues.push(Xg(n))}}const e7=()=>{const i={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(n){return i[n]??null}const t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`  :   instanceof ${n.expected}    ${l}`:`  :   ${a}    ${l}`}case"invalid_value":return n.values.length===1?`  :   ${rn(n.values[0])}`:`  :     : ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`   :    ${n.origin??""} ${a} ${n.maximum.toString()} ${s.unit??""}`:`  :    ${n.origin??""} ${a} ${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`  :   ${n.origin}   ${a} ${n.minimum.toString()} ${s.unit}`:`  :   ${n.origin}   ${a} ${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`  :     "${n.prefix}"`:a.format==="ends_with"?`  :     "${a.suffix}"`:a.format==="includes"?`  :    "${a.includes}"`:a.format==="regex"?`  :     ${a.pattern}`:`${t[a.format]??n.format}  `}case"not_multiple_of":return`  :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${dt(n.keys," ")}`;case"invalid_key":return`    ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${n.origin}`;default:return"  "}}};function t7(){return{localeError:e7()}}const n7=()=>{const i={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function e(n){return i[n]??null}const t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Yanl dyr: gzlniln instanceof ${n.expected}, daxil olan ${l}`:`Yanl dyr: gzlniln ${a}, daxil olan ${l}`}case"invalid_value":return n.values.length===1?`Yanl dyr: gzlniln ${rn(n.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`ox byk: gzlniln ${n.origin??"dyr"} ${a}${n.maximum.toString()} ${s.unit??"element"}`:`ox byk: gzlniln ${n.origin??"dyr"} ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`ox kiik: gzlniln ${n.origin} ${a}${n.minimum.toString()} ${s.unit}`:`ox kiik: gzlniln ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Yanl mtn: "${a.prefix}" il balamaldr`:a.format==="ends_with"?`Yanl mtn: "${a.suffix}" il bitmlidir`:a.format==="includes"?`Yanl mtn: "${a.includes}" daxil olmaldr`:a.format==="regex"?`Yanl mtn: ${a.pattern} ablonuna uyun olmaldr`:`Yanl ${t[a.format]??n.format}`}case"not_multiple_of":return`Yanl dd: ${n.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${n.keys.length>1?"lar":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`${n.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${n.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function i7(){return{localeError:n7()}}function oU(i,e,t,r){const n=Math.abs(i),a=n%10,s=n%100;return s>=11&&s<=19?r:a===1?e:a>=2&&a<=4?t:r}const r7=()=>{const i={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${a},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])}`:` :    ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);if(s){const l=Number(n.maximum),f=oU(l,s.unit.one,s.unit.few,s.unit.many);return` : ,  ${n.origin??""}  ${s.verb} ${a}${n.maximum.toString()} ${f}`}return` : ,  ${n.origin??""}   ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);if(s){const l=Number(n.minimum),f=oU(l,s.unit.one,s.unit.few,s.unit.many);return` : ,  ${n.origin}  ${s.verb} ${a}${n.minimum.toString()} ${f}`}return` : ,  ${n.origin}   ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` :    "${a.prefix}"`:a.format==="ends_with"?` :    "${a.suffix}"`:a.format==="includes"?` :   "${a.includes}"`:a.format==="regex"?` :    ${a.pattern}`:` ${t[a.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function a7(){return{localeError:r7()}}const s7=()=>{const i={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(n){return i[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${a},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])}`:` :    ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` :   ${n.origin??""}   ${a}${n.maximum.toString()} ${s.unit??""}`:` :   ${n.origin??""}   ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` :   ${n.origin}   ${a}${n.minimum.toString()} ${s.unit}`:` :   ${n.origin}   ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;if(a.format==="starts_with")return` :     "${a.prefix}"`;if(a.format==="ends_with")return` :     "${a.suffix}"`;if(a.format==="includes")return` :    "${a.includes}"`;if(a.format==="regex")return` :     ${a.pattern}`;let s="";return a.format==="emoji"&&(s=""),a.format==="datetime"&&(s=""),a.format==="date"&&(s=""),a.format==="time"&&(s=""),a.format==="duration"&&(s=""),`${s} ${t[a.format]??n.format}`}case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function o7(){return{localeError:s7()}}const l7=()=>{const i={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(n){return i[n]??null}const t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Tipus invlid: s'esperava instanceof ${n.expected}, s'ha rebut ${l}`:`Tipus invlid: s'esperava ${a}, s'ha rebut ${l}`}case"invalid_value":return n.values.length===1?`Valor invlid: s'esperava ${rn(n.values[0])}`:`Opci invlida: s'esperava una de ${dt(n.values," o ")}`;case"too_big":{const a=n.inclusive?"com a mxim":"menys de",s=e(n.origin);return s?`Massa gran: s'esperava que ${n.origin??"el valor"} contingus ${a} ${n.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${a} ${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?"com a mnim":"ms de",s=e(n.origin);return s?`Massa petit: s'esperava que ${n.origin} contingus ${a} ${n.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${n.origin} fos ${a} ${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Format invlid: ha de comenar amb "${a.prefix}"`:a.format==="ends_with"?`Format invlid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format invlid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format invlid: ha de coincidir amb el patr ${a.pattern}`:`Format invlid per a ${t[a.format]??n.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${n.divisor}`;case"unrecognized_keys":return`Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Clau invlida a ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${n.origin}`;default:return"Entrada invlida"}}};function c7(){return{localeError:l7()}}const u7=()=>{const i={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function e(n){return i[n]??null}const t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},r={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Neplatn vstup: oekvno instanceof ${n.expected}, obdreno ${l}`:`Neplatn vstup: oekvno ${a}, obdreno ${l}`}case"invalid_value":return n.values.length===1?`Neplatn vstup: oekvno ${rn(n.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Hodnota je pli velk: ${n.origin??"hodnota"} mus mt ${a}${n.maximum.toString()} ${s.unit??"prvk"}`:`Hodnota je pli velk: ${n.origin??"hodnota"} mus bt ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Hodnota je pli mal: ${n.origin??"hodnota"} mus mt ${a}${n.minimum.toString()} ${s.unit??"prvk"}`:`Hodnota je pli mal: ${n.origin??"hodnota"} mus bt ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Neplatn etzec: mus zanat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn etzec: mus konit na "${a.suffix}"`:a.format==="includes"?`Neplatn etzec: mus obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${a.pattern}`:`Neplatn formt ${t[a.format]??n.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${n.divisor}`;case"unrecognized_keys":return`Neznm kle: ${dt(n.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${n.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${n.origin}`;default:return"Neplatn vstup"}}};function f7(){return{localeError:u7()}}const d7=()=>{const i={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function e(n){return i[n]??null}const t={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Ugyldigt input: forventede instanceof ${n.expected}, fik ${l}`:`Ugyldigt input: forventede ${a}, fik ${l}`}case"invalid_value":return n.values.length===1?`Ugyldig vrdi: forventede ${rn(n.values[0])}`:`Ugyldigt valg: forventede en af flgende ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin),l=r[n.origin]??n.origin;return s?`For stor: forventede ${l??"value"} ${s.verb} ${a} ${n.maximum.toString()} ${s.unit??"elementer"}`:`For stor: forventede ${l??"value"} havde ${a} ${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin),l=r[n.origin]??n.origin;return s?`For lille: forventede ${l} ${s.verb} ${a} ${n.minimum.toString()} ${s.unit}`:`For lille: forventede ${l} havde ${a} ${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche mnsteret ${a.pattern}`:`Ugyldig ${t[a.format]??n.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${dt(n.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${n.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${n.origin}`;default:return"Ugyldigt input"}}};function h7(){return{localeError:d7()}}const p7=()=>{const i={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(n){return i[n]??null}const t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r={nan:"NaN",number:"Zahl",array:"Array"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Ungltige Eingabe: erwartet instanceof ${n.expected}, erhalten ${l}`:`Ungltige Eingabe: erwartet ${a}, erhalten ${l}`}case"invalid_value":return n.values.length===1?`Ungltige Eingabe: erwartet ${rn(n.values[0])}`:`Ungltige Option: erwartet eine von ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Zu gro: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ist`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ist`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Ungltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ungltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ungltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ungltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ungltig: ${t[a.format]??n.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case"unrecognized_keys":return`${n.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${dt(n.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${n.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${n.origin}`;default:return"Ungltige Eingabe"}}};function m7(){return{localeError:p7()}}const g7=()=>{const i={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function e(n){return i[n]??null}const t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return`Invalid input: expected ${a}, received ${l}`}case"invalid_value":return n.values.length===1?`Invalid input: expected ${rn(n.values[0])}`:`Invalid option: expected one of ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Too big: expected ${n.origin??"value"} to have ${a}${n.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Too small: expected ${n.origin} to have ${a}${n.minimum.toString()} ${s.unit}`:`Too small: expected ${n.origin} to be ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Invalid string: must start with "${a.prefix}"`:a.format==="ends_with"?`Invalid string: must end with "${a.suffix}"`:a.format==="includes"?`Invalid string: must include "${a.includes}"`:a.format==="regex"?`Invalid string: must match pattern ${a.pattern}`:`Invalid ${t[a.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function lP(){return{localeError:g7()}}const v7=()=>{const i={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(n){return i[n]??null}const t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},r={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Nevalida enigo: atendiis instanceof ${n.expected}, riceviis ${l}`:`Nevalida enigo: atendiis ${a}, riceviis ${l}`}case"invalid_value":return n.values.length===1?`Nevalida enigo: atendiis ${rn(n.values[0])}`:`Nevalida opcio: atendiis unu el ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${a}${n.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Tro malgranda: atendiis ke ${n.origin} havu ${a}${n.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiis ke ${n.origin} estu ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${a.prefix}"`:a.format==="ends_with"?`Nevalida karaktraro: devas finii per "${a.suffix}"`:a.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${a.includes}"`:a.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${a.pattern}`:`Nevalida ${t[a.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} losilo${n.keys.length>1?"j":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}};function _7(){return{localeError:v7()}}const y7=()=>{const i={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(n){return i[n]??null}const t={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Entrada invlida: se esperaba instanceof ${n.expected}, recibido ${l}`:`Entrada invlida: se esperaba ${a}, recibido ${l}`}case"invalid_value":return n.values.length===1?`Entrada invlida: se esperaba ${rn(n.values[0])}`:`Opcin invlida: se esperaba una de ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin),l=r[n.origin]??n.origin;return s?`Demasiado grande: se esperaba que ${l??"valor"} tuviera ${a}${n.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${l??"valor"} fuera ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin),l=r[n.origin]??n.origin;return s?`Demasiado pequeo: se esperaba que ${l} tuviera ${a}${n.minimum.toString()} ${s.unit}`:`Demasiado pequeo: se esperaba que ${l} fuera ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Cadena invlida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena invlida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena invlida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${a.pattern}`:`Invlido ${t[a.format]??n.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${n.divisor}`;case"unrecognized_keys":return`Llave${n.keys.length>1?"s":""} desconocida${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Llave invlida en ${r[n.origin]??n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${r[n.origin]??n.origin}`;default:return"Entrada invlida"}}};function x7(){return{localeError:y7()}}const b7=()=>{const i={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(n){return i[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected}  ${l}  `:` :  ${a}  ${l}  `}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])} `:` :    ${dt(n.values,"|")} `;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` : ${n.origin??""}  ${a}${n.maximum.toString()} ${s.unit??""} `:` : ${n.origin??""}  ${a}${n.maximum.toString()} `}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` : ${n.origin}  ${a}${n.minimum.toString()} ${s.unit} `:` : ${n.origin}  ${a}${n.minimum.toString()} `}case"invalid_format":{const a=n;return a.format==="starts_with"?` :   "${a.prefix}"  `:a.format==="ends_with"?` :   "${a.suffix}"  `:a.format==="includes"?` :   "${a.includes}" `:a.format==="regex"?` :    ${a.pattern}   `:`${t[a.format]??n.format} `}case"not_multiple_of":return` :   ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""} : ${dt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function S7(){return{localeError:b7()}}const A7=()=>{const i={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function e(n){return i[n]??null}const t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Virheellinen tyyppi: odotettiin instanceof ${n.expected}, oli ${l}`:`Virheellinen tyyppi: odotettiin ${a}, oli ${l}`}case"invalid_value":return n.values.length===1?`Virheellinen syte: tytyy olla ${rn(n.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Liian suuri: ${s.subject} tytyy olla ${a}${n.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon tytyy olla ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Liian pieni: ${s.subject} tytyy olla ${a}${n.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon tytyy olla ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen syte: tytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen syte: tytyy sislt "${a.includes}"`:a.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${a.pattern}`:`Virheellinen ${t[a.format]??n.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${n.divisor} monikerta`;case"unrecognized_keys":return`${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${dt(n.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function E7(){return{localeError:A7()}}const M7=()=>{const i={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function e(n){return i[n]??null}const t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r={nan:"NaN",number:"nombre",array:"tableau"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Entre invalide : instanceof ${n.expected} attendu, ${l} reu`:`Entre invalide : ${a} attendu, ${l} reu`}case"invalid_value":return n.values.length===1?`Entre invalide : ${rn(n.values[0])} attendu`:`Option invalide : une valeur parmi ${dt(n.values,"|")} attendue`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Trop grand : ${n.origin??"valeur"} doit ${s.verb} ${a}${n.maximum.toString()} ${s.unit??"lment(s)"}`:`Trop grand : ${n.origin??"valeur"} doit tre ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Trop petit : ${n.origin} doit ${s.verb} ${a}${n.minimum.toString()} ${s.unit}`:`Trop petit : ${n.origin} doit tre ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Chane invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Chane invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Chane invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Chane invalide : doit correspondre au modle ${a.pattern}`:`${t[a.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${dt(n.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entre invalide"}}};function T7(){return{localeError:M7()}}const C7=()=>{const i={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function e(n){return i[n]??null}const t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Entre invalide : attendu instanceof ${n.expected}, reu ${l}`:`Entre invalide : attendu ${a}, reu ${l}`}case"invalid_value":return n.values.length===1?`Entre invalide : attendu ${rn(n.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"":"<",s=e(n.origin);return s?`Trop grand : attendu que ${n.origin??"la valeur"} ait ${a}${n.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${n.origin??"la valeur"} soit ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?"":">",s=e(n.origin);return s?`Trop petit : attendu que ${n.origin} ait ${a}${n.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${n.origin} soit ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Chane invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Chane invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Chane invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Chane invalide : doit correspondre au motif ${a.pattern}`:`${t[a.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${dt(n.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entre invalide"}}};function w7(){return{localeError:C7()}}const R7=()=>{const i={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},e={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},t=d=>d?i[d]:void 0,r=d=>{const m=t(d);return m?m.label:d??i.unknown.label},n=d=>`${r(d)}`,a=d=>(t(d)?.gender??"m")==="f"?" ":" ",s=d=>d?e[d]??null:null,l={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},f={nan:"NaN"};return d=>{switch(d.code){case"invalid_type":{const m=d.expected,g=f[m??""]??r(m),_=sn(d.input),x=f[_]??i[_]?.label??_;return/^[A-Z]/.test(d.expected)?`  :   instanceof ${d.expected},  ${x}`:`  :   ${g},  ${x}`}case"invalid_value":{if(d.values.length===1)return`  :    ${rn(d.values[0])}`;const m=d.values.map(x=>rn(x));if(d.values.length===2)return`  :    ${m[0]}  ${m[1]}`;const g=m[m.length-1];return`  :    ${m.slice(0,-1).join(", ")}  ${g}`}case"too_big":{const m=s(d.origin),g=n(d.origin??"value");if(d.origin==="string")return`${m?.longLabel??""} : ${g}   ${d.maximum.toString()} ${m?.unit??""} ${d.inclusive?" ":" "}`.trim();if(d.origin==="number"){const b=d.inclusive?`   -${d.maximum}`:` -${d.maximum}`;return` : ${g}   ${b}`}if(d.origin==="array"||d.origin==="set"){const b=d.origin==="set"?"":"",M=d.inclusive?`${d.maximum} ${m?.unit??""}  `:` -${d.maximum} ${m?.unit??""}`;return` : ${g} ${b}  ${M}`.trim()}const _=d.inclusive?"<=":"<",x=a(d.origin??"value");return m?.unit?`${m.longLabel} : ${g} ${x} ${_}${d.maximum.toString()} ${m.unit}`:`${m?.longLabel??""} : ${g} ${x} ${_}${d.maximum.toString()}`}case"too_small":{const m=s(d.origin),g=n(d.origin??"value");if(d.origin==="string")return`${m?.shortLabel??""} : ${g}   ${d.minimum.toString()} ${m?.unit??""} ${d.inclusive?" ":""}`.trim();if(d.origin==="number"){const b=d.inclusive?`   -${d.minimum}`:` -${d.minimum}`;return` : ${g}   ${b}`}if(d.origin==="array"||d.origin==="set"){const b=d.origin==="set"?"":"";if(d.minimum===1&&d.inclusive){const T=(d.origin==="set","  ");return` : ${g} ${b}  ${T}`}const M=d.inclusive?`${d.minimum} ${m?.unit??""}  `:` -${d.minimum} ${m?.unit??""}`;return` : ${g} ${b}  ${M}`.trim()}const _=d.inclusive?">=":">",x=a(d.origin??"value");return m?.unit?`${m.shortLabel} : ${g} ${x} ${_}${d.minimum.toString()} ${m.unit}`:`${m?.shortLabel??""} : ${g} ${x} ${_}${d.minimum.toString()}`}case"invalid_format":{const m=d;if(m.format==="starts_with")return`    "${m.prefix}"`;if(m.format==="ends_with")return`    "${m.suffix}"`;if(m.format==="includes")return`   "${m.includes}"`;if(m.format==="regex")return`    ${m.pattern}`;const g=l[m.format],_=g?.label??m.format,b=(g?.gender??"m")==="f"?"":"";return`${_}  ${b}`}case"not_multiple_of":return`  :     ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""}  ${d.keys.length>1?"":""}: ${dt(d.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${n(d.origin??"array")}`;default:return"  "}}};function D7(){return{localeError:R7()}}const B7=()=>{const i={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(n){return i[n]??null}const t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},r={nan:"NaN",number:"szm",array:"tmb"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`rvnytelen bemenet: a vrt rtk instanceof ${n.expected}, a kapott rtk ${l}`:`rvnytelen bemenet: a vrt rtk ${a}, a kapott rtk ${l}`}case"invalid_value":return n.values.length===1?`rvnytelen bemenet: a vrt rtk ${rn(n.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Tl nagy: ${n.origin??"rtk"} mrete tl nagy ${a}${n.maximum.toString()} ${s.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${n.origin??"rtk"} tl nagy: ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Tl kicsi: a bemeneti rtk ${n.origin} mrete tl kicsi ${a}${n.minimum.toString()} ${s.unit}`:`Tl kicsi: a bemeneti rtk ${n.origin} tl kicsi ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`rvnytelen string: "${a.prefix}" rtkkel kell kezddnie`:a.format==="ends_with"?`rvnytelen string: "${a.suffix}" rtkkel kell vgzdnie`:a.format==="includes"?`rvnytelen string: "${a.includes}" rtket kell tartalmaznia`:a.format==="regex"?`rvnytelen string: ${a.pattern} mintnak kell megfelelnie`:`rvnytelen ${t[a.format]??n.format}`}case"not_multiple_of":return`rvnytelen szm: ${n.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${n.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${n.origin}`;default:return"rvnytelen bemenet"}}};function U7(){return{localeError:B7()}}function lU(i,e,t){return Math.abs(i)===1?e:t}function Jm(i){if(!i)return"";const e=["","","","","","",""],t=i[i.length-1];return i+(e.includes(t)?"":"")}const O7=()=>{const i={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}};function e(n){return i[n]??null}const t={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`    instanceof ${n.expected},   ${l}`:`    ${a},   ${l}`}case"invalid_value":return n.values.length===1?`    ${rn(n.values[1])}`:`      ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);if(s){const l=Number(n.maximum),f=lU(l,s.unit.one,s.unit.many);return`    ,  ${Jm(n.origin??"")}  ${a}${n.maximum.toString()} ${f}`}return`    ,  ${Jm(n.origin??"")}  ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);if(s){const l=Number(n.minimum),f=lU(l,s.unit.one,s.unit.many);return`    ,  ${Jm(n.origin)}  ${a}${n.minimum.toString()} ${f}`}return`    ,  ${Jm(n.origin)}  ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`     "${a.prefix}"-`:a.format==="ends_with"?`     "${a.suffix}"-`:a.format==="includes"?`     "${a.includes}"`:a.format==="regex"?`     ${a.pattern} `:` ${t[a.format]??n.format}`}case"not_multiple_of":return`      ${n.divisor}-`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}. ${dt(n.keys,", ")}`;case"invalid_key":return`  ${Jm(n.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${Jm(n.origin)}-`;default:return" "}}};function N7(){return{localeError:O7()}}const I7=()=>{const i={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(n){return i[n]??null}const t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Input tidak valid: diharapkan instanceof ${n.expected}, diterima ${l}`:`Input tidak valid: diharapkan ${a}, diterima ${l}`}case"invalid_value":return n.values.length===1?`Input tidak valid: diharapkan ${rn(n.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${a}${n.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Terlalu kecil: diharapkan ${n.origin} memiliki ${a}${n.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${n.origin} menjadi ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${t[a.format]??n.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${n.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${n.origin}`;default:return"Input tidak valid"}}};function z7(){return{localeError:I7()}}const L7=()=>{const i={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function e(n){return i[n]??null}const t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},r={nan:"NaN",number:"nmer",array:"fylki"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Rangt gildi:  slst inn ${l} ar sem  a vera instanceof ${n.expected}`:`Rangt gildi:  slst inn ${l} ar sem  a vera ${a}`}case"invalid_value":return n.values.length===1?`Rangt gildi: gert r fyrir ${rn(n.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Of strt: gert er r fyrir a ${n.origin??"gildi"} hafi ${a}${n.maximum.toString()} ${s.unit??"hluti"}`:`Of strt: gert er r fyrir a ${n.origin??"gildi"} s ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Of lti: gert er r fyrir a ${n.origin} hafi ${a}${n.minimum.toString()} ${s.unit}`:`Of lti: gert er r fyrir a ${n.origin} s ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`gildur strengur: verur a byrja  "${a.prefix}"`:a.format==="ends_with"?`gildur strengur: verur a enda  "${a.suffix}"`:a.format==="includes"?`gildur strengur: verur a innihalda "${a.includes}"`:a.format==="regex"?`gildur strengur: verur a fylgja mynstri ${a.pattern}`:`Rangt ${t[a.format]??n.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`ekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${dt(n.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${n.origin}`;default:return"Rangt gildi"}}};function P7(){return{localeError:L7()}}const F7=()=>{const i={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(n){return i[n]??null}const t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"numero",array:"vettore"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Input non valido: atteso instanceof ${n.expected}, ricevuto ${l}`:`Input non valido: atteso ${a}, ricevuto ${l}`}case"invalid_value":return n.values.length===1?`Input non valido: atteso ${rn(n.values[0])}`:`Opzione non valida: atteso uno tra ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Troppo grande: ${n.origin??"valore"} deve avere ${a}${n.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${n.origin??"valore"} deve essere ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Troppo piccolo: ${n.origin} deve avere ${a}${n.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${n.origin} deve essere ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${t[a.format]??n.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${n.divisor}`;case"unrecognized_keys":return`Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${dt(n.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${n.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${n.origin}`;default:return"Input non valido"}}};function H7(){return{localeError:F7()}}const k7=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`: instanceof ${n.expected}${l}`:`: ${a}${l}`}case"invalid_value":return n.values.length===1?`: ${rn(n.values[0])}`:`: ${dt(n.values,"")}`;case"too_big":{const a=n.inclusive?"":"",s=e(n.origin);return s?`: ${n.origin??""}${n.maximum.toString()}${s.unit??""}${a}`:`: ${n.origin??""}${n.maximum.toString()}${a}`}case"too_small":{const a=n.inclusive?"":"",s=e(n.origin);return s?`: ${n.origin}${n.minimum.toString()}${s.unit}${a}`:`: ${n.origin}${n.minimum.toString()}${a}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`: "${a.prefix}"`:a.format==="ends_with"?`: "${a.suffix}"`:a.format==="includes"?`: "${a.includes}"`:a.format==="regex"?`: ${a.pattern}`:`${t[a.format]??n.format}`}case"not_multiple_of":return`: ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""}: ${dt(n.keys,"")}`;case"invalid_key":return`${n.origin}`;case"invalid_union":return"";case"invalid_element":return`${n.origin}`;default:return""}}};function G7(){return{localeError:k7()}}const V7=()=>{const i={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(n){return i[n]??null}const t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${a},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])}`:` :  - ${dt(n.values,"|")}-`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` :  ${n.origin??""} ${s.verb} ${a}${n.maximum.toString()} ${s.unit}`:` :  ${n.origin??""}  ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` :  ${n.origin} ${s.verb} ${a}${n.minimum.toString()} ${s.unit}`:` :  ${n.origin}  ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` :   "${a.prefix}"-`:a.format==="ends_with"?` :   "${a.suffix}"-`:a.format==="includes"?` :   "${a.includes}"-`:a.format==="regex"?` :    ${a.pattern}`:` ${t[a.format]??n.format}`}case"not_multiple_of":return` :   ${n.divisor}- `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`  ${n.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${n.origin}-`;default:return" "}}};function j7(){return{localeError:V7()}}const $7=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`  instanceof ${n.expected}  ${l}`:`  ${a}  ${l}`}case"invalid_value":return n.values.length===1?`  ${rn(n.values[0])}`:`  ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`  ${n.origin??""} ${a} ${n.maximum.toString()} ${s.unit??""}`:`  ${n.origin??""} ${a} ${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`  ${n.origin} ${a} ${n.minimum.toString()} ${s.unit}`:`  ${n.origin} ${a} ${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`  "${a.prefix}"`:a.format==="ends_with"?`  "${a.suffix}"`:a.format==="includes"?`  "${a.includes}"`:a.format==="regex"?`  ${a.pattern}`:` ${t[a.format]??n.format}`}case"not_multiple_of":return`  ${n.divisor}`;case"unrecognized_keys":return` ${dt(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":return"";case"invalid_element":return` ${n.origin}`;default:return""}}};function cP(){return{localeError:$7()}}function X7(){return cP()}const Z7=()=>{const i={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function e(n){return i[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :   instanceof ${n.expected},   ${l}`:` :   ${a},   ${l}`}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])}  `:` : ${dt(n.values," ")}   `;case"too_big":{const a=n.inclusive?"":"",s=a===""?" ":" ",l=e(n.origin),f=l?.unit??"";return l?`${n.origin??""}  : ${n.maximum.toString()}${f} ${a}${s}`:`${n.origin??""}  : ${n.maximum.toString()} ${a}${s}`}case"too_small":{const a=n.inclusive?"":"",s=a===""?" ":" ",l=e(n.origin),f=l?.unit??"";return l?`${n.origin??""}  : ${n.minimum.toString()}${f} ${a}${s}`:`${n.origin??""}  : ${n.minimum.toString()} ${a}${s}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` : "${a.prefix}"()  `:a.format==="ends_with"?` : "${a.suffix}"()  `:a.format==="includes"?` : "${a.includes}"()  `:a.format==="regex"?` :  ${a.pattern}   `:` ${t[a.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}  `;case"unrecognized_keys":return`   : ${dt(n.keys,", ")}`;case"invalid_key":return` : ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${n.origin}`;default:return" "}}};function Y7(){return{localeError:Z7()}}const e_=i=>i.charAt(0).toUpperCase()+i.slice(1);function cU(i){const e=Math.abs(i),t=e%10,r=e%100;return r>=11&&r<=19||t===0?"many":t===1?"one":"few"}const J7=()=>{const i={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function e(n,a,s,l){const f=i[n]??null;return f===null?f:{unit:f.unit[a],verb:f.verb[l][s?"inclusive":"notInclusive"]}}const t={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},r={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Gautas tipas ${l}, o tiktasi - instanceof ${n.expected}`:`Gautas tipas ${l}, o tiktasi - ${a}`}case"invalid_value":return n.values.length===1?`Privalo bti ${rn(n.values[0])}`:`Privalo bti vienas i ${dt(n.values,"|")} pasirinkim`;case"too_big":{const a=r[n.origin]??n.origin,s=e(n.origin,cU(Number(n.maximum)),n.inclusive??!1,"smaller");if(s?.verb)return`${e_(a??n.origin??"reikm")} ${s.verb} ${n.maximum.toString()} ${s.unit??"element"}`;const l=n.inclusive?"ne didesnis kaip":"maesnis kaip";return`${e_(a??n.origin??"reikm")} turi bti ${l} ${n.maximum.toString()} ${s?.unit}`}case"too_small":{const a=r[n.origin]??n.origin,s=e(n.origin,cU(Number(n.minimum)),n.inclusive??!1,"bigger");if(s?.verb)return`${e_(a??n.origin??"reikm")} ${s.verb} ${n.minimum.toString()} ${s.unit??"element"}`;const l=n.inclusive?"ne maesnis kaip":"didesnis kaip";return`${e_(a??n.origin??"reikm")} turi bti ${l} ${n.minimum.toString()} ${s?.unit}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Eilut privalo prasidti "${a.prefix}"`:a.format==="ends_with"?`Eilut privalo pasibaigti "${a.suffix}"`:a.format==="includes"?`Eilut privalo traukti "${a.includes}"`:a.format==="regex"?`Eilut privalo atitikti ${a.pattern}`:`Neteisingas ${t[a.format]??n.format}`}case"not_multiple_of":return`Skaiius privalo bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${dt(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{const a=r[n.origin]??n.origin;return`${e_(a??n.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}};function q7(){return{localeError:J7()}}const W7=()=>{const i={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(n){return i[n]??null}const t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :   instanceof ${n.expected},  ${l}`:` :   ${a},  ${l}`}case"invalid_value":return n.values.length===1?`Invalid input: expected ${rn(n.values[0])}`:` :    ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` :   ${n.origin??""}   ${a}${n.maximum.toString()} ${s.unit??""}`:` :   ${n.origin??""}   ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` :   ${n.origin}   ${a}${n.minimum.toString()} ${s.unit}`:` :   ${n.origin}   ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` :     "${a.prefix}"`:a.format==="ends_with"?` :     "${a.suffix}"`:a.format==="includes"?` :    "${a.includes}"`:a.format==="regex"?` :      ${a.pattern}`:`Invalid ${t[a.format]??n.format}`}case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?" ":" "}: ${dt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function K7(){return{localeError:W7()}}const Q7=()=>{const i={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(n){return i[n]??null}const t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"nombor"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Input tidak sah: dijangka instanceof ${n.expected}, diterima ${l}`:`Input tidak sah: dijangka ${a}, diterima ${l}`}case"invalid_value":return n.values.length===1?`Input tidak sah: dijangka ${rn(n.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Terlalu besar: dijangka ${n.origin??"nilai"} ${s.verb} ${a}${n.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Terlalu kecil: dijangka ${n.origin} ${s.verb} ${a}${n.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${n.origin} adalah ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${t[a.format]??n.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${dt(n.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${n.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${n.origin}`;default:return"Input tidak sah"}}};function ej(){return{localeError:Q7()}}const tj=()=>{const i={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function e(n){return i[n]??null}const t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r={nan:"NaN",number:"getal"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Ongeldige invoer: verwacht instanceof ${n.expected}, ontving ${l}`:`Ongeldige invoer: verwacht ${a}, ontving ${l}`}case"invalid_value":return n.values.length===1?`Ongeldige invoer: verwacht ${rn(n.values[0])}`:`Ongeldige optie: verwacht n van ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin),l=n.origin==="date"?"laat":n.origin==="string"?"lang":"groot";return s?`Te ${l}: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} ${s.unit??"elementen"} ${s.verb}`:`Te ${l}: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} is`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin),l=n.origin==="date"?"vroeg":n.origin==="string"?"kort":"klein";return s?`Te ${l}: verwacht dat ${n.origin} ${a}${n.minimum.toString()} ${s.unit} ${s.verb}`:`Te ${l}: verwacht dat ${n.origin} ${a}${n.minimum.toString()} is`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${t[a.format]??n.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${n.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${n.origin}`;default:return"Ongeldige invoer"}}};function nj(){return{localeError:tj()}}const ij=()=>{const i={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function e(n){return i[n]??null}const t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"tall",array:"liste"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Ugyldig input: forventet instanceof ${n.expected}, fikk ${l}`:`Ugyldig input: forventet ${a}, fikk ${l}`}case"invalid_value":return n.values.length===1?`Ugyldig verdi: forventet ${rn(n.values[0])}`:`Ugyldig valg: forventet en av ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`For stor(t): forventet ${n.origin??"value"} til  ha ${a}${n.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${n.origin??"value"} til  ha ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`For lite(n): forventet ${n.origin} til  ha ${a}${n.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${n.origin} til  ha ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Ugyldig streng: m starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m matche mnsteret ${a.pattern}`:`Ugyldig ${t[a.format]??n.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${dt(n.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${n.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${n.origin}`;default:return"Ugyldig input"}}};function rj(){return{localeError:ij()}}const aj=()=>{const i={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function e(n){return i[n]??null}const t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},r={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Fsit giren: umulan instanceof ${n.expected}, alnan ${l}`:`Fsit giren: umulan ${a}, alnan ${l}`}case"invalid_value":return n.values.length===1?`Fsit giren: umulan ${rn(n.values[0])}`:`Fsit tercih: mteberler ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Fazla byk: ${n.origin??"value"}, ${a}${n.maximum.toString()} ${s.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${n.origin??"value"}, ${a}${n.maximum.toString()} olmalyd.`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Fazla kk: ${n.origin}, ${a}${n.minimum.toString()} ${s.unit} sahip olmalyd.`:`Fazla kk: ${n.origin}, ${a}${n.minimum.toString()} olmalyd.`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Fsit metin: "${a.prefix}" ile balamal.`:a.format==="ends_with"?`Fsit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`Fsit metin: "${a.includes}" ihtiv etmeli.`:a.format==="regex"?`Fsit metin: ${a.pattern} nakna uymal.`:`Fsit ${t[a.format]??n.format}`}case"not_multiple_of":return`Fsit say: ${n.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`${n.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${n.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function sj(){return{localeError:aj()}}const oj=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected} ,  ${l}  `:` :  ${a} ,  ${l}  `}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])} `:` :    ${dt(n.values,"|")}  `;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` : ${n.origin??""}  ${a}${n.maximum.toString()} ${s.unit??""} `:` : ${n.origin??""}  ${a}${n.maximum.toString()} `}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` : ${n.origin}  ${a}${n.minimum.toString()} ${s.unit} `:` : ${n.origin}  ${a}${n.minimum.toString()} `}case"invalid_format":{const a=n;return a.format==="starts_with"?` :   "${a.prefix}"   `:a.format==="ends_with"?` :   "${a.suffix}"    `:a.format==="includes"?` :  "${a.includes}" `:a.format==="regex"?` :   ${a.pattern}   `:`${t[a.format]??n.format}  `}case"not_multiple_of":return` :   ${n.divisor}  `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin} `;default:return" "}}};function lj(){return{localeError:oj()}}const cj=()=>{const i={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function e(n){return i[n]??null}const t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},r={nan:"NaN",number:"liczba",array:"tablica"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Nieprawidowe dane wejciowe: oczekiwano instanceof ${n.expected}, otrzymano ${l}`:`Nieprawidowe dane wejciowe: oczekiwano ${a}, otrzymano ${l}`}case"invalid_value":return n.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${rn(n.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Za dua warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${a}${n.maximum.toString()} ${s.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Za maa warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${a}${n.minimum.toString()} ${s.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${a.prefix}"`:a.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${a.suffix}"`:a.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${a.includes}"`:a.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${a.pattern}`:`Nieprawidow(y/a/e) ${t[a.format]??n.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${n.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${n.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${n.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function uj(){return{localeError:cj()}}const fj=()=>{const i={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(n){return i[n]??null}const t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r={nan:"NaN",number:"nmero",null:"nulo"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Tipo invlido: esperado instanceof ${n.expected}, recebido ${l}`:`Tipo invlido: esperado ${a}, recebido ${l}`}case"invalid_value":return n.values.length===1?`Entrada invlida: esperado ${rn(n.values[0])}`:`Opo invlida: esperada uma das ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Muito grande: esperado que ${n.origin??"valor"} tivesse ${a}${n.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${n.origin??"valor"} fosse ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Muito pequeno: esperado que ${n.origin} tivesse ${a}${n.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${n.origin} fosse ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Texto invlido: deve comear com "${a.prefix}"`:a.format==="ends_with"?`Texto invlido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto invlido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto invlido: deve corresponder ao padro ${a.pattern}`:`${t[a.format]??n.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${n.divisor}`;case"unrecognized_keys":return`Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`Chave invlida em ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${n.origin}`;default:return"Campo invlido"}}};function dj(){return{localeError:fj()}}function uU(i,e,t,r){const n=Math.abs(i),a=n%10,s=n%100;return s>=11&&s<=19?r:a===1?e:a>=2&&a<=4?t:r}const hj=()=>{const i={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${a},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])}`:` :    ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);if(s){const l=Number(n.maximum),f=uU(l,s.unit.one,s.unit.few,s.unit.many);return`  : ,  ${n.origin??""}   ${a}${n.maximum.toString()} ${f}`}return`  : ,  ${n.origin??""}  ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);if(s){const l=Number(n.minimum),f=uU(l,s.unit.one,s.unit.few,s.unit.many);return`  : ,  ${n.origin}   ${a}${n.minimum.toString()} ${f}`}return`  : ,  ${n.origin}  ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` :    "${a.prefix}"`:a.format==="ends_with"?` :    "${a.suffix}"`:a.format==="includes"?` :   "${a.includes}"`:a.format==="regex"?` :    ${a.pattern}`:` ${t[a.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return"  "}}};function pj(){return{localeError:hj()}}const mj=()=>{const i={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(n){return i[n]??null}const t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},r={nan:"NaN",number:"tevilo",array:"tabela"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Neveljaven vnos: priakovano instanceof ${n.expected}, prejeto ${l}`:`Neveljaven vnos: priakovano ${a}, prejeto ${l}`}case"invalid_value":return n.values.length===1?`Neveljaven vnos: priakovano ${rn(n.values[0])}`:`Neveljavna monost: priakovano eno izmed ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Preveliko: priakovano, da bo ${n.origin??"vrednost"} imelo ${a}${n.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: priakovano, da bo ${n.origin??"vrednost"} ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Premajhno: priakovano, da bo ${n.origin} imelo ${a}${n.minimum.toString()} ${s.unit}`:`Premajhno: priakovano, da bo ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se konati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${t[a.format]??n.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${n.divisor}`;case"unrecognized_keys":return`Neprepoznan${n.keys.length>1?"i kljui":" klju"}: ${dt(n.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${n.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${n.origin}`;default:return"Neveljaven vnos"}}};function gj(){return{localeError:mj()}}const vj=()=>{const i={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function e(n){return i[n]??null}const t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r={nan:"NaN",number:"antal",array:"lista"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Ogiltig inmatning: frvntat instanceof ${n.expected}, fick ${l}`:`Ogiltig inmatning: frvntat ${a}, fick ${l}`}case"invalid_value":return n.values.length===1?`Ogiltig inmatning: frvntat ${rn(n.values[0])}`:`Ogiltigt val: frvntade en av ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Fr stor(t): frvntade ${n.origin??"vrdet"} att ha ${a}${n.maximum.toString()} ${s.unit??"element"}`:`Fr stor(t): frvntat ${n.origin??"vrdet"} att ha ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Fr lite(t): frvntade ${n.origin??"vrdet"} att ha ${a}${n.minimum.toString()} ${s.unit}`:`Fr lite(t): frvntade ${n.origin??"vrdet"} att ha ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Ogiltig strng: mste brja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig strng: mste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig strng: mste innehlla "${a.includes}"`:a.format==="regex"?`Ogiltig strng: mste matcha mnstret "${a.pattern}"`:`Ogiltig(t) ${t[a.format]??n.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${dt(n.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${n.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${n.origin??"vrdet"}`;default:return"Ogiltig input"}}};function _j(){return{localeError:vj()}}const yj=()=>{const i={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(n){return i[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"",array:"",null:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${a},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${rn(n.values[0])}`:` :  ${dt(n.values,"|")}  `;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` :  ${n.origin??""} ${a}${n.maximum.toString()} ${s.unit??""}   `:` :  ${n.origin??""} ${a}${n.maximum.toString()}   `}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` :  ${n.origin} ${a}${n.minimum.toString()} ${s.unit}   `:` :  ${n.origin} ${a}${n.minimum.toString()}   `}case"invalid_format":{const a=n;return a.format==="starts_with"?` : "${a.prefix}"   `:a.format==="ends_with"?` : "${a.suffix}"   `:a.format==="includes"?` : "${a.includes}"   `:a.format==="regex"?` : ${a.pattern}   `:` ${t[a.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`  ${n.keys.length>1?"":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${n.origin}   `;default:return" "}}};function xj(){return{localeError:yj()}}const bj=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},r={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`:  instanceof ${n.expected}  ${l}`:`:  ${a}  ${l}`}case"invalid_value":return n.values.length===1?`:  ${rn(n.values[0])}`:`:  ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"":"",s=e(n.origin);return s?`: ${n.origin??""} ${a} ${n.maximum.toString()} ${s.unit??""}`:`: ${n.origin??""} ${a} ${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?"":"",s=e(n.origin);return s?`: ${n.origin} ${a} ${n.minimum.toString()} ${s.unit}`:`: ${n.origin} ${a} ${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`:  "${a.prefix}"`:a.format==="ends_with"?`:  "${a.suffix}"`:a.format==="includes"?`:  "${a.includes}" `:a.format==="regex"?`:  ${a.pattern}`:`: ${t[a.format]??n.format}`}case"not_multiple_of":return`:  ${n.divisor} `;case"unrecognized_keys":return`: ${dt(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${n.origin}`;default:return""}}};function Sj(){return{localeError:bj()}}const Aj=()=>{const i={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function e(n){return i[n]??null}const t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Geersiz deer: beklenen instanceof ${n.expected}, alnan ${l}`:`Geersiz deer: beklenen ${a}, alnan ${l}`}case"invalid_value":return n.values.length===1?`Geersiz deer: beklenen ${rn(n.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`ok byk: beklenen ${n.origin??"deer"} ${a}${n.maximum.toString()} ${s.unit??"e"}`:`ok byk: beklenen ${n.origin??"deer"} ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`ok kk: beklenen ${n.origin} ${a}${n.minimum.toString()} ${s.unit}`:`ok kk: beklenen ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Geersiz metin: "${a.prefix}" ile balamal`:a.format==="ends_with"?`Geersiz metin: "${a.suffix}" ile bitmeli`:a.format==="includes"?`Geersiz metin: "${a.includes}" iermeli`:a.format==="regex"?`Geersiz metin: ${a.pattern} desenine uymal`:`Geersiz ${t[a.format]??n.format}`}case"not_multiple_of":return`Geersiz say: ${n.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`${n.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function Ej(){return{localeError:Aj()}}const Mj=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},r={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`  :  instanceof ${n.expected},  ${l}`:`  :  ${a},  ${l}`}case"invalid_value":return n.values.length===1?`  :  ${rn(n.values[0])}`:` :    ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` : ,  ${n.origin??""} ${s.verb} ${a}${n.maximum.toString()} ${s.unit??""}`:` : ,  ${n.origin??""}  ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` : ,  ${n.origin} ${s.verb} ${a}${n.minimum.toString()} ${s.unit}`:` : ,  ${n.origin}  ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` :    "${a.prefix}"`:a.format==="ends_with"?` :    "${a.suffix}"`:a.format==="includes"?` :   "${a.includes}"`:a.format==="regex"?` :    ${a.pattern}`:` ${t[a.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return"  "}}};function uP(){return{localeError:Mj()}}function Tj(){return uP()}const Cj=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},r={nan:"NaN",number:"",array:"",null:""};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`  : instanceof ${n.expected}   ${l}  `:`  : ${a}   ${l}  `}case"invalid_value":return n.values.length===1?`  : ${rn(n.values[0])}  `:` : ${dt(n.values,"|")}     `;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` : ${n.origin??""}  ${a}${n.maximum.toString()} ${s.unit??""}   `:` : ${n.origin??""}  ${a}${n.maximum.toString()}   `}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` : ${n.origin}  ${a}${n.minimum.toString()} ${s.unit}   `:` : ${n.origin}  ${a}${n.minimum.toString()}   `}case"invalid_format":{const a=n;return a.format==="starts_with"?` : "${a.prefix}"    `:a.format==="ends_with"?` : "${a.suffix}"    `:a.format==="includes"?` : "${a.includes}"   `:a.format==="regex"?` :  ${a.pattern}    `:` ${t[a.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`   ${n.keys.length>1?"":""}: ${dt(n.keys," ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${n.origin}   `;default:return"  "}}};function wj(){return{localeError:Cj()}}const Rj=()=>{const i={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}};function e(n){return i[n]??null}const t={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},r={nan:"NaN",number:"raqam",array:"massiv"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`Notogri kirish: kutilgan instanceof ${n.expected}, qabul qilingan ${l}`:`Notogri kirish: kutilgan ${a}, qabul qilingan ${l}`}case"invalid_value":return n.values.length===1?`Notogri kirish: kutilgan ${rn(n.values[0])}`:`Notogri variant: quyidagilardan biri kutilgan ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Juda katta: kutilgan ${n.origin??"qiymat"} ${a}${n.maximum.toString()} ${s.unit} ${s.verb}`:`Juda katta: kutilgan ${n.origin??"qiymat"} ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Juda kichik: kutilgan ${n.origin} ${a}${n.minimum.toString()} ${s.unit} ${s.verb}`:`Juda kichik: kutilgan ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Notogri satr: "${a.prefix}" bilan boshlanishi kerak`:a.format==="ends_with"?`Notogri satr: "${a.suffix}" bilan tugashi kerak`:a.format==="includes"?`Notogri satr: "${a.includes}" ni oz ichiga olishi kerak`:a.format==="regex"?`Notogri satr: ${a.pattern} shabloniga mos kelishi kerak`:`Notogri ${t[a.format]??n.format}`}case"not_multiple_of":return`Notogri raqam: ${n.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${n.keys.length>1?"lar":""}: ${dt(n.keys,", ")}`;case"invalid_key":return`${n.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${n.origin} da notogri qiymat`;default:return"Notogri kirish"}}};function Dj(){return{localeError:Rj()}}const Bj=()=>{const i={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function e(n){return i[n]??null}const t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},r={nan:"NaN",number:"s",array:"mng"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`u vo khng hp l: mong i instanceof ${n.expected}, nhn c ${l}`:`u vo khng hp l: mong i ${a}, nhn c ${l}`}case"invalid_value":return n.values.length===1?`u vo khng hp l: mong i ${rn(n.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`Qu ln: mong i ${n.origin??"gi tr"} ${s.verb} ${a}${n.maximum.toString()} ${s.unit??"phn t"}`:`Qu ln: mong i ${n.origin??"gi tr"} ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Qu nh: mong i ${n.origin} ${s.verb} ${a}${n.minimum.toString()} ${s.unit}`:`Qu nh: mong i ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`Chui khng hp l: phi bt u bng "${a.prefix}"`:a.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${a.suffix}"`:a.format==="includes"?`Chui khng hp l: phi bao gm "${a.includes}"`:a.format==="regex"?`Chui khng hp l: phi khp vi mu ${a.pattern}`:`${t[a.format]??n.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${n.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${dt(n.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${n.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${n.origin}`;default:return"u vo khng hp l"}}};function Uj(){return{localeError:Bj()}}const Oj=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r={nan:"NaN",number:"",array:"",null:"(null)"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` instanceof ${n.expected} ${l}`:` ${a} ${l}`}case"invalid_value":return n.values.length===1?` ${rn(n.values[0])}`:` ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` ${n.origin??""} ${a}${n.maximum.toString()} ${s.unit??""}`:` ${n.origin??""} ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` ${n.origin} ${a}${n.minimum.toString()} ${s.unit}`:` ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` "${a.prefix}" `:a.format==="ends_with"?` "${a.suffix}" `:a.format==="includes"?` "${a.includes}"`:a.format==="regex"?` ${a.pattern}`:`${t[a.format]??n.format}`}case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`(key): ${dt(n.keys,", ")}`;case"invalid_key":return`${n.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${n.origin} (value)`;default:return""}}};function Nj(){return{localeError:Oj()}}const Ij=()=>{const i={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(n){return i[n]??null}const t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?` instanceof ${n.expected} ${l}`:` ${a} ${l}`}case"invalid_value":return n.values.length===1?` ${rn(n.values[0])}`:` ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?` ${n.origin??""}  ${a}${n.maximum.toString()} ${s.unit??""}`:` ${n.origin??""}  ${a}${n.maximum.toString()}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?` ${n.origin}  ${a}${n.minimum.toString()} ${s.unit}`:` ${n.origin}  ${a}${n.minimum.toString()}`}case"invalid_format":{const a=n;return a.format==="starts_with"?` "${a.prefix}" `:a.format==="ends_with"?` "${a.suffix}" `:a.format==="includes"?` "${a.includes}"`:a.format==="regex"?` ${a.pattern}`:` ${t[a.format]??n.format}`}case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""}${dt(n.keys,"")}`;case"invalid_key":return`${n.origin} `;case"invalid_union":return"";case"invalid_element":return`${n.origin} `;default:return""}}};function zj(){return{localeError:Ij()}}const Lj=()=>{const i={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function e(n){return i[n]??null}const t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},r={nan:"NaN",number:"nmb",array:"akop"};return n=>{switch(n.code){case"invalid_type":{const a=r[n.expected]??n.expected,s=sn(n.input),l=r[s]??s;return/^[A-Z]/.test(n.expected)?`bwl ae: a n lti fi instanceof ${n.expected}, m a r ${l}`:`bwl ae: a n lti fi ${a}, m a r ${l}`}case"invalid_value":return n.values.length===1?`bwl ae: a n lti fi ${rn(n.values[0])}`:`yn ae: yan kan lra ${dt(n.values,"|")}`;case"too_big":{const a=n.inclusive?"<=":"<",s=e(n.origin);return s?`T p j: a n lti j p ${n.origin??"iye"} ${s.verb} ${a}${n.maximum} ${s.unit}`:`T p j: a n lti j ${a}${n.maximum}`}case"too_small":{const a=n.inclusive?">=":">",s=e(n.origin);return s?`Kr ju: a n lti j p ${n.origin} ${s.verb} ${a}${n.minimum} ${s.unit}`:`Kr ju: a n lti j ${a}${n.minimum}`}case"invalid_format":{const a=n;return a.format==="starts_with"?`r ae: gbd br pl "${a.prefix}"`:a.format==="ends_with"?`r ae: gbd par pl "${a.suffix}"`:a.format==="includes"?`r ae: gbd n "${a.includes}"`:a.format==="regex"?`r ae: gbd b pr mu ${a.pattern}`:`Ae: ${t[a.format]??n.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${n.divisor}`;case"unrecognized_keys":return`Btn m: ${dt(n.keys,", ")}`;case"invalid_key":return`Btn ae nn ${n.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${n.origin}`;default:return"bwl ae"}}};function Pj(){return{localeError:Lj()}}const fP=Object.freeze(Object.defineProperty({__proto__:null,ar:t7,az:i7,be:a7,bg:o7,ca:c7,cs:f7,da:h7,de:m7,en:lP,eo:_7,es:x7,fa:S7,fi:E7,fr:T7,frCA:w7,he:D7,hu:U7,hy:N7,id:z7,is:P7,it:H7,ja:G7,ka:j7,kh:X7,km:cP,ko:Y7,lt:q7,mk:K7,ms:ej,nl:nj,no:rj,ota:sj,pl:uj,ps:lj,pt:dj,ru:pj,sl:gj,sv:_j,ta:xj,th:Sj,tr:Ej,ua:Tj,uk:uP,ur:wj,uz:Dj,vi:Uj,yo:Pj,zhCN:Nj,zhTW:zj},Symbol.toStringTag,{value:"Module"}));var fU;const dP=Symbol("ZodOutput"),hP=Symbol("ZodInput");class pP{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const n={...r,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Tw(){return new pP}(fU=globalThis).__zod_globalRegistry??(fU.__zod_globalRegistry=Tw());const dl=globalThis.__zod_globalRegistry;function mP(i,e){return new i({type:"string",...it(e)})}function gP(i,e){return new i({type:"string",coerce:!0,...it(e)})}function Cw(i,e){return new i({type:"string",format:"email",check:"string_format",abort:!1,...it(e)})}function wS(i,e){return new i({type:"string",format:"guid",check:"string_format",abort:!1,...it(e)})}function ww(i,e){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,...it(e)})}function Rw(i,e){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...it(e)})}function Dw(i,e){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...it(e)})}function Bw(i,e){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...it(e)})}function BA(i,e){return new i({type:"string",format:"url",check:"string_format",abort:!1,...it(e)})}function Uw(i,e){return new i({type:"string",format:"emoji",check:"string_format",abort:!1,...it(e)})}function Ow(i,e){return new i({type:"string",format:"nanoid",check:"string_format",abort:!1,...it(e)})}function Nw(i,e){return new i({type:"string",format:"cuid",check:"string_format",abort:!1,...it(e)})}function Iw(i,e){return new i({type:"string",format:"cuid2",check:"string_format",abort:!1,...it(e)})}function zw(i,e){return new i({type:"string",format:"ulid",check:"string_format",abort:!1,...it(e)})}function Lw(i,e){return new i({type:"string",format:"xid",check:"string_format",abort:!1,...it(e)})}function Pw(i,e){return new i({type:"string",format:"ksuid",check:"string_format",abort:!1,...it(e)})}function Fw(i,e){return new i({type:"string",format:"ipv4",check:"string_format",abort:!1,...it(e)})}function Hw(i,e){return new i({type:"string",format:"ipv6",check:"string_format",abort:!1,...it(e)})}function vP(i,e){return new i({type:"string",format:"mac",check:"string_format",abort:!1,...it(e)})}function kw(i,e){return new i({type:"string",format:"cidrv4",check:"string_format",abort:!1,...it(e)})}function Gw(i,e){return new i({type:"string",format:"cidrv6",check:"string_format",abort:!1,...it(e)})}function Vw(i,e){return new i({type:"string",format:"base64",check:"string_format",abort:!1,...it(e)})}function jw(i,e){return new i({type:"string",format:"base64url",check:"string_format",abort:!1,...it(e)})}function $w(i,e){return new i({type:"string",format:"e164",check:"string_format",abort:!1,...it(e)})}function Xw(i,e){return new i({type:"string",format:"jwt",check:"string_format",abort:!1,...it(e)})}const _P={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function yP(i,e){return new i({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...it(e)})}function xP(i,e){return new i({type:"string",format:"date",check:"string_format",...it(e)})}function bP(i,e){return new i({type:"string",format:"time",check:"string_format",precision:null,...it(e)})}function SP(i,e){return new i({type:"string",format:"duration",check:"string_format",...it(e)})}function AP(i,e){return new i({type:"number",checks:[],...it(e)})}function EP(i,e){return new i({type:"number",coerce:!0,checks:[],...it(e)})}function MP(i,e){return new i({type:"number",check:"number_format",abort:!1,format:"safeint",...it(e)})}function TP(i,e){return new i({type:"number",check:"number_format",abort:!1,format:"float32",...it(e)})}function CP(i,e){return new i({type:"number",check:"number_format",abort:!1,format:"float64",...it(e)})}function wP(i,e){return new i({type:"number",check:"number_format",abort:!1,format:"int32",...it(e)})}function RP(i,e){return new i({type:"number",check:"number_format",abort:!1,format:"uint32",...it(e)})}function DP(i,e){return new i({type:"boolean",...it(e)})}function BP(i,e){return new i({type:"boolean",coerce:!0,...it(e)})}function UP(i,e){return new i({type:"bigint",...it(e)})}function OP(i,e){return new i({type:"bigint",coerce:!0,...it(e)})}function NP(i,e){return new i({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...it(e)})}function IP(i,e){return new i({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...it(e)})}function zP(i,e){return new i({type:"symbol",...it(e)})}function LP(i,e){return new i({type:"undefined",...it(e)})}function PP(i,e){return new i({type:"null",...it(e)})}function FP(i){return new i({type:"any"})}function HP(i){return new i({type:"unknown"})}function kP(i,e){return new i({type:"never",...it(e)})}function GP(i,e){return new i({type:"void",...it(e)})}function VP(i,e){return new i({type:"date",...it(e)})}function jP(i,e){return new i({type:"date",coerce:!0,...it(e)})}function $P(i,e){return new i({type:"nan",...it(e)})}function yd(i,e){return new vw({check:"less_than",...it(e),value:i,inclusive:!1})}function ml(i,e){return new vw({check:"less_than",...it(e),value:i,inclusive:!0})}function xd(i,e){return new _w({check:"greater_than",...it(e),value:i,inclusive:!1})}function qs(i,e){return new _w({check:"greater_than",...it(e),value:i,inclusive:!0})}function Zw(i){return xd(0,i)}function Yw(i){return yd(0,i)}function Jw(i){return ml(0,i)}function qw(i){return qs(0,i)}function Yg(i,e){return new Rz({check:"multiple_of",...it(e),value:i})}function mv(i,e){return new Uz({check:"max_size",...it(e),maximum:i})}function bd(i,e){return new Oz({check:"min_size",...it(e),minimum:i})}function ky(i,e){return new Nz({check:"size_equals",...it(e),size:i})}function Gy(i,e){return new Iz({check:"max_length",...it(e),maximum:i})}function _p(i,e){return new zz({check:"min_length",...it(e),minimum:i})}function Vy(i,e){return new Lz({check:"length_equals",...it(e),length:i})}function UA(i,e){return new Pz({check:"string_format",format:"regex",...it(e),pattern:i})}function OA(i){return new Fz({check:"string_format",format:"lowercase",...it(i)})}function NA(i){return new Hz({check:"string_format",format:"uppercase",...it(i)})}function IA(i,e){return new kz({check:"string_format",format:"includes",...it(e),includes:i})}function zA(i,e){return new Gz({check:"string_format",format:"starts_with",...it(e),prefix:i})}function LA(i,e){return new Vz({check:"string_format",format:"ends_with",...it(e),suffix:i})}function Ww(i,e,t){return new jz({check:"property",property:i,schema:e,...it(t)})}function PA(i,e){return new $z({check:"mime_type",mime:i,...it(e)})}function nf(i){return new Xz({check:"overwrite",tx:i})}function FA(i){return nf(e=>e.normalize(i))}function HA(){return nf(i=>i.trim())}function kA(){return nf(i=>i.toLowerCase())}function GA(){return nf(i=>i.toUpperCase())}function VA(){return nf(i=>TI(i))}function XP(i,e,t){return new i({type:"array",element:e,...it(t)})}function Fj(i,e,t){return new i({type:"union",options:e,...it(t)})}function Hj(i,e,t){return new i({type:"union",options:e,inclusive:!1,...it(t)})}function kj(i,e,t,r){return new i({type:"union",options:t,discriminator:e,...it(r)})}function Gj(i,e,t){return new i({type:"intersection",left:e,right:t})}function Vj(i,e,t,r){const n=t instanceof pn,a=n?r:t,s=n?t:null;return new i({type:"tuple",items:e,rest:s,...it(a)})}function jj(i,e,t,r){return new i({type:"record",keyType:e,valueType:t,...it(r)})}function $j(i,e,t,r){return new i({type:"map",keyType:e,valueType:t,...it(r)})}function Xj(i,e,t){return new i({type:"set",valueType:e,...it(t)})}function Zj(i,e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new i({type:"enum",entries:r,...it(t)})}function Yj(i,e,t){return new i({type:"enum",entries:e,...it(t)})}function Jj(i,e,t){return new i({type:"literal",values:Array.isArray(e)?e:[e],...it(t)})}function ZP(i,e){return new i({type:"file",...it(e)})}function qj(i,e){return new i({type:"transform",transform:e})}function Wj(i,e){return new i({type:"optional",innerType:e})}function Kj(i,e){return new i({type:"nullable",innerType:e})}function Qj(i,e,t){return new i({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():TA(t)}})}function e$(i,e,t){return new i({type:"nonoptional",innerType:e,...it(t)})}function t$(i,e){return new i({type:"success",innerType:e})}function n$(i,e,t){return new i({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}function i$(i,e,t){return new i({type:"pipe",in:e,out:t})}function r$(i,e){return new i({type:"readonly",innerType:e})}function a$(i,e,t){return new i({type:"template_literal",parts:e,...it(t)})}function s$(i,e){return new i({type:"lazy",getter:e})}function o$(i,e){return new i({type:"promise",innerType:e})}function YP(i,e,t){const r=it(t);return r.abort??(r.abort=!0),new i({type:"custom",check:"custom",fn:e,...r})}function JP(i,e,t){return new i({type:"custom",check:"custom",fn:e,...it(t)})}function qP(i){const e=WP(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(Xg(r,t.value,e._zod.def));else{const n=r;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=t.value),n.inst??(n.inst=e),n.continue??(n.continue=!e._zod.def.abort),t.issues.push(Xg(n))}},i(t.value,t)));return e}function WP(i,e){const t=new Ki({check:"custom",...it(e)});return t._zod.check=i,t}function KP(i){const e=new Ki({check:"describe"});return e._zod.onattach=[t=>{const r=dl.get(t)??{};dl.add(t,{...r,description:i})}],e._zod.check=()=>{},e}function QP(i){const e=new Ki({check:"meta"});return e._zod.onattach=[t=>{const r=dl.get(t)??{};dl.add(t,{...r,...i})}],e._zod.check=()=>{},e}function e6(i,e){const t=it(e);let r=t.truthy??["true","1","yes","on","y","enabled"],n=t.falsy??["false","0","no","off","n","disabled"];t.case!=="sensitive"&&(r=r.map(x=>typeof x=="string"?x.toLowerCase():x),n=n.map(x=>typeof x=="string"?x.toLowerCase():x));const a=new Set(r),s=new Set(n),l=i.Codec??Mw,f=i.Boolean??bw,d=i.String??Hy,m=new d({type:"string",error:t.error}),g=new f({type:"boolean",error:t.error}),_=new l({type:"pipe",in:m,out:g,transform:((x,b)=>{let M=x;return t.case!=="sensitive"&&(M=M.toLowerCase()),a.has(M)?!0:s.has(M)?!1:(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...s],input:b.value,inst:_,continue:!1}),{})}),reverseTransform:((x,b)=>x===!0?r[0]||"true":n[0]||"false"),error:t.error});return _}function jy(i,e,t,r={}){const n=it(r),a={...it(r),check:"string_format",type:"string",format:e,fn:typeof t=="function"?t:l=>t.test(l),...n};return t instanceof RegExp&&(a.pattern=t),new i(a)}function Jg(i){let e=i?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:i.processors??{},metadataRegistry:i?.metadata??dl,target:e,unrepresentable:i?.unrepresentable??"throw",override:i?.override??(()=>{}),io:i?.io??"output",counter:0,seen:new Map,cycles:i?.cycles??"ref",reused:i?.reused??"inline",external:i?.external??void 0}}function Ci(i,e,t={path:[],schemaPath:[]}){var r;const n=i._zod.def,a=e.seen.get(i);if(a)return a.count++,t.schemaPath.includes(i)&&(a.cycle=t.path),a.schema;const s={schema:{},count:1,cycle:void 0,path:t.path};e.seen.set(i,s);const l=i._zod.toJSONSchema?.();if(l)s.schema=l;else{const m={...t,schemaPath:[...t.schemaPath,i],path:t.path};if(i._zod.processJSONSchema)i._zod.processJSONSchema(e,s.schema,m);else{const _=s.schema,x=e.processors[n.type];if(!x)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${n.type}`);x(i,e,_,m)}const g=i._zod.parent;g&&(s.ref||(s.ref=g),Ci(g,e,m),e.seen.get(g).isParent=!0)}const f=e.metadataRegistry.get(i);return f&&Object.assign(s.schema,f),e.io==="input"&&Ms(i)&&(delete s.schema.examples,delete s.schema.default),e.io==="input"&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,e.seen.get(i).schema}function qg(i,e){const t=i.seen.get(e);if(!t)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const s of i.seen.entries()){const l=i.metadataRegistry.get(s[0])?.id;if(l){const f=r.get(l);if(f&&f!==s[0])throw new Error(`Duplicate schema id "${l}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(l,s[0])}}const n=s=>{const l=i.target==="draft-2020-12"?"$defs":"definitions";if(i.external){const g=i.external.registry.get(s[0])?.id,_=i.external.uri??(b=>b);if(g)return{ref:_(g)};const x=s[1].defId??s[1].schema.id??`schema${i.counter++}`;return s[1].defId=x,{defId:x,ref:`${_("__shared")}#/${l}/${x}`}}if(s[1]===t)return{ref:"#"};const d=`#/${l}/`,m=s[1].schema.id??`__schema${i.counter++}`;return{defId:m,ref:d+m}},a=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:f,defId:d}=n(s);l.def={...l.schema},d&&(l.defId=d);const m=l.schema;for(const g in m)delete m[g];m.$ref=f};if(i.cycles==="throw")for(const s of i.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of i.seen.entries()){const l=s[1];if(e===s[0]){a(s);continue}if(i.external){const d=i.external.registry.get(s[0])?.id;if(e!==s[0]&&d){a(s);continue}}if(i.metadataRegistry.get(s[0])?.id){a(s);continue}if(l.cycle){a(s);continue}if(l.count>1&&i.reused==="ref"){a(s);continue}}}function Wg(i,e){const t=i.seen.get(e);if(!t)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=s=>{const l=i.seen.get(s);if(l.ref===null)return;const f=l.def??l.schema,d={...f},m=l.ref;if(l.ref=null,m){r(m);const _=i.seen.get(m),x=_.schema;if(x.$ref&&(i.target==="draft-07"||i.target==="draft-04"||i.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(x)):Object.assign(f,x),Object.assign(f,d),s._zod.parent===m)for(const M in f)M==="$ref"||M==="allOf"||M in d||delete f[M];if(x.$ref)for(const M in f)M==="$ref"||M==="allOf"||M in _.def&&JSON.stringify(f[M])===JSON.stringify(_.def[M])&&delete f[M]}const g=s._zod.parent;if(g&&g!==m){r(g);const _=i.seen.get(g);if(_?.schema.$ref&&(f.$ref=_.schema.$ref,_.def))for(const x in f)x==="$ref"||x==="allOf"||x in _.def&&JSON.stringify(f[x])===JSON.stringify(_.def[x])&&delete f[x]}i.override({zodSchema:s,jsonSchema:f,path:l.path??[]})};for(const s of[...i.seen.entries()].reverse())r(s[0]);const n={};if(i.target==="draft-2020-12"?n.$schema="https://json-schema.org/draft/2020-12/schema":i.target==="draft-07"?n.$schema="http://json-schema.org/draft-07/schema#":i.target==="draft-04"?n.$schema="http://json-schema.org/draft-04/schema#":i.target,i.external?.uri){const s=i.external.registry.get(e)?.id;if(!s)throw new Error("Schema is missing an `id` property");n.$id=i.external.uri(s)}Object.assign(n,t.def??t.schema);const a=i.external?.defs??{};for(const s of i.seen.entries()){const l=s[1];l.def&&l.defId&&(a[l.defId]=l.def)}i.external||Object.keys(a).length>0&&(i.target==="draft-2020-12"?n.$defs=a:n.definitions=a);try{const s=JSON.parse(JSON.stringify(n));return Object.defineProperty(s,"~standard",{value:{...e["~standard"],jsonSchema:{input:cy(e,"input",i.processors),output:cy(e,"output",i.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function Ms(i,e){const t=e??{seen:new Set};if(t.seen.has(i))return!1;t.seen.add(i);const r=i._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Ms(r.element,t);if(r.type==="set")return Ms(r.valueType,t);if(r.type==="lazy")return Ms(r.getter(),t);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Ms(r.innerType,t);if(r.type==="intersection")return Ms(r.left,t)||Ms(r.right,t);if(r.type==="record"||r.type==="map")return Ms(r.keyType,t)||Ms(r.valueType,t);if(r.type==="pipe")return Ms(r.in,t)||Ms(r.out,t);if(r.type==="object"){for(const n in r.shape)if(Ms(r.shape[n],t))return!0;return!1}if(r.type==="union"){for(const n of r.options)if(Ms(n,t))return!0;return!1}if(r.type==="tuple"){for(const n of r.items)if(Ms(n,t))return!0;return!!(r.rest&&Ms(r.rest,t))}return!1}const t6=(i,e={})=>t=>{const r=Jg({...t,processors:e});return Ci(i,r),qg(r,i),Wg(r,i)},cy=(i,e,t={})=>r=>{const{libraryOptions:n,target:a}=r??{},s=Jg({...n??{},target:a,io:e,processors:t});return Ci(i,s),qg(s,i),Wg(s,i)},l$={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},n6=(i,e,t,r)=>{const n=t;n.type="string";const{minimum:a,maximum:s,format:l,patterns:f,contentEncoding:d}=i._zod.bag;if(typeof a=="number"&&(n.minLength=a),typeof s=="number"&&(n.maxLength=s),l&&(n.format=l$[l]??l,n.format===""&&delete n.format,l==="time"&&delete n.format),d&&(n.contentEncoding=d),f&&f.size>0){const m=[...f];m.length===1?n.pattern=m[0].source:m.length>1&&(n.allOf=[...m.map(g=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},i6=(i,e,t,r)=>{const n=t,{minimum:a,maximum:s,format:l,multipleOf:f,exclusiveMaximum:d,exclusiveMinimum:m}=i._zod.bag;typeof l=="string"&&l.includes("int")?n.type="integer":n.type="number",typeof m=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(n.minimum=m,n.exclusiveMinimum=!0):n.exclusiveMinimum=m),typeof a=="number"&&(n.minimum=a,typeof m=="number"&&e.target!=="draft-04"&&(m>=a?delete n.minimum:delete n.exclusiveMinimum)),typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(n.maximum=d,n.exclusiveMaximum=!0):n.exclusiveMaximum=d),typeof s=="number"&&(n.maximum=s,typeof d=="number"&&e.target!=="draft-04"&&(d<=s?delete n.maximum:delete n.exclusiveMaximum)),typeof f=="number"&&(n.multipleOf=f)},r6=(i,e,t,r)=>{t.type="boolean"},a6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},s6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},o6=(i,e,t,r)=>{e.target==="openapi-3.0"?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null"},l6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},c6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},u6=(i,e,t,r)=>{t.not={}},f6=(i,e,t,r)=>{},d6=(i,e,t,r)=>{},h6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},p6=(i,e,t,r)=>{const n=i._zod.def,a=nw(n.entries);a.every(s=>typeof s=="number")&&(t.type="number"),a.every(s=>typeof s=="string")&&(t.type="string"),t.enum=a},m6=(i,e,t,r)=>{const n=i._zod.def,a=[];for(const s of n.values)if(s===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(s))}else a.push(s);if(a.length!==0)if(a.length===1){const s=a[0];t.type=s===null?"null":typeof s,e.target==="draft-04"||e.target==="openapi-3.0"?t.enum=[s]:t.const=s}else a.every(s=>typeof s=="number")&&(t.type="number"),a.every(s=>typeof s=="string")&&(t.type="string"),a.every(s=>typeof s=="boolean")&&(t.type="boolean"),a.every(s=>s===null)&&(t.type="null"),t.enum=a},g6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},v6=(i,e,t,r)=>{const n=t,a=i._zod.pattern;if(!a)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=a.source},_6=(i,e,t,r)=>{const n=t,a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:s,maximum:l,mime:f}=i._zod.bag;s!==void 0&&(a.minLength=s),l!==void 0&&(a.maxLength=l),f?f.length===1?(a.contentMediaType=f[0],Object.assign(n,a)):(Object.assign(n,a),n.anyOf=f.map(d=>({contentMediaType:d}))):Object.assign(n,a)},y6=(i,e,t,r)=>{t.type="boolean"},x6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},b6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},S6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},A6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},E6=(i,e,t,r)=>{if(e.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},M6=(i,e,t,r)=>{const n=t,a=i._zod.def,{minimum:s,maximum:l}=i._zod.bag;typeof s=="number"&&(n.minItems=s),typeof l=="number"&&(n.maxItems=l),n.type="array",n.items=Ci(a.element,e,{...r,path:[...r.path,"items"]})},T6=(i,e,t,r)=>{const n=t,a=i._zod.def;n.type="object",n.properties={};const s=a.shape;for(const d in s)n.properties[d]=Ci(s[d],e,{...r,path:[...r.path,"properties",d]});const l=new Set(Object.keys(s)),f=new Set([...l].filter(d=>{const m=a.shape[d]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));f.size>0&&(n.required=Array.from(f)),a.catchall?._zod.def.type==="never"?n.additionalProperties=!1:a.catchall?a.catchall&&(n.additionalProperties=Ci(a.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(n.additionalProperties=!1)},Kw=(i,e,t,r)=>{const n=i._zod.def,a=n.inclusive===!1,s=n.options.map((l,f)=>Ci(l,e,{...r,path:[...r.path,a?"oneOf":"anyOf",f]}));a?t.oneOf=s:t.anyOf=s},C6=(i,e,t,r)=>{const n=i._zod.def,a=Ci(n.left,e,{...r,path:[...r.path,"allOf",0]}),s=Ci(n.right,e,{...r,path:[...r.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,f=[...l(a)?a.allOf:[a],...l(s)?s.allOf:[s]];t.allOf=f},w6=(i,e,t,r)=>{const n=t,a=i._zod.def;n.type="array";const s=e.target==="draft-2020-12"?"prefixItems":"items",l=e.target==="draft-2020-12"||e.target==="openapi-3.0"?"items":"additionalItems",f=a.items.map((_,x)=>Ci(_,e,{...r,path:[...r.path,s,x]})),d=a.rest?Ci(a.rest,e,{...r,path:[...r.path,l,...e.target==="openapi-3.0"?[a.items.length]:[]]}):null;e.target==="draft-2020-12"?(n.prefixItems=f,d&&(n.items=d)):e.target==="openapi-3.0"?(n.items={anyOf:f},d&&n.items.anyOf.push(d),n.minItems=f.length,d||(n.maxItems=f.length)):(n.items=f,d&&(n.additionalItems=d));const{minimum:m,maximum:g}=i._zod.bag;typeof m=="number"&&(n.minItems=m),typeof g=="number"&&(n.maxItems=g)},R6=(i,e,t,r)=>{const n=t,a=i._zod.def;n.type="object";const s=a.keyType,f=s._zod.bag?.patterns;if(a.mode==="loose"&&f&&f.size>0){const m=Ci(a.valueType,e,{...r,path:[...r.path,"patternProperties","*"]});n.patternProperties={};for(const g of f)n.patternProperties[g.source]=m}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(n.propertyNames=Ci(a.keyType,e,{...r,path:[...r.path,"propertyNames"]})),n.additionalProperties=Ci(a.valueType,e,{...r,path:[...r.path,"additionalProperties"]});const d=s._zod.values;if(d){const m=[...d].filter(g=>typeof g=="string"||typeof g=="number");m.length>0&&(n.required=m)}},D6=(i,e,t,r)=>{const n=i._zod.def,a=Ci(n.innerType,e,r),s=e.seen.get(i);e.target==="openapi-3.0"?(s.ref=n.innerType,t.nullable=!0):t.anyOf=[a,{type:"null"}]},B6=(i,e,t,r)=>{const n=i._zod.def;Ci(n.innerType,e,r);const a=e.seen.get(i);a.ref=n.innerType},U6=(i,e,t,r)=>{const n=i._zod.def;Ci(n.innerType,e,r);const a=e.seen.get(i);a.ref=n.innerType,t.default=JSON.parse(JSON.stringify(n.defaultValue))},O6=(i,e,t,r)=>{const n=i._zod.def;Ci(n.innerType,e,r);const a=e.seen.get(i);a.ref=n.innerType,e.io==="input"&&(t._prefault=JSON.parse(JSON.stringify(n.defaultValue)))},N6=(i,e,t,r)=>{const n=i._zod.def;Ci(n.innerType,e,r);const a=e.seen.get(i);a.ref=n.innerType;let s;try{s=n.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}t.default=s},I6=(i,e,t,r)=>{const n=i._zod.def,a=e.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;Ci(a,e,r);const s=e.seen.get(i);s.ref=a},z6=(i,e,t,r)=>{const n=i._zod.def;Ci(n.innerType,e,r);const a=e.seen.get(i);a.ref=n.innerType,t.readOnly=!0},L6=(i,e,t,r)=>{const n=i._zod.def;Ci(n.innerType,e,r);const a=e.seen.get(i);a.ref=n.innerType},Qw=(i,e,t,r)=>{const n=i._zod.def;Ci(n.innerType,e,r);const a=e.seen.get(i);a.ref=n.innerType},P6=(i,e,t,r)=>{const n=i._zod.innerType;Ci(n,e,r);const a=e.seen.get(i);a.ref=n},K2={string:n6,number:i6,boolean:r6,bigint:a6,symbol:s6,null:o6,undefined:l6,void:c6,never:u6,any:f6,unknown:d6,date:h6,enum:p6,literal:m6,nan:g6,template_literal:v6,file:_6,success:y6,custom:x6,function:b6,transform:S6,map:A6,set:E6,array:M6,object:T6,union:Kw,intersection:C6,tuple:w6,record:R6,nullable:D6,nonoptional:B6,default:U6,prefault:O6,catch:N6,pipe:I6,readonly:z6,promise:L6,optional:Qw,lazy:P6};function F6(i,e){if("_idmap"in i){const r=i,n=Jg({...e,processors:K2}),a={};for(const f of r._idmap.entries()){const[d,m]=f;Ci(m,n)}const s={},l={registry:r,uri:e?.uri,defs:a};n.external=l;for(const f of r._idmap.entries()){const[d,m]=f;qg(n,m),s[d]=Wg(n,m)}if(Object.keys(a).length>0){const f=n.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[f]:a}}return{schemas:s}}const t=Jg({...e,processors:K2});return Ci(i,t),qg(t,i),Wg(t,i)}class c${get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let t=e?.target??"draft-2020-12";t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),this.ctx=Jg({processors:K2,target:t,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}})}process(e,t={path:[],schemaPath:[]}){return Ci(e,this.ctx,t)}emit(e,t){t&&(t.cycles&&(this.ctx.cycles=t.cycles),t.reused&&(this.ctx.reused=t.reused),t.external&&(this.ctx.external=t.external)),qg(this.ctx,e);const r=Wg(this.ctx,e),{"~standard":n,...a}=r;return a}}const u$=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),f$=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:CL,$ZodArray:UL,$ZodAsyncError:fp,$ZodBase64:mL,$ZodBase64URL:vL,$ZodBigInt:Sw,$ZodBigIntFormat:AL,$ZodBoolean:bw,$ZodCIDRv4:hL,$ZodCIDRv6:pL,$ZodCUID:tL,$ZodCUID2:nL,$ZodCatch:QL,$ZodCheck:Ki,$ZodCheckBigIntFormat:Bz,$ZodCheckEndsWith:Vz,$ZodCheckGreaterThan:_w,$ZodCheckIncludes:kz,$ZodCheckLengthEquals:Lz,$ZodCheckLessThan:vw,$ZodCheckLowerCase:Fz,$ZodCheckMaxLength:Iz,$ZodCheckMaxSize:Uz,$ZodCheckMimeType:$z,$ZodCheckMinLength:zz,$ZodCheckMinSize:Oz,$ZodCheckMultipleOf:Rz,$ZodCheckNumberFormat:Dz,$ZodCheckOverwrite:Xz,$ZodCheckProperty:jz,$ZodCheckRegex:Pz,$ZodCheckSizeEquals:Nz,$ZodCheckStartsWith:Gz,$ZodCheckStringFormat:Fy,$ZodCheckUpperCase:Hz,$ZodCodec:Mw,$ZodCustom:oP,$ZodCustomStringFormat:bL,$ZodDate:BL,$ZodDefault:JL,$ZodDiscriminatedUnion:PL,$ZodE164:_L,$ZodEmail:Wz,$ZodEmoji:Qz,$ZodEncodeError:EA,$ZodEnum:VL,$ZodError:RA,$ZodExactOptional:ZL,$ZodFile:$L,$ZodFunction:rP,$ZodGUID:Jz,$ZodIPv4:uL,$ZodIPv6:fL,$ZodISODate:oL,$ZodISODateTime:sL,$ZodISODuration:cL,$ZodISOTime:lL,$ZodIntersection:FL,$ZodJWT:xL,$ZodKSUID:aL,$ZodLazy:sP,$ZodLiteral:jL,$ZodMAC:dL,$ZodMap:kL,$ZodNaN:eP,$ZodNanoID:eL,$ZodNever:RL,$ZodNonOptional:WL,$ZodNull:TL,$ZodNullable:YL,$ZodNumber:xw,$ZodNumberFormat:SL,$ZodObject:IL,$ZodObjectJIT:zL,$ZodOptional:Ew,$ZodPipe:tP,$ZodPrefault:qL,$ZodPromise:aP,$ZodReadonly:nP,$ZodRealError:Io,$ZodRecord:HL,$ZodRegistry:pP,$ZodSet:GL,$ZodString:Hy,$ZodStringFormat:zi,$ZodSuccess:KL,$ZodSymbol:EL,$ZodTemplateLiteral:iP,$ZodTransform:XL,$ZodTuple:Aw,$ZodType:pn,$ZodULID:iL,$ZodURL:Kz,$ZodUUID:qz,$ZodUndefined:ML,$ZodUnion:DA,$ZodUnknown:wL,$ZodVoid:DL,$ZodXID:rL,$ZodXor:LL,$brand:EI,$constructor:Me,$input:hP,$output:dP,Doc:Zz,JSONSchema:u$,JSONSchemaGenerator:c$,NEVER:AI,TimePrecision:_P,_any:FP,_array:XP,_base64:Vw,_base64url:jw,_bigint:UP,_boolean:DP,_catch:n$,_check:WP,_cidrv4:kw,_cidrv6:Gw,_coercedBigint:OP,_coercedBoolean:BP,_coercedDate:jP,_coercedNumber:EP,_coercedString:gP,_cuid:Nw,_cuid2:Iw,_custom:YP,_date:VP,_decode:ow,_decodeAsync:cw,_default:Qj,_discriminatedUnion:kj,_e164:$w,_email:Cw,_emoji:Uw,_encode:sw,_encodeAsync:lw,_endsWith:LA,_enum:Zj,_file:ZP,_float32:TP,_float64:CP,_gt:xd,_gte:qs,_guid:wS,_includes:IA,_int:MP,_int32:wP,_int64:NP,_intersection:Gj,_ipv4:Fw,_ipv6:Hw,_isoDate:xP,_isoDateTime:yP,_isoDuration:SP,_isoTime:bP,_jwt:Xw,_ksuid:Pw,_lazy:s$,_length:Vy,_literal:Jj,_lowercase:OA,_lt:yd,_lte:ml,_mac:vP,_map:$j,_max:ml,_maxLength:Gy,_maxSize:mv,_mime:PA,_min:qs,_minLength:_p,_minSize:bd,_multipleOf:Yg,_nan:$P,_nanoid:Ow,_nativeEnum:Yj,_negative:Yw,_never:kP,_nonnegative:qw,_nonoptional:e$,_nonpositive:Jw,_normalize:FA,_null:PP,_nullable:Kj,_number:AP,_optional:Wj,_overwrite:nf,_parse:Oy,_parseAsync:Ny,_pipe:i$,_positive:Zw,_promise:o$,_property:Ww,_readonly:r$,_record:jj,_refine:JP,_regex:UA,_safeDecode:fw,_safeDecodeAsync:hw,_safeEncode:uw,_safeEncodeAsync:dw,_safeParse:Iy,_safeParseAsync:zy,_set:Xj,_size:ky,_slugify:VA,_startsWith:zA,_string:mP,_stringFormat:jy,_stringbool:e6,_success:t$,_superRefine:qP,_symbol:zP,_templateLiteral:a$,_toLowerCase:kA,_toUpperCase:GA,_transform:qj,_trim:HA,_tuple:Vj,_uint32:RP,_uint64:IP,_ulid:zw,_undefined:LP,_union:Fj,_unknown:HP,_uppercase:NA,_url:BA,_uuid:ww,_uuidv4:Rw,_uuidv6:Dw,_uuidv7:Bw,_void:GP,_xid:Lw,_xor:Hj,clone:vl,config:ts,createStandardJSONSchemaMethod:cy,createToJSONSchemaMethod:t6,decode:AV,decodeAsync:MV,describe:KP,encode:SV,encodeAsync:EV,extractDefs:qg,finalize:Wg,flattenError:rw,formatError:aw,globalConfig:SS,globalRegistry:dl,initializeContext:Jg,isValidBase64:yw,isValidBase64URL:gL,isValidJWT:yL,locales:fP,meta:QP,parse:MS,parseAsync:TS,prettifyError:$I,process:Ci,regexes:gw,registry:Tw,safeDecode:CV,safeDecodeAsync:RV,safeEncode:TV,safeEncodeAsync:wV,safeParse:XI,safeParseAsync:ZI,toDotPath:jI,toJSONSchema:F6,treeifyError:VI,util:kI,version:Yz},Symbol.toStringTag,{value:"Module"})),d$=Object.freeze(Object.defineProperty({__proto__:null,endsWith:LA,gt:xd,gte:qs,includes:IA,length:Vy,lowercase:OA,lt:yd,lte:ml,maxLength:Gy,maxSize:mv,mime:PA,minLength:_p,minSize:bd,multipleOf:Yg,negative:Yw,nonnegative:qw,nonpositive:Jw,normalize:FA,overwrite:nf,positive:Zw,property:Ww,regex:UA,size:ky,slugify:VA,startsWith:zA,toLowerCase:kA,toUpperCase:GA,trim:HA,uppercase:NA},Symbol.toStringTag,{value:"Module"})),eR=Me("ZodISODateTime",(i,e)=>{sL.init(i,e),Li.init(i,e)});function H6(i){return yP(eR,i)}const tR=Me("ZodISODate",(i,e)=>{oL.init(i,e),Li.init(i,e)});function k6(i){return xP(tR,i)}const nR=Me("ZodISOTime",(i,e)=>{lL.init(i,e),Li.init(i,e)});function G6(i){return bP(nR,i)}const iR=Me("ZodISODuration",(i,e)=>{cL.init(i,e),Li.init(i,e)});function V6(i){return SP(iR,i)}const j6=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:tR,ZodISODateTime:eR,ZodISODuration:iR,ZodISOTime:nR,date:k6,datetime:H6,duration:V6,time:G6},Symbol.toStringTag,{value:"Module"})),$6=(i,e)=>{RA.init(i,e),i.name="ZodError",Object.defineProperties(i,{format:{value:t=>aw(i,t)},flatten:{value:t=>rw(i,t)},addIssue:{value:t=>{i.issues.push(t),i.message=JSON.stringify(i.issues,AS,2)}},addIssues:{value:t=>{i.issues.push(...t),i.message=JSON.stringify(i.issues,AS,2)}},isEmpty:{get(){return i.issues.length===0}}})},h$=Me("ZodError",$6),zo=Me("ZodError",$6,{Parent:Error}),X6=Oy(zo),Z6=Ny(zo),Y6=Iy(zo),J6=zy(zo),q6=sw(zo),W6=ow(zo),K6=lw(zo),Q6=cw(zo),eF=uw(zo),tF=fw(zo),nF=dw(zo),iF=hw(zo),xn=Me("ZodType",(i,e)=>(pn.init(i,e),Object.assign(i["~standard"],{jsonSchema:{input:cy(i,"input"),output:cy(i,"output")}}),i.toJSONSchema=t6(i,{}),i.def=e,i.type=e.type,Object.defineProperty(i,"_def",{value:e}),i.check=(...t)=>i.clone(tu(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),i.with=i.check,i.clone=(t,r)=>vl(i,t,r),i.brand=()=>i,i.register=((t,r)=>(t.add(i,r),i)),i.parse=(t,r)=>X6(i,t,r,{callee:i.parse}),i.safeParse=(t,r)=>Y6(i,t,r),i.parseAsync=async(t,r)=>Z6(i,t,r,{callee:i.parseAsync}),i.safeParseAsync=async(t,r)=>J6(i,t,r),i.spa=i.safeParseAsync,i.encode=(t,r)=>q6(i,t,r),i.decode=(t,r)=>W6(i,t,r),i.encodeAsync=async(t,r)=>K6(i,t,r),i.decodeAsync=async(t,r)=>Q6(i,t,r),i.safeEncode=(t,r)=>eF(i,t,r),i.safeDecode=(t,r)=>tF(i,t,r),i.safeEncodeAsync=async(t,r)=>nF(i,t,r),i.safeDecodeAsync=async(t,r)=>iF(i,t,r),i.refine=(t,r)=>i.check(ZR(t,r)),i.superRefine=t=>i.check(YR(t)),i.overwrite=t=>i.check(nf(t)),i.optional=()=>fy(i),i.exactOptional=()=>RR(i),i.nullable=()=>dy(i),i.nullish=()=>fy(dy(i)),i.nonoptional=t=>IR(i,t),i.array=()=>qy(i),i.or=t=>uE([i,t]),i.and=t=>yR(i,t),i.transform=t=>hy(i,dE(t)),i.default=t=>UR(i,t),i.prefault=t=>NR(i,t),i.catch=t=>PR(i,t),i.pipe=t=>hy(i,t),i.readonly=()=>kR(i),i.describe=t=>{const r=i.clone();return dl.add(r,{description:t}),r},Object.defineProperty(i,"description",{get(){return dl.get(i)?.description},configurable:!0}),i.meta=(...t)=>{if(t.length===0)return dl.get(i);const r=i.clone();return dl.add(r,t[0]),r},i.isOptional=()=>i.safeParse(void 0).success,i.isNullable=()=>i.safeParse(null).success,i.apply=t=>t(i),i)),jA=Me("_ZodString",(i,e)=>{Hy.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(r,n,a)=>n6(i,r,n);const t=i._zod.bag;i.format=t.format??null,i.minLength=t.minimum??null,i.maxLength=t.maximum??null,i.regex=(...r)=>i.check(UA(...r)),i.includes=(...r)=>i.check(IA(...r)),i.startsWith=(...r)=>i.check(zA(...r)),i.endsWith=(...r)=>i.check(LA(...r)),i.min=(...r)=>i.check(_p(...r)),i.max=(...r)=>i.check(Gy(...r)),i.length=(...r)=>i.check(Vy(...r)),i.nonempty=(...r)=>i.check(_p(1,...r)),i.lowercase=r=>i.check(OA(r)),i.uppercase=r=>i.check(NA(r)),i.trim=()=>i.check(HA()),i.normalize=(...r)=>i.check(FA(...r)),i.toLowerCase=()=>i.check(kA()),i.toUpperCase=()=>i.check(GA()),i.slugify=()=>i.check(VA())}),$y=Me("ZodString",(i,e)=>{Hy.init(i,e),jA.init(i,e),i.email=t=>i.check(Cw($A,t)),i.url=t=>i.check(BA(Xy,t)),i.jwt=t=>i.check(Xw(sE,t)),i.emoji=t=>i.check(Uw(XA,t)),i.guid=t=>i.check(wS(uy,t)),i.uuid=t=>i.check(ww(Zc,t)),i.uuidv4=t=>i.check(Rw(Zc,t)),i.uuidv6=t=>i.check(Dw(Zc,t)),i.uuidv7=t=>i.check(Bw(Zc,t)),i.nanoid=t=>i.check(Ow(ZA,t)),i.guid=t=>i.check(wS(uy,t)),i.cuid=t=>i.check(Nw(YA,t)),i.cuid2=t=>i.check(Iw(JA,t)),i.ulid=t=>i.check(zw(qA,t)),i.base64=t=>i.check(Vw(iE,t)),i.base64url=t=>i.check(jw(rE,t)),i.xid=t=>i.check(Lw(WA,t)),i.ksuid=t=>i.check(Pw(KA,t)),i.ipv4=t=>i.check(Fw(QA,t)),i.ipv6=t=>i.check(Hw(eE,t)),i.cidrv4=t=>i.check(kw(tE,t)),i.cidrv6=t=>i.check(Gw(nE,t)),i.e164=t=>i.check($w(aE,t)),i.datetime=t=>i.check(H6(t)),i.date=t=>i.check(k6(t)),i.time=t=>i.check(G6(t)),i.duration=t=>i.check(V6(t))});function RS(i){return mP($y,i)}const Li=Me("ZodStringFormat",(i,e)=>{zi.init(i,e),jA.init(i,e)}),$A=Me("ZodEmail",(i,e)=>{Wz.init(i,e),Li.init(i,e)});function rF(i){return Cw($A,i)}const uy=Me("ZodGUID",(i,e)=>{Jz.init(i,e),Li.init(i,e)});function aF(i){return wS(uy,i)}const Zc=Me("ZodUUID",(i,e)=>{qz.init(i,e),Li.init(i,e)});function sF(i){return ww(Zc,i)}function oF(i){return Rw(Zc,i)}function lF(i){return Dw(Zc,i)}function cF(i){return Bw(Zc,i)}const Xy=Me("ZodURL",(i,e)=>{Kz.init(i,e),Li.init(i,e)});function uF(i){return BA(Xy,i)}function fF(i){return BA(Xy,{protocol:/^https?$/,hostname:dz,...it(i)})}const XA=Me("ZodEmoji",(i,e)=>{Qz.init(i,e),Li.init(i,e)});function dF(i){return Uw(XA,i)}const ZA=Me("ZodNanoID",(i,e)=>{eL.init(i,e),Li.init(i,e)});function hF(i){return Ow(ZA,i)}const YA=Me("ZodCUID",(i,e)=>{tL.init(i,e),Li.init(i,e)});function pF(i){return Nw(YA,i)}const JA=Me("ZodCUID2",(i,e)=>{nL.init(i,e),Li.init(i,e)});function mF(i){return Iw(JA,i)}const qA=Me("ZodULID",(i,e)=>{iL.init(i,e),Li.init(i,e)});function gF(i){return zw(qA,i)}const WA=Me("ZodXID",(i,e)=>{rL.init(i,e),Li.init(i,e)});function vF(i){return Lw(WA,i)}const KA=Me("ZodKSUID",(i,e)=>{aL.init(i,e),Li.init(i,e)});function _F(i){return Pw(KA,i)}const QA=Me("ZodIPv4",(i,e)=>{uL.init(i,e),Li.init(i,e)});function yF(i){return Fw(QA,i)}const rR=Me("ZodMAC",(i,e)=>{dL.init(i,e),Li.init(i,e)});function xF(i){return vP(rR,i)}const eE=Me("ZodIPv6",(i,e)=>{fL.init(i,e),Li.init(i,e)});function bF(i){return Hw(eE,i)}const tE=Me("ZodCIDRv4",(i,e)=>{hL.init(i,e),Li.init(i,e)});function SF(i){return kw(tE,i)}const nE=Me("ZodCIDRv6",(i,e)=>{pL.init(i,e),Li.init(i,e)});function AF(i){return Gw(nE,i)}const iE=Me("ZodBase64",(i,e)=>{mL.init(i,e),Li.init(i,e)});function EF(i){return Vw(iE,i)}const rE=Me("ZodBase64URL",(i,e)=>{vL.init(i,e),Li.init(i,e)});function MF(i){return jw(rE,i)}const aE=Me("ZodE164",(i,e)=>{_L.init(i,e),Li.init(i,e)});function TF(i){return $w(aE,i)}const sE=Me("ZodJWT",(i,e)=>{xL.init(i,e),Li.init(i,e)});function CF(i){return Xw(sE,i)}const gv=Me("ZodCustomStringFormat",(i,e)=>{bL.init(i,e),Li.init(i,e)});function wF(i,e,t={}){return jy(gv,i,e,t)}function RF(i){return jy(gv,"hostname",fz,i)}function DF(i){return jy(gv,"hex",Cz,i)}function BF(i,e){const t=e?.enc??"hex",r=`${i}_${t}`,n=gw[r];if(!n)throw new Error(`Unrecognized hash format: ${r}`);return jy(gv,r,n,e)}const Zy=Me("ZodNumber",(i,e)=>{xw.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(r,n,a)=>i6(i,r,n),i.gt=(r,n)=>i.check(xd(r,n)),i.gte=(r,n)=>i.check(qs(r,n)),i.min=(r,n)=>i.check(qs(r,n)),i.lt=(r,n)=>i.check(yd(r,n)),i.lte=(r,n)=>i.check(ml(r,n)),i.max=(r,n)=>i.check(ml(r,n)),i.int=r=>i.check(DS(r)),i.safe=r=>i.check(DS(r)),i.positive=r=>i.check(xd(0,r)),i.nonnegative=r=>i.check(qs(0,r)),i.negative=r=>i.check(yd(0,r)),i.nonpositive=r=>i.check(ml(0,r)),i.multipleOf=(r,n)=>i.check(Yg(r,n)),i.step=(r,n)=>i.check(Yg(r,n)),i.finite=()=>i;const t=i._zod.bag;i.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,i.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,i.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),i.isFinite=!0,i.format=t.format??null});function aR(i){return AP(Zy,i)}const Up=Me("ZodNumberFormat",(i,e)=>{SL.init(i,e),Zy.init(i,e)});function DS(i){return MP(Up,i)}function UF(i){return TP(Up,i)}function OF(i){return CP(Up,i)}function NF(i){return wP(Up,i)}function IF(i){return RP(Up,i)}const Yy=Me("ZodBoolean",(i,e)=>{bw.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>r6(i,t,r)});function sR(i){return DP(Yy,i)}const Jy=Me("ZodBigInt",(i,e)=>{Sw.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(r,n,a)=>a6(i,r),i.gte=(r,n)=>i.check(qs(r,n)),i.min=(r,n)=>i.check(qs(r,n)),i.gt=(r,n)=>i.check(xd(r,n)),i.gte=(r,n)=>i.check(qs(r,n)),i.min=(r,n)=>i.check(qs(r,n)),i.lt=(r,n)=>i.check(yd(r,n)),i.lte=(r,n)=>i.check(ml(r,n)),i.max=(r,n)=>i.check(ml(r,n)),i.positive=r=>i.check(xd(BigInt(0),r)),i.negative=r=>i.check(yd(BigInt(0),r)),i.nonpositive=r=>i.check(ml(BigInt(0),r)),i.nonnegative=r=>i.check(qs(BigInt(0),r)),i.multipleOf=(r,n)=>i.check(Yg(r,n));const t=i._zod.bag;i.minValue=t.minimum??null,i.maxValue=t.maximum??null,i.format=t.format??null});function zF(i){return UP(Jy,i)}const oE=Me("ZodBigIntFormat",(i,e)=>{AL.init(i,e),Jy.init(i,e)});function LF(i){return NP(oE,i)}function PF(i){return IP(oE,i)}const oR=Me("ZodSymbol",(i,e)=>{EL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>s6(i,t)});function FF(i){return zP(oR,i)}const lR=Me("ZodUndefined",(i,e)=>{ML.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>l6(i,t)});function HF(i){return LP(lR,i)}const cR=Me("ZodNull",(i,e)=>{TL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>o6(i,t,r)});function uR(i){return PP(cR,i)}const fR=Me("ZodAny",(i,e)=>{CL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>f6()});function kF(){return FP(fR)}const dR=Me("ZodUnknown",(i,e)=>{wL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>d6()});function yp(){return HP(dR)}const hR=Me("ZodNever",(i,e)=>{RL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>u6(i,t,r)});function lE(i){return kP(hR,i)}const pR=Me("ZodVoid",(i,e)=>{DL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>c6(i,t)});function GF(i){return GP(pR,i)}const cE=Me("ZodDate",(i,e)=>{BL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(r,n,a)=>h6(i,r),i.min=(r,n)=>i.check(qs(r,n)),i.max=(r,n)=>i.check(ml(r,n));const t=i._zod.bag;i.minDate=t.minimum?new Date(t.minimum):null,i.maxDate=t.maximum?new Date(t.maximum):null});function VF(i){return VP(cE,i)}const mR=Me("ZodArray",(i,e)=>{UL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>M6(i,t,r,n),i.element=e.element,i.min=(t,r)=>i.check(_p(t,r)),i.nonempty=t=>i.check(_p(1,t)),i.max=(t,r)=>i.check(Gy(t,r)),i.length=(t,r)=>i.check(Vy(t,r)),i.unwrap=()=>i.element});function qy(i,e){return XP(mR,i,e)}function jF(i){const e=i._zod.def.shape;return fE(Object.keys(e))}const Wy=Me("ZodObject",(i,e)=>{zL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>T6(i,t,r,n),Cn(i,"shape",()=>e.shape),i.keyof=()=>fE(Object.keys(i._zod.def.shape)),i.catchall=t=>i.clone({...i._zod.def,catchall:t}),i.passthrough=()=>i.clone({...i._zod.def,catchall:yp()}),i.loose=()=>i.clone({...i._zod.def,catchall:yp()}),i.strict=()=>i.clone({...i._zod.def,catchall:lE()}),i.strip=()=>i.clone({...i._zod.def,catchall:void 0}),i.extend=t=>NI(i,t),i.safeExtend=t=>II(i,t),i.merge=t=>zI(i,t),i.pick=t=>UI(i,t),i.omit=t=>OI(i,t),i.partial=(...t)=>LI(hE,i,t[0]),i.required=(...t)=>PI(pE,i,t[0])});function $F(i,e){const t={type:"object",shape:i??{},...it(e)};return new Wy(t)}function XF(i,e){return new Wy({type:"object",shape:i,catchall:lE(),...it(e)})}function ZF(i,e){return new Wy({type:"object",shape:i,catchall:yp(),...it(e)})}const Ky=Me("ZodUnion",(i,e)=>{DA.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>Kw(i,t,r,n),i.options=e.options});function uE(i,e){return new Ky({type:"union",options:i,...it(e)})}const gR=Me("ZodXor",(i,e)=>{Ky.init(i,e),LL.init(i,e),i._zod.processJSONSchema=(t,r,n)=>Kw(i,t,r,n),i.options=e.options});function YF(i,e){return new gR({type:"union",options:i,inclusive:!1,...it(e)})}const vR=Me("ZodDiscriminatedUnion",(i,e)=>{Ky.init(i,e),PL.init(i,e)});function JF(i,e,t){return new vR({type:"union",options:e,discriminator:i,...it(t)})}const _R=Me("ZodIntersection",(i,e)=>{FL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>C6(i,t,r,n)});function yR(i,e){return new _R({type:"intersection",left:i,right:e})}const xR=Me("ZodTuple",(i,e)=>{Aw.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>w6(i,t,r,n),i.rest=t=>i.clone({...i._zod.def,rest:t})});function bR(i,e,t){const r=e instanceof pn,n=r?t:e,a=r?e:null;return new xR({type:"tuple",items:i,rest:a,...it(n)})}const Qy=Me("ZodRecord",(i,e)=>{HL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>R6(i,t,r,n),i.keyType=e.keyType,i.valueType=e.valueType});function SR(i,e,t){return new Qy({type:"record",keyType:i,valueType:e,...it(t)})}function qF(i,e,t){const r=vl(i);return r._zod.values=void 0,new Qy({type:"record",keyType:r,valueType:e,...it(t)})}function WF(i,e,t){return new Qy({type:"record",keyType:i,valueType:e,mode:"loose",...it(t)})}const AR=Me("ZodMap",(i,e)=>{kL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>A6(i,t),i.keyType=e.keyType,i.valueType=e.valueType,i.min=(...t)=>i.check(bd(...t)),i.nonempty=t=>i.check(bd(1,t)),i.max=(...t)=>i.check(mv(...t)),i.size=(...t)=>i.check(ky(...t))});function KF(i,e,t){return new AR({type:"map",keyType:i,valueType:e,...it(t)})}const ER=Me("ZodSet",(i,e)=>{GL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>E6(i,t),i.min=(...t)=>i.check(bd(...t)),i.nonempty=t=>i.check(bd(1,t)),i.max=(...t)=>i.check(mv(...t)),i.size=(...t)=>i.check(ky(...t))});function QF(i,e){return new ER({type:"set",valueType:i,...it(e)})}const Kg=Me("ZodEnum",(i,e)=>{VL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(r,n,a)=>p6(i,r,n),i.enum=e.entries,i.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));i.extract=(r,n)=>{const a={};for(const s of r)if(t.has(s))a[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Kg({...e,checks:[],...it(n),entries:a})},i.exclude=(r,n)=>{const a={...e.entries};for(const s of r)if(t.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new Kg({...e,checks:[],...it(n),entries:a})}});function fE(i,e){const t=Array.isArray(i)?Object.fromEntries(i.map(r=>[r,r])):i;return new Kg({type:"enum",entries:t,...it(e)})}function e5(i,e){return new Kg({type:"enum",entries:i,...it(e)})}const MR=Me("ZodLiteral",(i,e)=>{jL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>m6(i,t,r),i.values=new Set(e.values),Object.defineProperty(i,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function t5(i,e){return new MR({type:"literal",values:Array.isArray(i)?i:[i],...it(e)})}const TR=Me("ZodFile",(i,e)=>{$L.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>_6(i,t,r),i.min=(t,r)=>i.check(bd(t,r)),i.max=(t,r)=>i.check(mv(t,r)),i.mime=(t,r)=>i.check(PA(Array.isArray(t)?t:[t],r))});function n5(i){return ZP(TR,i)}const CR=Me("ZodTransform",(i,e)=>{XL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>S6(i,t),i._zod.parse=(t,r)=>{if(r.direction==="backward")throw new EA(i.constructor.name);t.addIssue=a=>{if(typeof a=="string")t.issues.push(Xg(a,t.value,e));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=i),t.issues.push(Xg(s))}};const n=e.transform(t.value,t);return n instanceof Promise?n.then(a=>(t.value=a,t)):(t.value=n,t)}});function dE(i){return new CR({type:"transform",transform:i})}const hE=Me("ZodOptional",(i,e)=>{Ew.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>Qw(i,t,r,n),i.unwrap=()=>i._zod.def.innerType});function fy(i){return new hE({type:"optional",innerType:i})}const wR=Me("ZodExactOptional",(i,e)=>{ZL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>Qw(i,t,r,n),i.unwrap=()=>i._zod.def.innerType});function RR(i){return new wR({type:"optional",innerType:i})}const DR=Me("ZodNullable",(i,e)=>{YL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>D6(i,t,r,n),i.unwrap=()=>i._zod.def.innerType});function dy(i){return new DR({type:"nullable",innerType:i})}function i5(i){return fy(dy(i))}const BR=Me("ZodDefault",(i,e)=>{JL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>U6(i,t,r,n),i.unwrap=()=>i._zod.def.innerType,i.removeDefault=i.unwrap});function UR(i,e){return new BR({type:"default",innerType:i,get defaultValue(){return typeof e=="function"?e():TA(e)}})}const OR=Me("ZodPrefault",(i,e)=>{qL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>O6(i,t,r,n),i.unwrap=()=>i._zod.def.innerType});function NR(i,e){return new OR({type:"prefault",innerType:i,get defaultValue(){return typeof e=="function"?e():TA(e)}})}const pE=Me("ZodNonOptional",(i,e)=>{WL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>B6(i,t,r,n),i.unwrap=()=>i._zod.def.innerType});function IR(i,e){return new pE({type:"nonoptional",innerType:i,...it(e)})}const zR=Me("ZodSuccess",(i,e)=>{KL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>y6(i,t,r),i.unwrap=()=>i._zod.def.innerType});function r5(i){return new zR({type:"success",innerType:i})}const LR=Me("ZodCatch",(i,e)=>{QL.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>N6(i,t,r,n),i.unwrap=()=>i._zod.def.innerType,i.removeCatch=i.unwrap});function PR(i,e){return new LR({type:"catch",innerType:i,catchValue:typeof e=="function"?e:()=>e})}const FR=Me("ZodNaN",(i,e)=>{eP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>g6(i,t)});function a5(i){return $P(FR,i)}const mE=Me("ZodPipe",(i,e)=>{tP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>I6(i,t,r,n),i.in=e.in,i.out=e.out});function hy(i,e){return new mE({type:"pipe",in:i,out:e})}const gE=Me("ZodCodec",(i,e)=>{mE.init(i,e),Mw.init(i,e)});function s5(i,e,t){return new gE({type:"pipe",in:i,out:e,transform:t.decode,reverseTransform:t.encode})}const HR=Me("ZodReadonly",(i,e)=>{nP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>z6(i,t,r,n),i.unwrap=()=>i._zod.def.innerType});function kR(i){return new HR({type:"readonly",innerType:i})}const GR=Me("ZodTemplateLiteral",(i,e)=>{iP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>v6(i,t,r)});function o5(i,e){return new GR({type:"template_literal",parts:i,...it(e)})}const VR=Me("ZodLazy",(i,e)=>{sP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>P6(i,t,r,n),i.unwrap=()=>i._zod.def.getter()});function jR(i){return new VR({type:"lazy",getter:i})}const $R=Me("ZodPromise",(i,e)=>{aP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>L6(i,t,r,n),i.unwrap=()=>i._zod.def.innerType});function l5(i){return new $R({type:"promise",innerType:i})}const XR=Me("ZodFunction",(i,e)=>{rP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>b6(i,t)});function BS(i){return new XR({type:"function",input:Array.isArray(i?.input)?bR(i?.input):i?.input??qy(yp()),output:i?.output??yp()})}const ex=Me("ZodCustom",(i,e)=>{oP.init(i,e),xn.init(i,e),i._zod.processJSONSchema=(t,r,n)=>x6(i,t)});function c5(i){const e=new Ki({check:"custom"});return e._zod.check=i,e}function u5(i,e){return YP(ex,i??(()=>!0),e)}function ZR(i,e={}){return JP(ex,i,e)}function YR(i){return qP(i)}const f5=KP,d5=QP;function h5(i,e={}){const t=new ex({type:"custom",check:"custom",fn:r=>r instanceof i,abort:!0,...it(e)});return t._zod.bag.Class=i,t._zod.check=r=>{r.value instanceof i||r.issues.push({code:"invalid_type",expected:i.name,input:r.value,inst:t,path:[...t._zod.def.path??[]]})},t}const p5=(...i)=>e6({Codec:gE,Boolean:Yy,String:$y},...i);function m5(i){const e=jR(()=>uE([RS(i),aR(),sR(),uR(),qy(e),SR(RS(),e)]));return e}function g5(i,e){return hy(dE(i),e)}const p$=Object.freeze(Object.defineProperty({__proto__:null,ZodAny:fR,ZodArray:mR,ZodBase64:iE,ZodBase64URL:rE,ZodBigInt:Jy,ZodBigIntFormat:oE,ZodBoolean:Yy,ZodCIDRv4:tE,ZodCIDRv6:nE,ZodCUID:YA,ZodCUID2:JA,ZodCatch:LR,ZodCodec:gE,ZodCustom:ex,ZodCustomStringFormat:gv,ZodDate:cE,ZodDefault:BR,ZodDiscriminatedUnion:vR,ZodE164:aE,ZodEmail:$A,ZodEmoji:XA,ZodEnum:Kg,ZodExactOptional:wR,ZodFile:TR,ZodFunction:XR,ZodGUID:uy,ZodIPv4:QA,ZodIPv6:eE,ZodIntersection:_R,ZodJWT:sE,ZodKSUID:KA,ZodLazy:VR,ZodLiteral:MR,ZodMAC:rR,ZodMap:AR,ZodNaN:FR,ZodNanoID:ZA,ZodNever:hR,ZodNonOptional:pE,ZodNull:cR,ZodNullable:DR,ZodNumber:Zy,ZodNumberFormat:Up,ZodObject:Wy,ZodOptional:hE,ZodPipe:mE,ZodPrefault:OR,ZodPromise:$R,ZodReadonly:HR,ZodRecord:Qy,ZodSet:ER,ZodString:$y,ZodStringFormat:Li,ZodSuccess:zR,ZodSymbol:oR,ZodTemplateLiteral:GR,ZodTransform:CR,ZodTuple:xR,ZodType:xn,ZodULID:qA,ZodURL:Xy,ZodUUID:Zc,ZodUndefined:lR,ZodUnion:Ky,ZodUnknown:dR,ZodVoid:pR,ZodXID:WA,ZodXor:gR,_ZodString:jA,_default:UR,_function:BS,any:kF,array:qy,base64:EF,base64url:MF,bigint:zF,boolean:sR,catch:PR,check:c5,cidrv4:SF,cidrv6:AF,codec:s5,cuid:pF,cuid2:mF,custom:u5,date:VF,describe:f5,discriminatedUnion:JF,e164:TF,email:rF,emoji:dF,enum:fE,exactOptional:RR,file:n5,float32:UF,float64:OF,function:BS,guid:aF,hash:BF,hex:DF,hostname:RF,httpUrl:fF,instanceof:h5,int:DS,int32:NF,int64:LF,intersection:yR,ipv4:yF,ipv6:bF,json:m5,jwt:CF,keyof:jF,ksuid:_F,lazy:jR,literal:t5,looseObject:ZF,looseRecord:WF,mac:xF,map:KF,meta:d5,nan:a5,nanoid:hF,nativeEnum:e5,never:lE,nonoptional:IR,null:uR,nullable:dy,nullish:i5,number:aR,object:$F,optional:fy,partialRecord:qF,pipe:hy,prefault:NR,preprocess:g5,promise:l5,readonly:kR,record:SR,refine:ZR,set:QF,strictObject:XF,string:RS,stringFormat:wF,stringbool:p5,success:r5,superRefine:YR,symbol:FF,templateLiteral:o5,transform:dE,tuple:bR,uint32:IF,uint64:PF,ulid:gF,undefined:HF,union:uE,unknown:yp,url:uF,uuid:sF,uuidv4:oF,uuidv6:lF,uuidv7:cF,void:GF,xid:vF,xor:YF},Symbol.toStringTag,{value:"Module"})),m$={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function g$(i){ts({customError:i})}function v$(){return ts().customError}var Q2;Q2||(Q2={});const Tt={...p$,...d$,iso:j6},_$=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function y$(i,e){const t=i.$schema;return t==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":t==="http://json-schema.org/draft-07/schema#"?"draft-7":t==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"}function x$(i,e){if(!i.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");const t=i.slice(1).split("/").filter(Boolean);if(t.length===0)return e.rootSchema;const r=e.version==="draft-2020-12"?"$defs":"definitions";if(t[0]===r){const n=t[1];if(!n||!e.defs[n])throw new Error(`Reference not found: ${i}`);return e.defs[n]}throw new Error(`Reference not found: ${i}`)}function v5(i,e){if(i.not!==void 0){if(typeof i.not=="object"&&Object.keys(i.not).length===0)return Tt.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(i.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(i.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(i.if!==void 0||i.then!==void 0||i.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(i.dependentSchemas!==void 0||i.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(i.$ref){const n=i.$ref;if(e.refs.has(n))return e.refs.get(n);if(e.processing.has(n))return Tt.lazy(()=>{if(!e.refs.has(n))throw new Error(`Circular reference not resolved: ${n}`);return e.refs.get(n)});e.processing.add(n);const a=x$(n,e),s=Ya(a,e);return e.refs.set(n,s),e.processing.delete(n),s}if(i.enum!==void 0){const n=i.enum;if(e.version==="openapi-3.0"&&i.nullable===!0&&n.length===1&&n[0]===null)return Tt.null();if(n.length===0)return Tt.never();if(n.length===1)return Tt.literal(n[0]);if(n.every(s=>typeof s=="string"))return Tt.enum(n);const a=n.map(s=>Tt.literal(s));return a.length<2?a[0]:Tt.union([a[0],a[1],...a.slice(2)])}if(i.const!==void 0)return Tt.literal(i.const);const t=i.type;if(Array.isArray(t)){const n=t.map(a=>{const s={...i,type:a};return v5(s,e)});return n.length===0?Tt.never():n.length===1?n[0]:Tt.union(n)}if(!t)return Tt.any();let r;switch(t){case"string":{let n=Tt.string();if(i.format){const a=i.format;a==="email"?n=n.check(Tt.email()):a==="uri"||a==="uri-reference"?n=n.check(Tt.url()):a==="uuid"||a==="guid"?n=n.check(Tt.uuid()):a==="date-time"?n=n.check(Tt.iso.datetime()):a==="date"?n=n.check(Tt.iso.date()):a==="time"?n=n.check(Tt.iso.time()):a==="duration"?n=n.check(Tt.iso.duration()):a==="ipv4"?n=n.check(Tt.ipv4()):a==="ipv6"?n=n.check(Tt.ipv6()):a==="mac"?n=n.check(Tt.mac()):a==="cidr"?n=n.check(Tt.cidrv4()):a==="cidr-v6"?n=n.check(Tt.cidrv6()):a==="base64"?n=n.check(Tt.base64()):a==="base64url"?n=n.check(Tt.base64url()):a==="e164"?n=n.check(Tt.e164()):a==="jwt"?n=n.check(Tt.jwt()):a==="emoji"?n=n.check(Tt.emoji()):a==="nanoid"?n=n.check(Tt.nanoid()):a==="cuid"?n=n.check(Tt.cuid()):a==="cuid2"?n=n.check(Tt.cuid2()):a==="ulid"?n=n.check(Tt.ulid()):a==="xid"?n=n.check(Tt.xid()):a==="ksuid"&&(n=n.check(Tt.ksuid()))}typeof i.minLength=="number"&&(n=n.min(i.minLength)),typeof i.maxLength=="number"&&(n=n.max(i.maxLength)),i.pattern&&(n=n.regex(new RegExp(i.pattern))),r=n;break}case"number":case"integer":{let n=t==="integer"?Tt.number().int():Tt.number();typeof i.minimum=="number"&&(n=n.min(i.minimum)),typeof i.maximum=="number"&&(n=n.max(i.maximum)),typeof i.exclusiveMinimum=="number"?n=n.gt(i.exclusiveMinimum):i.exclusiveMinimum===!0&&typeof i.minimum=="number"&&(n=n.gt(i.minimum)),typeof i.exclusiveMaximum=="number"?n=n.lt(i.exclusiveMaximum):i.exclusiveMaximum===!0&&typeof i.maximum=="number"&&(n=n.lt(i.maximum)),typeof i.multipleOf=="number"&&(n=n.multipleOf(i.multipleOf)),r=n;break}case"boolean":{r=Tt.boolean();break}case"null":{r=Tt.null();break}case"object":{const n={},a=i.properties||{},s=new Set(i.required||[]);for(const[f,d]of Object.entries(a)){const m=Ya(d,e);n[f]=s.has(f)?m:m.optional()}if(i.propertyNames){const f=Ya(i.propertyNames,e),d=i.additionalProperties&&typeof i.additionalProperties=="object"?Ya(i.additionalProperties,e):Tt.any();if(Object.keys(n).length===0){r=Tt.record(f,d);break}const m=Tt.object(n).passthrough(),g=Tt.looseRecord(f,d);r=Tt.intersection(m,g);break}if(i.patternProperties){const f=i.patternProperties,d=Object.keys(f),m=[];for(const _ of d){const x=Ya(f[_],e),b=Tt.string().regex(new RegExp(_));m.push(Tt.looseRecord(b,x))}const g=[];if(Object.keys(n).length>0&&g.push(Tt.object(n).passthrough()),g.push(...m),g.length===0)r=Tt.object({}).passthrough();else if(g.length===1)r=g[0];else{let _=Tt.intersection(g[0],g[1]);for(let x=2;x<g.length;x++)_=Tt.intersection(_,g[x]);r=_}break}const l=Tt.object(n);i.additionalProperties===!1?r=l.strict():typeof i.additionalProperties=="object"?r=l.catchall(Ya(i.additionalProperties,e)):r=l.passthrough();break}case"array":{const n=i.prefixItems,a=i.items;if(n&&Array.isArray(n)){const s=n.map(f=>Ya(f,e)),l=a&&typeof a=="object"&&!Array.isArray(a)?Ya(a,e):void 0;l?r=Tt.tuple(s).rest(l):r=Tt.tuple(s),typeof i.minItems=="number"&&(r=r.check(Tt.minLength(i.minItems))),typeof i.maxItems=="number"&&(r=r.check(Tt.maxLength(i.maxItems)))}else if(Array.isArray(a)){const s=a.map(f=>Ya(f,e)),l=i.additionalItems&&typeof i.additionalItems=="object"?Ya(i.additionalItems,e):void 0;l?r=Tt.tuple(s).rest(l):r=Tt.tuple(s),typeof i.minItems=="number"&&(r=r.check(Tt.minLength(i.minItems))),typeof i.maxItems=="number"&&(r=r.check(Tt.maxLength(i.maxItems)))}else if(a!==void 0){const s=Ya(a,e);let l=Tt.array(s);typeof i.minItems=="number"&&(l=l.min(i.minItems)),typeof i.maxItems=="number"&&(l=l.max(i.maxItems)),r=l}else r=Tt.array(Tt.any());break}default:throw new Error(`Unsupported type: ${t}`)}return i.description&&(r=r.describe(i.description)),i.default!==void 0&&(r=r.default(i.default)),r}function Ya(i,e){if(typeof i=="boolean")return i?Tt.any():Tt.never();let t=v5(i,e);const r=i.type||i.enum!==void 0||i.const!==void 0;if(i.anyOf&&Array.isArray(i.anyOf)){const l=i.anyOf.map(d=>Ya(d,e)),f=Tt.union(l);t=r?Tt.intersection(t,f):f}if(i.oneOf&&Array.isArray(i.oneOf)){const l=i.oneOf.map(d=>Ya(d,e)),f=Tt.xor(l);t=r?Tt.intersection(t,f):f}if(i.allOf&&Array.isArray(i.allOf))if(i.allOf.length===0)t=r?t:Tt.any();else{let l=r?t:Ya(i.allOf[0],e);const f=r?0:1;for(let d=f;d<i.allOf.length;d++)l=Tt.intersection(l,Ya(i.allOf[d],e));t=l}i.nullable===!0&&e.version==="openapi-3.0"&&(t=Tt.nullable(t)),i.readOnly===!0&&(t=Tt.readonly(t));const n={},a=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(const l of a)l in i&&(n[l]=i[l]);const s=["contentEncoding","contentMediaType","contentSchema"];for(const l of s)l in i&&(n[l]=i[l]);for(const l of Object.keys(i))_$.has(l)||(n[l]=i[l]);return Object.keys(n).length>0&&e.registry.add(t,n),t}function b$(i,e){if(typeof i=="boolean")return i?Tt.any():Tt.never();const t=y$(i,e?.defaultTarget),r=i.$defs||i.definitions||{},n={version:t,defs:r,refs:new Map,processing:new Set,rootSchema:i,registry:e?.registry??dl};return Ya(i,n)}function S$(i){return gP($y,i)}function A$(i){return EP(Zy,i)}function E$(i){return BP(Yy,i)}function M$(i){return OP(Jy,i)}function T$(i){return jP(cE,i)}const C$=Object.freeze(Object.defineProperty({__proto__:null,bigint:M$,boolean:E$,date:T$,number:A$,string:S$},Symbol.toStringTag,{value:"Module"}));ts(lP());const q1=Object.freeze(Object.defineProperty({__proto__:null,$brand:EI,$input:hP,$output:dP,NEVER:AI,TimePrecision:_P,ZodAny:fR,ZodArray:mR,ZodBase64:iE,ZodBase64URL:rE,ZodBigInt:Jy,ZodBigIntFormat:oE,ZodBoolean:Yy,ZodCIDRv4:tE,ZodCIDRv6:nE,ZodCUID:YA,ZodCUID2:JA,ZodCatch:LR,ZodCodec:gE,ZodCustom:ex,ZodCustomStringFormat:gv,ZodDate:cE,ZodDefault:BR,ZodDiscriminatedUnion:vR,ZodE164:aE,ZodEmail:$A,ZodEmoji:XA,ZodEnum:Kg,ZodError:h$,ZodExactOptional:wR,ZodFile:TR,get ZodFirstPartyTypeKind(){return Q2},ZodFunction:XR,ZodGUID:uy,ZodIPv4:QA,ZodIPv6:eE,ZodISODate:tR,ZodISODateTime:eR,ZodISODuration:iR,ZodISOTime:nR,ZodIntersection:_R,ZodIssueCode:m$,ZodJWT:sE,ZodKSUID:KA,ZodLazy:VR,ZodLiteral:MR,ZodMAC:rR,ZodMap:AR,ZodNaN:FR,ZodNanoID:ZA,ZodNever:hR,ZodNonOptional:pE,ZodNull:cR,ZodNullable:DR,ZodNumber:Zy,ZodNumberFormat:Up,ZodObject:Wy,ZodOptional:hE,ZodPipe:mE,ZodPrefault:OR,ZodPromise:$R,ZodReadonly:HR,ZodRealError:zo,ZodRecord:Qy,ZodSet:ER,ZodString:$y,ZodStringFormat:Li,ZodSuccess:zR,ZodSymbol:oR,ZodTemplateLiteral:GR,ZodTransform:CR,ZodTuple:xR,ZodType:xn,ZodULID:qA,ZodURL:Xy,ZodUUID:Zc,ZodUndefined:lR,ZodUnion:Ky,ZodUnknown:dR,ZodVoid:pR,ZodXID:WA,ZodXor:gR,_ZodString:jA,_default:UR,_function:BS,any:kF,array:qy,base64:EF,base64url:MF,bigint:zF,boolean:sR,catch:PR,check:c5,cidrv4:SF,cidrv6:AF,clone:vl,codec:s5,coerce:C$,config:ts,core:f$,cuid:pF,cuid2:mF,custom:u5,date:VF,decode:W6,decodeAsync:Q6,describe:f5,discriminatedUnion:JF,e164:TF,email:rF,emoji:dF,encode:q6,encodeAsync:K6,endsWith:LA,enum:fE,exactOptional:RR,file:n5,flattenError:rw,float32:UF,float64:OF,formatError:aw,fromJSONSchema:b$,function:BS,getErrorMap:v$,globalRegistry:dl,gt:xd,gte:qs,guid:aF,hash:BF,hex:DF,hostname:RF,httpUrl:fF,includes:IA,instanceof:h5,int:DS,int32:NF,int64:LF,intersection:yR,ipv4:yF,ipv6:bF,iso:j6,json:m5,jwt:CF,keyof:jF,ksuid:_F,lazy:jR,length:Vy,literal:t5,locales:fP,looseObject:ZF,looseRecord:WF,lowercase:OA,lt:yd,lte:ml,mac:xF,map:KF,maxLength:Gy,maxSize:mv,meta:d5,mime:PA,minLength:_p,minSize:bd,multipleOf:Yg,nan:a5,nanoid:hF,nativeEnum:e5,negative:Yw,never:lE,nonnegative:qw,nonoptional:IR,nonpositive:Jw,normalize:FA,null:uR,nullable:dy,nullish:i5,number:aR,object:$F,optional:fy,overwrite:nf,parse:X6,parseAsync:Z6,partialRecord:qF,pipe:hy,positive:Zw,prefault:NR,preprocess:g5,prettifyError:$I,promise:l5,property:Ww,readonly:kR,record:SR,refine:ZR,regex:UA,regexes:gw,registry:Tw,safeDecode:tF,safeDecodeAsync:iF,safeEncode:eF,safeEncodeAsync:nF,safeParse:Y6,safeParseAsync:J6,set:QF,setErrorMap:g$,size:ky,slugify:VA,startsWith:zA,strictObject:XF,string:RS,stringFormat:wF,stringbool:p5,success:r5,superRefine:YR,symbol:FF,templateLiteral:o5,toJSONSchema:F6,toLowerCase:kA,toUpperCase:GA,transform:dE,treeifyError:VI,trim:HA,tuple:bR,uint32:IF,uint64:PF,ulid:gF,undefined:HF,union:uE,unknown:yp,uppercase:NA,url:uF,util:kI,uuid:sF,uuidv4:oF,uuidv6:lF,uuidv7:cF,void:GF,xid:vF,xor:YF},Symbol.toStringTag,{value:"Module"}));var tx=i=>i.type==="checkbox",Wh=i=>i instanceof Date,Js=i=>i==null;const _5=i=>typeof i=="object";var Pr=i=>!Js(i)&&!Array.isArray(i)&&_5(i)&&!Wh(i),w$=i=>Pr(i)&&i.target?tx(i.target)?i.target.checked:i.target.value:i,R$=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,D$=(i,e)=>i.has(R$(e)),B$=i=>{const e=i.constructor&&i.constructor.prototype;return Pr(e)&&e.hasOwnProperty("isPrototypeOf")},JR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wr(i){if(i instanceof Date)return new Date(i);const e=typeof FileList<"u"&&i instanceof FileList;if(JR&&(i instanceof Blob||e))return i;const t=Array.isArray(i);if(!t&&!(Pr(i)&&B$(i)))return i;const r=t?[]:Object.create(Object.getPrototypeOf(i));for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=Wr(i[n]));return r}var vE=i=>/^\w*$/.test(i),sr=i=>i===void 0,qR=i=>Array.isArray(i)?i.filter(Boolean):[],WR=i=>qR(i.replace(/["|']|\]/g,"").split(/\.|\[/)),Lt=(i,e,t)=>{if(!e||!Pr(i))return t;const r=(vE(e)?[e]:WR(e)).reduce((n,a)=>Js(n)?n:n[a],i);return sr(r)||r===i?sr(i[e])?t:i[e]:r},Vc=i=>typeof i=="boolean",Jl=i=>typeof i=="function",Oi=(i,e,t)=>{let r=-1;const n=vE(e)?[e]:WR(e),a=n.length,s=a-1;for(;++r<a;){const l=n[r];let f=t;if(r!==s){const d=i[l];f=Pr(d)||Array.isArray(d)?d:isNaN(+n[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;i[l]=f,i=i[l]}};const dU={BLUR:"blur",FOCUS_OUT:"focusout"},ql={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Uu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},U$=ar.createContext(null);U$.displayName="HookFormControlContext";var O$=(i,e,t,r=!0)=>{const n={defaultValues:e._defaultValues};for(const a in i)Object.defineProperty(n,a,{get:()=>{const s=a;return e._proxyFormState[s]!==ql.all&&(e._proxyFormState[s]=!r||ql.all),i[s]}});return n};const N$=typeof window<"u"?ar.useLayoutEffect:ar.useEffect;var Ao=i=>typeof i=="string",I$=(i,e,t,r,n)=>Ao(i)?(r&&e.watch.add(i),Lt(t,i,n)):Array.isArray(i)?i.map(a=>(r&&e.watch.add(a),Lt(t,a))):(r&&(e.watchAll=!0),t),eC=i=>Js(i)||!_5(i);function Qf(i,e,t=new WeakSet){if(eC(i)||eC(e))return Object.is(i,e);if(Wh(i)&&Wh(e))return Object.is(i.getTime(),e.getTime());const r=Object.keys(i),n=Object.keys(e);if(r.length!==n.length)return!1;if(t.has(i)||t.has(e))return!0;t.add(i),t.add(e);for(const a of r){const s=i[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=e[a];if(Wh(s)&&Wh(l)||Pr(s)&&Pr(l)||Array.isArray(s)&&Array.isArray(l)?!Qf(s,l,t):!Object.is(s,l))return!1}}return!0}const z$=ar.createContext(null);z$.displayName="HookFormContext";var KR=(i,e,t,r,n)=>e?{...t[i],types:{...t[i]&&t[i].types?t[i].types:{},[r]:n||!0}}:{},k_=i=>Array.isArray(i)?i:[i],hU=()=>{let i=[];return{get observers(){return i},next:n=>{for(const a of i)a.next&&a.next(n)},subscribe:n=>(i.push(n),{unsubscribe:()=>{i=i.filter(a=>a!==n)}}),unsubscribe:()=>{i=[]}}};function y5(i,e){const t={};for(const r in i)if(i.hasOwnProperty(r)){const n=i[r],a=e[r];if(n&&Pr(n)&&a){const s=y5(n,a);Pr(s)&&(t[r]=s)}else i[r]&&(t[r]=a)}return t}var Cs=i=>Pr(i)&&!Object.keys(i).length,QR=i=>i.type==="file",US=i=>{if(!JR)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},x5=i=>i.type==="select-multiple",eD=i=>i.type==="radio",L$=i=>eD(i)||tx(i),aT=i=>US(i)&&i.isConnected;function P$(i,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)i=sr(i)?r++:i[e[r++]];return i}function F$(i){for(const e in i)if(i.hasOwnProperty(e)&&!sr(i[e]))return!1;return!0}function Ir(i,e){const t=Array.isArray(e)?e:vE(e)?[e]:WR(e),r=t.length===1?i:P$(i,t),n=t.length-1,a=t[n];return r&&delete r[a],n!==0&&(Pr(r)&&Cs(r)||Array.isArray(r)&&F$(r))&&Ir(i,t.slice(0,-1)),i}var H$=i=>{for(const e in i)if(Jl(i[e]))return!0;return!1};function b5(i){return Array.isArray(i)||Pr(i)&&!H$(i)}function tC(i,e={}){for(const t in i){const r=i[t];b5(r)?(e[t]=Array.isArray(r)?[]:{},tC(r,e[t])):sr(r)||(e[t]=!0)}return e}function Ag(i,e,t){t||(t=tC(e));for(const r in i){const n=i[r];if(b5(n))sr(e)||eC(t[r])?t[r]=tC(n,Array.isArray(n)?[]:{}):Ag(n,Js(e)?{}:e[r],t[r]);else{const a=e[r];t[r]=!Qf(n,a)}}return t}const pU={value:!1,isValid:!1},mU={value:!0,isValid:!0};var S5=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!sr(i[0].attributes.value)?sr(i[0].value)||i[0].value===""?mU:{value:i[0].value,isValid:!0}:mU:pU}return pU},A5=(i,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>sr(i)?i:e?i===""?NaN:i&&+i:t&&Ao(i)?new Date(i):r?r(i):i;const gU={isValid:!1,value:null};var E5=i=>Array.isArray(i)?i.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,gU):gU;function vU(i){const e=i.ref;return QR(e)?e.files:eD(e)?E5(i.refs).value:x5(e)?[...e.selectedOptions].map(({value:t})=>t):tx(e)?S5(i.refs).value:A5(sr(e.value)?i.ref.value:e.value,i)}var k$=(i,e,t,r)=>{const n={};for(const a of i){const s=Lt(e,a);s&&Oi(n,a,s._f)}return{criteriaMode:t,names:[...i],fields:n,shouldUseNativeValidation:r}},OS=i=>i instanceof RegExp,t_=i=>sr(i)?i:OS(i)?i.source:Pr(i)?OS(i.value)?i.value.source:i.value:i,_U=i=>({isOnSubmit:!i||i===ql.onSubmit,isOnBlur:i===ql.onBlur,isOnChange:i===ql.onChange,isOnAll:i===ql.all,isOnTouch:i===ql.onTouched});const yU="AsyncFunction";var G$=i=>!!i&&!!i.validate&&!!(Jl(i.validate)&&i.validate.constructor.name===yU||Pr(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===yU)),V$=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),xU=(i,e,t)=>!t&&(e.watchAll||e.watch.has(i)||[...e.watch].some(r=>i.startsWith(r)&&/^\.\w+/.test(i.slice(r.length))));const G_=(i,e,t,r)=>{for(const n of t||Object.keys(i)){const a=Lt(i,n);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],n)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(G_(l,e))break}else if(Pr(l)&&G_(l,e))break}}};function bU(i,e,t){const r=Lt(i,t);if(r||vE(t))return{error:r,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),s=Lt(e,a),l=Lt(i,a);if(s&&!Array.isArray(s)&&t!==a)return{name:t};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};n.pop()}return{name:t}}var j$=(i,e,t,r)=>{t(i);const{name:n,...a}=i;return Cs(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!r||ql.all))},$$=(i,e,t)=>!i||!e||i===e||k_(i).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),X$=(i,e,t,r,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(e||i):(t?r.isOnBlur:n.isOnBlur)?!i:(t?r.isOnChange:n.isOnChange)?i:!0,Z$=(i,e)=>!qR(Lt(i,e)).length&&Ir(i,e),Y$=(i,e,t)=>{const r=k_(Lt(i,t));return Oi(r,"root",e[t]),Oi(i,t,r),i};function SU(i,e,t="validate"){if(Ao(i)||Array.isArray(i)&&i.every(Ao)||Vc(i)&&!i)return{type:t,message:Ao(i)?i:"",ref:e}}var qm=i=>Pr(i)&&!OS(i)?i:{value:i,message:""},AU=async(i,e,t,r,n,a)=>{const{ref:s,refs:l,required:f,maxLength:d,minLength:m,min:g,max:_,pattern:x,validate:b,name:M,valueAsNumber:T,mount:A}=i._f,R=Lt(t,M);if(!A||e.has(M))return{};const B=l?l[0]:s,D=X=>{n&&B.reportValidity&&(B.setCustomValidity(Vc(X)?"":X||""),B.reportValidity())},I={},L=eD(s),P=tx(s),F=L||P,O=(T||QR(s))&&sr(s.value)&&sr(R)||US(s)&&s.value===""||R===""||Array.isArray(R)&&!R.length,U=KR.bind(null,M,r,I),G=(X,te,ce,le=Uu.maxLength,V=Uu.minLength)=>{const q=X?te:ce;I[M]={type:X?le:V,message:q,ref:s,...U(X?le:V,q)}};if(a?!Array.isArray(R)||!R.length:f&&(!F&&(O||Js(R))||Vc(R)&&!R||P&&!S5(l).isValid||L&&!E5(l).isValid)){const{value:X,message:te}=Ao(f)?{value:!!f,message:f}:qm(f);if(X&&(I[M]={type:Uu.required,message:te,ref:B,...U(Uu.required,te)},!r))return D(te),I}if(!O&&(!Js(g)||!Js(_))){let X,te;const ce=qm(_),le=qm(g);if(!Js(R)&&!isNaN(R)){const V=s.valueAsNumber||R&&+R;Js(ce.value)||(X=V>ce.value),Js(le.value)||(te=V<le.value)}else{const V=s.valueAsDate||new Date(R),q=J=>new Date(new Date().toDateString()+" "+J),ee=s.type=="time",ve=s.type=="week";Ao(ce.value)&&R&&(X=ee?q(R)>q(ce.value):ve?R>ce.value:V>new Date(ce.value)),Ao(le.value)&&R&&(te=ee?q(R)<q(le.value):ve?R<le.value:V<new Date(le.value))}if((X||te)&&(G(!!X,ce.message,le.message,Uu.max,Uu.min),!r))return D(I[M].message),I}if((d||m)&&!O&&(Ao(R)||a&&Array.isArray(R))){const X=qm(d),te=qm(m),ce=!Js(X.value)&&R.length>+X.value,le=!Js(te.value)&&R.length<+te.value;if((ce||le)&&(G(ce,X.message,te.message),!r))return D(I[M].message),I}if(x&&!O&&Ao(R)){const{value:X,message:te}=qm(x);if(OS(X)&&!R.match(X)&&(I[M]={type:Uu.pattern,message:te,ref:s,...U(Uu.pattern,te)},!r))return D(te),I}if(b){if(Jl(b)){const X=await b(R,t),te=SU(X,B);if(te&&(I[M]={...te,...U(Uu.validate,te.message)},!r))return D(te.message),I}else if(Pr(b)){let X={};for(const te in b){if(!Cs(X)&&!r)break;const ce=SU(await b[te](R,t),B,te);ce&&(X={...ce,...U(te,ce.message)},D(ce.message),r&&(I[M]=X))}if(!Cs(X)&&(I[M]={ref:B,...X},!r))return I}}return D(!0),I};const J$={mode:ql.onSubmit,reValidateMode:ql.onChange,shouldFocusError:!0};function q$(i={}){let e={...J$,...i},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Jl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},n=Pr(e.defaultValues)||Pr(e.values)?Wr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Wr(n),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,d=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...m};let _={...g};const x={array:hU(),state:hU()},b=e.criteriaMode===ql.all,M=K=>de=>{clearTimeout(d),d=setTimeout(K,de)},T=async K=>{if(!s.keepIsValid&&!e.disabled&&(g.isValid||_.isValid||K)){let de;e.resolver?(de=Cs((await F()).errors),A()):de=await U(r,!0),de!==t.isValid&&x.state.next({isValid:de})}},A=(K,de)=>{!e.disabled&&(g.isValidating||g.validatingFields||_.isValidating||_.validatingFields)&&((K||Array.from(l.mount)).forEach(k=>{k&&(de?Oi(t.validatingFields,k,de):Ir(t.validatingFields,k))}),x.state.next({validatingFields:t.validatingFields,isValidating:!Cs(t.validatingFields)}))},R=(K,de=[],k,H,ie=!0,oe=!0)=>{if(H&&k&&!e.disabled){if(s.action=!0,oe&&Array.isArray(Lt(r,K))){const ye=k(Lt(r,K),H.argA,H.argB);ie&&Oi(r,K,ye)}if(oe&&Array.isArray(Lt(t.errors,K))){const ye=k(Lt(t.errors,K),H.argA,H.argB);ie&&Oi(t.errors,K,ye),Z$(t.errors,K)}if((g.touchedFields||_.touchedFields)&&oe&&Array.isArray(Lt(t.touchedFields,K))){const ye=k(Lt(t.touchedFields,K),H.argA,H.argB);ie&&Oi(t.touchedFields,K,ye)}(g.dirtyFields||_.dirtyFields)&&(t.dirtyFields=Ag(n,a)),x.state.next({name:K,isDirty:X(K,de),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Oi(a,K,de)},B=(K,de)=>{Oi(t.errors,K,de),x.state.next({errors:t.errors})},D=K=>{t.errors=K,x.state.next({errors:t.errors,isValid:!1})},I=(K,de,k,H)=>{const ie=Lt(r,K);if(ie){const oe=Lt(a,K,sr(k)?Lt(n,K):k);sr(oe)||H&&H.defaultChecked||de?Oi(a,K,de?oe:vU(ie._f)):le(K,oe),s.mount&&!s.action&&T()}},L=(K,de,k,H,ie)=>{let oe=!1,ye=!1;const xe={name:K};if(!e.disabled){if(!k||H){(g.isDirty||_.isDirty)&&(ye=t.isDirty,t.isDirty=xe.isDirty=X(),oe=ye!==xe.isDirty);const at=Qf(Lt(n,K),de);ye=!!Lt(t.dirtyFields,K),at?Ir(t.dirtyFields,K):Oi(t.dirtyFields,K,!0),xe.dirtyFields=t.dirtyFields,oe=oe||(g.dirtyFields||_.dirtyFields)&&ye!==!at}if(k){const at=Lt(t.touchedFields,K);at||(Oi(t.touchedFields,K,k),xe.touchedFields=t.touchedFields,oe=oe||(g.touchedFields||_.touchedFields)&&at!==k)}oe&&ie&&x.state.next(xe)}return oe?xe:{}},P=(K,de,k,H)=>{const ie=Lt(t.errors,K),oe=(g.isValid||_.isValid)&&Vc(de)&&t.isValid!==de;if(e.delayError&&k?(f=M(()=>B(K,k)),f(e.delayError)):(clearTimeout(d),f=null,k?Oi(t.errors,K,k):Ir(t.errors,K)),(k?!Qf(ie,k):ie)||!Cs(H)||oe){const ye={...H,...oe&&Vc(de)?{isValid:de}:{},errors:t.errors,name:K};t={...t,...ye},x.state.next(ye)}},F=async K=>(A(K,!0),await e.resolver(a,e.context,k$(K||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),O=async K=>{const{errors:de}=await F(K);if(A(K),K)for(const k of K){const H=Lt(de,k);H?Oi(t.errors,k,H):Ir(t.errors,k)}else t.errors=de;return de},U=async(K,de,k={valid:!0})=>{for(const H in K){const ie=K[H];if(ie){const{_f:oe,...ye}=ie;if(oe){const xe=l.array.has(oe.name),at=ie._f&&G$(ie._f);at&&g.validatingFields&&A([oe.name],!0);const Je=await AU(ie,l.disabled,a,b,e.shouldUseNativeValidation&&!de,xe);if(at&&g.validatingFields&&A([oe.name]),Je[oe.name]&&(k.valid=!1,de||i.shouldUseNativeValidation))break;!de&&(Lt(Je,oe.name)?xe?Y$(t.errors,Je,oe.name):Oi(t.errors,oe.name,Je[oe.name]):Ir(t.errors,oe.name))}!Cs(ye)&&await U(ye,de,k)}}return k.valid},G=()=>{for(const K of l.unMount){const de=Lt(r,K);de&&(de._f.refs?de._f.refs.every(k=>!aT(k)):!aT(de._f.ref))&&Ze(K)}l.unMount=new Set},X=(K,de)=>!e.disabled&&(K&&de&&Oi(a,K,de),!Qf(Z(),n)),te=(K,de,k)=>I$(K,l,{...s.mount?a:sr(de)?n:Ao(K)?{[K]:de}:de},k,de),ce=K=>qR(Lt(s.mount?a:n,K,e.shouldUnregister?Lt(n,K,[]):[])),le=(K,de,k={})=>{const H=Lt(r,K);let ie=de;if(H){const oe=H._f;oe&&(!oe.disabled&&Oi(a,K,A5(de,oe)),ie=US(oe.ref)&&Js(de)?"":de,x5(oe.ref)?[...oe.ref.options].forEach(ye=>ye.selected=ie.includes(ye.value)):oe.refs?tx(oe.ref)?oe.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(ie)?ye.checked=!!ie.find(xe=>xe===ye.value):ye.checked=ie===ye.value||!!ie)}):oe.refs.forEach(ye=>ye.checked=ye.value===ie):QR(oe.ref)?oe.ref.value="":(oe.ref.value=ie,oe.ref.type||x.state.next({name:K,values:Wr(a)})))}(k.shouldDirty||k.shouldTouch)&&L(K,ie,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&J(K)},V=(K,de,k)=>{for(const H in de){if(!de.hasOwnProperty(H))return;const ie=de[H],oe=K+"."+H,ye=Lt(r,oe);(l.array.has(K)||Pr(ie)||ye&&!ye._f)&&!Wh(ie)?V(oe,ie,k):le(oe,ie,k)}},q=(K,de,k={})=>{const H=Lt(r,K),ie=l.array.has(K),oe=Wr(de);Oi(a,K,oe),ie?(x.array.next({name:K,values:Wr(a)}),(g.isDirty||g.dirtyFields||_.isDirty||_.dirtyFields)&&k.shouldDirty&&x.state.next({name:K,dirtyFields:Ag(n,a),isDirty:X(K,oe)})):H&&!H._f&&!Js(oe)?V(K,oe,k):le(K,oe,k),xU(K,l)?x.state.next({...t,name:K,values:Wr(a)}):x.state.next({name:s.mount?K:void 0,values:Wr(a)})},ee=async K=>{s.mount=!0;const de=K.target;let k=de.name,H=!0;const ie=Lt(r,k),oe=at=>{H=Number.isNaN(at)||Wh(at)&&isNaN(at.getTime())||Qf(at,Lt(a,k,at))},ye=_U(e.mode),xe=_U(e.reValidateMode);if(ie){let at,Je;const _t=de.type?vU(ie._f):w$(K),ut=K.type===dU.BLUR||K.type===dU.FOCUS_OUT,Ke=!V$(ie._f)&&!e.resolver&&!Lt(t.errors,k)&&!ie._f.deps||X$(ut,Lt(t.touchedFields,k),t.isSubmitted,xe,ye),tt=xU(k,l,ut);Oi(a,k,_t),ut?(!de||!de.readOnly)&&(ie._f.onBlur&&ie._f.onBlur(K),f&&f(0)):ie._f.onChange&&ie._f.onChange(K);const St=L(k,_t,ut),se=!Cs(St)||tt;if(!ut&&x.state.next({name:k,type:K.type,values:Wr(a)}),Ke)return(g.isValid||_.isValid)&&(e.mode==="onBlur"?ut&&T():ut||T()),se&&x.state.next({name:k,...tt?{}:St});if(!ut&&tt&&x.state.next({...t}),e.resolver){const{errors:Te}=await F([k]);if(A([k]),oe(_t),H){const st=bU(t.errors,r,k),re=bU(Te,r,st.name||k);at=re.error,k=re.name,Je=Cs(Te)}}else A([k],!0),at=(await AU(ie,l.disabled,a,b,e.shouldUseNativeValidation))[k],A([k]),oe(_t),H&&(at?Je=!1:(g.isValid||_.isValid)&&(Je=await U(r,!0)));H&&(ie._f.deps&&(!Array.isArray(ie._f.deps)||ie._f.deps.length>0)&&J(ie._f.deps),P(k,Je,at,St))}},ve=(K,de)=>{if(Lt(t.errors,de)&&K.focus)return K.focus(),1},J=async(K,de={})=>{let k,H;const ie=k_(K);if(e.resolver){const oe=await O(sr(K)?K:ie);k=Cs(oe),H=K?!ie.some(ye=>Lt(oe,ye)):k}else K?(H=(await Promise.all(ie.map(async oe=>{const ye=Lt(r,oe);return await U(ye&&ye._f?{[oe]:ye}:ye)}))).every(Boolean),!(!H&&!t.isValid)&&T()):H=k=await U(r);return x.state.next({...!Ao(K)||(g.isValid||_.isValid)&&k!==t.isValid?{}:{name:K},...e.resolver||!K?{isValid:k}:{},errors:t.errors}),de.shouldFocus&&!H&&G_(r,ve,K?ie:l.mount),H},Z=(K,de)=>{let k={...s.mount?a:n};return de&&(k=y5(de.dirtyFields?t.dirtyFields:t.touchedFields,k)),sr(K)?k:Ao(K)?Lt(k,K):K.map(H=>Lt(k,H))},he=(K,de)=>({invalid:!!Lt((de||t).errors,K),isDirty:!!Lt((de||t).dirtyFields,K),error:Lt((de||t).errors,K),isValidating:!!Lt(t.validatingFields,K),isTouched:!!Lt((de||t).touchedFields,K)}),Be=K=>{K&&k_(K).forEach(de=>Ir(t.errors,de)),x.state.next({errors:K?t.errors:{}})},we=(K,de,k)=>{const H=(Lt(r,K,{_f:{}})._f||{}).ref,ie=Lt(t.errors,K)||{},{ref:oe,message:ye,type:xe,...at}=ie;Oi(t.errors,K,{...at,...de,ref:H}),x.state.next({name:K,errors:t.errors,isValid:!1}),k&&k.shouldFocus&&H&&H.focus&&H.focus()},Xe=(K,de)=>Jl(K)?x.state.subscribe({next:k=>"values"in k&&K(te(void 0,de),k)}):te(K,de,!0),_e=K=>x.state.subscribe({next:de=>{$$(K.name,de.name,K.exact)&&j$(de,K.formState||g,lt,K.reRenderRoot)&&K.callback({values:{...a},...t,...de,defaultValues:n})}}).unsubscribe,Ce=K=>(s.mount=!0,_={..._,...K.formState},_e({...K,formState:{...m,...K.formState}})),Ze=(K,de={})=>{for(const k of K?k_(K):l.mount)l.mount.delete(k),l.array.delete(k),de.keepValue||(Ir(r,k),Ir(a,k)),!de.keepError&&Ir(t.errors,k),!de.keepDirty&&Ir(t.dirtyFields,k),!de.keepTouched&&Ir(t.touchedFields,k),!de.keepIsValidating&&Ir(t.validatingFields,k),!e.shouldUnregister&&!de.keepDefaultValue&&Ir(n,k);x.state.next({values:Wr(a)}),x.state.next({...t,...de.keepDirty?{isDirty:X()}:{}}),!de.keepIsValid&&T()},et=({disabled:K,name:de})=>{if(Vc(K)&&s.mount||K||l.disabled.has(de)){const ie=l.disabled.has(de)!==!!K;K?l.disabled.add(de):l.disabled.delete(de),ie&&s.mount&&!s.action&&T()}},mt=(K,de={})=>{let k=Lt(r,K);const H=Vc(de.disabled)||Vc(e.disabled);return Oi(r,K,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:K}},name:K,mount:!0,...de}}),l.mount.add(K),k?et({disabled:Vc(de.disabled)?de.disabled:e.disabled,name:K}):I(K,!0,de.value),{...H?{disabled:de.disabled||e.disabled}:{},...e.progressive?{required:!!de.required,min:t_(de.min),max:t_(de.max),minLength:t_(de.minLength),maxLength:t_(de.maxLength),pattern:t_(de.pattern)}:{},name:K,onChange:ee,onBlur:ee,ref:ie=>{if(ie){mt(K,de),k=Lt(r,K);const oe=sr(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,ye=L$(oe),xe=k._f.refs||[];if(ye?xe.find(at=>at===oe):oe===k._f.ref)return;Oi(r,K,{_f:{...k._f,...ye?{refs:[...xe.filter(aT),oe,...Array.isArray(Lt(n,K))?[{}]:[]],ref:{type:oe.type,name:K}}:{ref:oe}}}),I(K,!1,void 0,oe)}else k=Lt(r,K,{}),k._f&&(k._f.mount=!1),(e.shouldUnregister||de.shouldUnregister)&&!(D$(l.array,K)&&s.action)&&l.unMount.add(K)}}},Mt=()=>e.shouldFocusError&&G_(r,ve,l.mount),kt=K=>{Vc(K)&&(x.state.next({disabled:K}),G_(r,(de,k)=>{const H=Lt(r,k);H&&(de.disabled=H._f.disabled||K,Array.isArray(H._f.refs)&&H._f.refs.forEach(ie=>{ie.disabled=H._f.disabled||K}))},0,!1))},Q=(K,de)=>async k=>{let H;k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let ie=Wr(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:ye}=await F();A(),t.errors=oe,ie=Wr(ye)}else await U(r);if(l.disabled.size)for(const oe of l.disabled)Ir(ie,oe);if(Ir(t.errors,"root"),Cs(t.errors)){x.state.next({errors:{}});try{await K(ie,k)}catch(oe){H=oe}}else de&&await de({...t.errors},k),Mt(),setTimeout(Mt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cs(t.errors)&&!H,submitCount:t.submitCount+1,errors:t.errors}),H)throw H},Ie=(K,de={})=>{Lt(r,K)&&(sr(de.defaultValue)?q(K,Wr(Lt(n,K))):(q(K,de.defaultValue),Oi(n,K,Wr(de.defaultValue))),de.keepTouched||Ir(t.touchedFields,K),de.keepDirty||(Ir(t.dirtyFields,K),t.isDirty=de.defaultValue?X(K,Wr(Lt(n,K))):X()),de.keepError||(Ir(t.errors,K),g.isValid&&T()),x.state.next({...t}))},Le=(K,de={})=>{const k=K?Wr(K):n,H=Wr(k),ie=Cs(K),oe=ie?n:H;if(de.keepDefaultValues||(n=k),!de.keepValues){if(de.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(Ag(n,a))]);for(const xe of Array.from(ye)){const at=Lt(t.dirtyFields,xe),Je=Lt(a,xe),_t=Lt(oe,xe);at&&!sr(Je)?Oi(oe,xe,Je):!at&&!sr(_t)&&q(xe,_t)}}else{if(JR&&sr(K))for(const ye of l.mount){const xe=Lt(r,ye);if(xe&&xe._f){const at=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(US(at)){const Je=at.closest("form");if(Je){Je.reset();break}}}}if(de.keepFieldsRef)for(const ye of l.mount)q(ye,Lt(oe,ye));else r={}}a=e.shouldUnregister?de.keepDefaultValues?Wr(n):{}:Wr(oe),x.array.next({values:{...oe}}),x.state.next({values:{...oe}})}l={mount:de.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!g.isValid||!!de.keepIsValid||!!de.keepDirtyValues||!e.shouldUnregister&&!Cs(oe),s.watch=!!e.shouldUnregister,s.keepIsValid=!!de.keepIsValid,s.action=!1,de.keepErrors||(t.errors={}),x.state.next({submitCount:de.keepSubmitCount?t.submitCount:0,isDirty:ie?!1:de.keepDirty?t.isDirty:!!(de.keepDefaultValues&&!Qf(K,n)),isSubmitted:de.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ie?{}:de.keepDirtyValues?de.keepDefaultValues&&a?Ag(n,a):t.dirtyFields:de.keepDefaultValues&&K?Ag(n,K):de.keepDirty?t.dirtyFields:{},touchedFields:de.keepTouched?t.touchedFields:{},errors:de.keepErrors?t.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Fe=(K,de)=>Le(Jl(K)?K(a):K,{...e.resetOptions,...de}),ae=(K,de={})=>{const k=Lt(r,K),H=k&&k._f;if(H){const ie=H.refs?H.refs[0]:H.ref;ie.focus&&setTimeout(()=>{ie.focus(),de.shouldSelect&&Jl(ie.select)&&ie.select()})}},lt=K=>{t={...t,...K}},rt={control:{register:mt,unregister:Ze,getFieldState:he,handleSubmit:Q,setError:we,_subscribe:_e,_runSchema:F,_updateIsValidating:A,_focusError:Mt,_getWatch:te,_getDirty:X,_setValid:T,_setFieldArray:R,_setDisabledField:et,_setErrors:D,_getFieldArray:ce,_reset:Le,_resetDefaultValues:()=>Jl(e.defaultValues)&&e.defaultValues().then(K=>{Fe(K,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:kt,_subjects:x,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(K){s=K},get _defaultValues(){return n},get _names(){return l},set _names(K){l=K},get _formState(){return t},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:Ce,trigger:J,register:mt,handleSubmit:Q,watch:Xe,setValue:q,getValues:Z,reset:Fe,resetField:Ie,clearErrors:Be,unregister:Ze,setError:we,setFocus:ae,getFieldState:he};return{...rt,formControl:rt}}function W$(i={}){const e=ar.useRef(void 0),t=ar.useRef(void 0),[r,n]=ar.useState({isDirty:!1,isValidating:!1,isLoading:Jl(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,isReady:!1,defaultValues:Jl(i.defaultValues)?void 0:i.defaultValues});if(!e.current)if(i.formControl)e.current={...i.formControl,formState:r},i.defaultValues&&!Jl(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions);else{const{formControl:s,...l}=q$(i);e.current={...l,formState:r}}const a=e.current.control;return a._options=i,N$(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),ar.useEffect(()=>a._disableForm(i.disabled),[a,i.disabled]),ar.useEffect(()=>{i.mode&&(a._options.mode=i.mode),i.reValidateMode&&(a._options.reValidateMode=i.reValidateMode)},[a,i.mode,i.reValidateMode]),ar.useEffect(()=>{i.errors&&(a._setErrors(i.errors),a._focusError())},[a,i.errors]),ar.useEffect(()=>{i.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,i.shouldUnregister]),ar.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==r.isDirty&&a._subjects.state.next({isDirty:s})}},[a,r.isDirty]),ar.useEffect(()=>{var s;i.values&&!Qf(i.values,t.current)?(a._reset(i.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((s=a._options.resetOptions)===null||s===void 0)&&s.keepIsValid||a._setValid(),t.current=i.values,n(l=>({...l}))):a._resetDefaultValues()},[a,i.values]),ar.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=ar.useMemo(()=>O$(r,a),[a,r]),e.current}const EU=(i,e,t)=>{if(i&&"reportValidity"in i){const r=Lt(t,e);i.setCustomValidity(r&&r.message||""),i.reportValidity()}},nC=(i,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?EU(r.ref,t,i):r&&r.refs&&r.refs.forEach(n=>EU(n,t,i))}},MU=(i,e)=>{e.shouldUseNativeValidation&&nC(i,e);const t={};for(const r in i){const n=Lt(e.fields,r),a=Object.assign(i[r]||{},{ref:n&&n.ref});if(K$(e.names||Object.keys(i),r)){const s=Object.assign({},Lt(t,r));Oi(s,"root",a),Oi(t,r,s)}else Oi(t,r,a)}return t},K$=(i,e)=>{const t=TU(e);return i.some(r=>TU(r).match(`^${t}\\.\\d+`))};function TU(i){return i.replace(/\]|\[/g,"")}function CU(i,e){try{var t=i()}catch(r){return e(r)}return t&&t.then?t.then(void 0,e):t}function Q$(i,e){for(var t={};i.length;){var r=i[0],n=r.code,a=r.message,s=r.path.join(".");if(!t[s])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];t[s]={message:l.message,type:l.code}}else t[s]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(m){return m.errors.forEach(function(g){return i.push(g)})}),e){var f=t[s].types,d=f&&f[r.code];t[s]=KR(s,e,t,n,d?[].concat(d,r.message):r.message)}i.shift()}return t}function eX(i,e){for(var t={};i.length;){var r=i[0],n=r.code,a=r.message,s=r.path.join(".");if(!t[s])if(r.code==="invalid_union"&&r.errors.length>0){var l=r.errors[0][0];t[s]={message:l.message,type:l.code}}else t[s]={message:a,type:n};if(r.code==="invalid_union"&&r.errors.forEach(function(m){return m.forEach(function(g){return i.push(g)})}),e){var f=t[s].types,d=f&&f[r.code];t[s]=KR(s,e,t,n,d?[].concat(d,r.message):r.message)}i.shift()}return t}function tX(i,e,t){if(t===void 0&&(t={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(i))return function(r,n,a){try{return Promise.resolve(CU(function(){return Promise.resolve(i[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(s){return a.shouldUseNativeValidation&&nC({},a),{errors:{},values:t.raw?Object.assign({},r):s}})},function(s){if((function(l){return Array.isArray(l?.issues)})(s))return{values:{},errors:MU(Q$(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(i))return function(r,n,a){try{return Promise.resolve(CU(function(){return Promise.resolve((t.mode==="sync"?MS:TS)(i,r,e)).then(function(s){return a.shouldUseNativeValidation&&nC({},a),{errors:{},values:t.raw?Object.assign({},r):s}})},function(s){if((function(l){return l instanceof RA})(s))return{values:{},errors:MU(eX(s.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}};throw new Error("Invalid input: not a Zod schema")}const tD=({title:i,sub:e})=>ne.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[ne.jsx("div",{className:"hero-badge",children:ne.jsx("p",{children:i})}),ne.jsx("div",{className:"font-semibold text-3xl md:text-5xl text-center",children:e})]}),nX=({text:i,className:e,id:t})=>ne.jsx("a",{onClick:r=>{r.preventDefault();const n=document.getElementById("counter");if(n&&t){const a=window.innerHeight*.15,s=n.getBoundingClientRect().top+window.screenY-a;window.scrollTo({top:s,behavior:"smooth"})}},className:`${e??""} cta-wrapper`,children:ne.jsxs("div",{className:"cta-button group",children:[ne.jsx("div",{className:"bg-circle"}),ne.jsx("p",{className:"text",children:i}),ne.jsx("div",{className:"arrow-wrapper",children:ne.jsx("img",{src:"/images/arrow-down.svg",alt:"arrow"})})]})}),iX=q1.object({name:q1.string().min(3,"Name must be at least 3 characters"),email:q1.string().email("Invalid email"),message:q1.string().min(5,"Message too short").max(500)}),rX=()=>{const{register:i,handleSubmit:e,reset:t,formState:{errors:r}}=W$({resolver:tX(iX)}),n=a=>{console.log(a),t()};return ne.jsx("section",{id:"contact",className:"section-padding",children:ne.jsxs("div",{className:"w-full h-full md:px-10 px-5",children:[ne.jsx(tD,{title:"Get in Touch  Lets Connect",sub:" Have questions or ideas? Lets talk!"}),ne.jsxs("div",{className:"grid-12-cols mt-16",children:[ne.jsx("div",{className:"xl:col-span-5",children:ne.jsx("div",{className:"flex-center card-border rounded-xl p-10",children:ne.jsxs("form",{onSubmit:e(n),className:"w-full flex flex-col gap-5",children:[ne.jsxs("div",{children:[ne.jsx("input",{...i("name"),placeholder:"Your Name",className:"input-style"}),r.name&&ne.jsx("p",{className:"text-red-600",children:r.name.message})]}),ne.jsxs("div",{children:[ne.jsx("input",{...i("email"),placeholder:"Your Email",className:"input-style"}),r.email&&ne.jsx("p",{className:"text-red-600",children:r.email.message})]}),ne.jsxs("div",{children:[ne.jsx("textarea",{...i("message"),placeholder:"Your Message",rows:5,className:"input-style resize-none"}),r.message&&ne.jsx("p",{className:"text-red-600",children:r.message.message})]}),ne.jsx("button",{type:"submit",children:ne.jsxs("div",{className:"cta-button group",children:[ne.jsx("div",{className:"bg-circle"}),ne.jsx("p",{className:"text",children:"Send Message"}),ne.jsx("div",{className:"arrow-wrapper",children:ne.jsx("img",{src:"/images/arrow-down.svg",alt:"arrow"})})]})})]})})}),ne.jsx("div",{className:"xl:col-span-7 min-h-96"})]})]})})},aX=({card:i,children:e,index:t})=>{const r=ot.useRef([]),n=a=>s=>{const l=r.current[a];if(!l)return;const f=l.getBoundingClientRect(),d=s.clientX-f.left-f.width/2,m=s.clientY-f.top-f.height/2;let g=Math.atan2(m,d)*(180/Math.PI);g=(g+360)%360,l.style.setProperty("--start",g+60)};return ne.jsxs("div",{ref:a=>r.current[t]=a,onMouseMove:n(t),className:"card card-border timeline-card rounded-xl p-10",children:[ne.jsx("div",{className:"glow"}),ne.jsx("div",{className:"flex items-center gap-1 mb-5",children:Array.from({length:5},(a,s)=>ne.jsx("img",{src:"/images/star.png",alt:"stars",className:"size-5"},s))}),ne.jsx("div",{className:"mb-5",children:ne.jsx("p",{className:"text-white-50",children:i.review})}),ne.jsx("div",{children:e})]})},sX=()=>ne.jsx("section",{id:"experience",className:"section-padding xl:px-0 w-full",children:ne.jsxs("div",{className:"w-full h-full md:px-20 px-5",children:[ne.jsx(tD,{title:" My Career Overview",sub:"Professional Work Experience"}),ne.jsx("div",{className:"mt-32 relative",children:ne.jsx("div",{className:"relative z-50 space-y-10 xl:space-y-32",children:lk.map((i,e)=>ne.jsxs("div",{className:"exp-card-wrapper",children:[ne.jsx("div",{className:"xl:w-2/6",children:ne.jsx(aX,{card:i,index:e,children:ne.jsx("img",{src:i.imgPath,alt:i.title})})}),ne.jsx("div",{className:"xl:w-4/6",children:ne.jsxs("div",{className:"flex items-start",children:[ne.jsxs("div",{className:"absolute top-0 xl:left-[35.2vw] md:left-10 left-5 h-full flex justify-center",children:[ne.jsx("div",{className:"absolute z-30 h-[110%] -top-10 w-14 md:w-28 bg-red"}),ne.jsx("div",{className:"gradient-line w-1 h-full"})]}),ne.jsxs("div",{className:"flex xl:gap-20 md:gap-10 gap-5 relative z-20",children:[ne.jsx("div",{className:"time-line-logo rounded-full p-3 w-20 h-19 flex items-center justify-center bg-[#0f172a]",children:ne.jsx("img",{src:i.logoPath,alt:"logo"})}),ne.jsxs("div",{children:[ne.jsx("h1",{className:"text-3xl font-semibold",children:i.title}),ne.jsxs("p",{className:"my-5 text-white-50",children:[" ",i.date]}),ne.jsx("p",{className:"italic text-[#839cb5]",children:"Responsibilities"}),ne.jsx("ul",{className:"list-disc ms-5 flex flex-col gap-3 text-white-50",children:i.responsibilities.map((t,r)=>ne.jsx("li",{className:"text-lg",children:t},r))}),i.strengths&&ne.jsxs(ne.Fragment,{children:[ne.jsx("p",{className:"italic text-[#839cb5] mt-6",children:"Key Strengths"}),ne.jsx("ul",{className:"flex flex-wrap gap-3 mt-3",children:i.strengths.map((t,r)=>ne.jsx("li",{className:"px-4 py-2 rounded bg-[#1e293b] text-sm text-white-80",children:t},r))})]}),i.techStack&&ne.jsxs(ne.Fragment,{children:[ne.jsx("p",{className:"italic text-[#839cb5] mt-6",children:"Tech Stack"}),ne.jsx("p",{className:"mt-2 text-white-50",children:i.techStack.join("  ")})]})]})]})]})})]},i.title))})})]})}),oX=()=>ne.jsx("div",{className:"w-full padding-x-lg",children:ne.jsx("div",{className:"mx-auto grid-3-cols",children:sk.map((i,e)=>ne.jsxs("div",{className:"card-border p-8 flex flex-col rounded-xl gap-4",children:[ne.jsx("div",{className:"h-[52px] w-[52px] flex items-center",children:ne.jsx("img",{src:i.imgPath,alt:i.title,className:"border rounded-full p-0.5 border-gray-50/8"})}),ne.jsx("h2",{className:"font-semibold text-xl",children:i.title}),ne.jsx("p",{className:"text-[14px] text-gray-500",children:i.desc})]},e))})});function iC(){return iC=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},iC.apply(null,arguments)}const Op="180",Vh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},jh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},M5=0,rC=1,T5=2,lX=3,C5=0,_E=1,V_=2,Xl=3,tc=0,ea=1,Is=2,es=0,dd=1,aC=2,sC=3,oC=4,w5=5,ed=100,R5=101,D5=102,B5=103,U5=104,O5=200,N5=201,I5=202,z5=203,NS=204,IS=205,L5=206,P5=207,F5=208,H5=209,k5=210,G5=211,V5=212,j5=213,$5=214,py=0,Qg=1,ev=2,Sd=3,xp=4,my=5,gy=6,tv=7,nx=0,X5=1,Z5=2,ec=0,Y5=1,J5=2,q5=3,nD=4,W5=5,K5=6,Q5=7,lC="attached",e8="detached",yE=300,ef=301,Ad=302,vy=303,_y=304,vv=306,Ed=1e3,To=1001,nv=1002,Wi=1003,xE=1004,cX=1004,Kh=1005,uX=1005,ki=1006,Ig=1007,fX=1007,hl=1008,dX=1008,Fr=1009,iD=1010,rD=1011,iv=1012,bE=1013,Qc=1014,Ls=1015,Np=1016,SE=1017,AE=1018,bp=1020,aD=35902,sD=35899,oD=1021,lD=1022,Ka=1023,rv=1026,Sp=1027,EE=1028,ix=1029,cD=1030,ME=1031,hX=1032,TE=1033,j_=33776,$_=33777,X_=33778,Z_=33779,zS=35840,LS=35841,PS=35842,FS=35843,HS=36196,kS=37492,GS=37496,VS=37808,jS=37809,$S=37810,XS=37811,ZS=37812,YS=37813,JS=37814,qS=37815,WS=37816,KS=37817,QS=37818,eA=37819,tA=37820,nA=37821,iA=36492,rA=36494,aA=36495,sA=36283,oA=36284,lA=36285,cA=36286,t8=2200,n8=2201,i8=2202,av=2300,sv=2301,rS=2302,Qh=2400,ep=2401,yy=2402,CE=2500,uD=2501,r8=0,fD=1,uA=2,nc=3200,wE=3201,pX=3202,mX=3203,wd=0,a8=1,Wl="",ni="srgb",eu="srgb-linear",xy="linear",xi="srgb",gX=0,$h=7680,vX=7681,_X=7682,yX=7683,xX=34055,bX=34056,SX=5386,AX=512,EX=513,MX=514,TX=515,CX=516,wX=517,RX=518,cC=519,s8=512,o8=513,l8=514,dD=515,c8=516,u8=517,f8=518,d8=519,by=35044,DX=35048,BX=35040,UX=35045,OX=35049,NX=35041,IX=35046,zX=35050,LX=35042,PX="100",uC="300 es",Co=2e3,ov=2001,FX={COMPUTE:"compute",RENDER:"render"},HX={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},kX={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Lo=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const n=r[e];if(n!==void 0){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const n=r.slice(0);for(let a=0,s=n.length;a<s;a++)n[a].call(this,e);e.target=null}}};const ja=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let wU=1234567;const dp=Math.PI/180,lv=180/Math.PI;function Do(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ja[i&255]+ja[i>>8&255]+ja[i>>16&255]+ja[i>>24&255]+"-"+ja[e&255]+ja[e>>8&255]+"-"+ja[e>>16&15|64]+ja[e>>24&255]+"-"+ja[t&63|128]+ja[t>>8&255]+"-"+ja[t>>16&255]+ja[t>>24&255]+ja[r&255]+ja[r>>8&255]+ja[r>>16&255]+ja[r>>24&255]).toLowerCase()}function an(i,e,t){return Math.max(e,Math.min(t,i))}function hD(i,e){return(i%e+e)%e}function GX(i,e,t,r,n){return r+(i-e)*(n-r)/(t-e)}function VX(i,e,t){return i!==e?(t-i)/(e-i):0}function Y_(i,e,t){return(1-t)*i+t*e}function jX(i,e,t,r){return Y_(i,e,1-Math.exp(-t*r))}function $X(i,e=1){return e-Math.abs(hD(i,e*2)-e)}function XX(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function ZX(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function YX(i,e){return i+Math.floor(Math.random()*(e-i+1))}function JX(i,e){return i+Math.random()*(e-i)}function qX(i){return i*(.5-Math.random())}function WX(i){i!==void 0&&(wU=i);let e=wU+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function KX(i){return i*dp}function QX(i){return i*lv}function eZ(i){return(i&i-1)===0&&i!==0}function tZ(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function nZ(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function iZ(i,e,t,r,n){const a=Math.cos,s=Math.sin,l=a(t/2),f=s(t/2),d=a((e+r)/2),m=s((e+r)/2),g=a((e-r)/2),_=s((e-r)/2),x=a((r-e)/2),b=s((r-e)/2);switch(n){case"XYX":i.set(l*m,f*g,f*_,l*d);break;case"YZY":i.set(f*_,l*m,f*g,l*d);break;case"ZXZ":i.set(f*g,f*_,l*m,l*d);break;case"XZX":i.set(l*m,f*b,f*x,l*d);break;case"YXY":i.set(f*x,l*m,f*b,l*d);break;case"ZYZ":i.set(f*b,f*x,l*m,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function zs(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function yn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const pD={DEG2RAD:dp,RAD2DEG:lv,generateUUID:Do,clamp:an,euclideanModulo:hD,mapLinear:GX,inverseLerp:VX,lerp:Y_,damp:jX,pingpong:$X,smoothstep:XX,smootherstep:ZX,randInt:YX,randFloat:JX,randFloatSpread:qX,seededRandom:WX,degToRad:KX,radToDeg:QX,isPowerOfTwo:eZ,ceilPowerOfTwo:tZ,floorPowerOfTwo:nZ,setQuaternionFromProperEuler:iZ,normalize:yn,denormalize:zs};class He{constructor(e=0,t=0){He.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(an(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(an(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),n=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*n+e.x,this.y=a*n+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class va{constructor(e=0,t=0,r=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=n}static slerpFlat(e,t,r,n,a,s,l){let f=r[n+0],d=r[n+1],m=r[n+2],g=r[n+3];const _=a[s+0],x=a[s+1],b=a[s+2],M=a[s+3];if(l===0){e[t+0]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g;return}if(l===1){e[t+0]=_,e[t+1]=x,e[t+2]=b,e[t+3]=M;return}if(g!==M||f!==_||d!==x||m!==b){let T=1-l;const A=f*_+d*x+m*b+g*M,R=A>=0?1:-1,B=1-A*A;if(B>Number.EPSILON){const I=Math.sqrt(B),L=Math.atan2(I,A*R);T=Math.sin(T*L)/I,l=Math.sin(l*L)/I}const D=l*R;if(f=f*T+_*D,d=d*T+x*D,m=m*T+b*D,g=g*T+M*D,T===1-l){const I=1/Math.sqrt(f*f+d*d+m*m+g*g);f*=I,d*=I,m*=I,g*=I}}e[t]=f,e[t+1]=d,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,r,n,a,s){const l=r[n],f=r[n+1],d=r[n+2],m=r[n+3],g=a[s],_=a[s+1],x=a[s+2],b=a[s+3];return e[t]=l*b+m*g+f*x-d*_,e[t+1]=f*b+m*_+d*g-l*x,e[t+2]=d*b+m*x+l*_-f*g,e[t+3]=m*b-l*g-f*_-d*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,n=e._y,a=e._z,s=e._order,l=Math.cos,f=Math.sin,d=l(r/2),m=l(n/2),g=l(a/2),_=f(r/2),x=f(n/2),b=f(a/2);switch(s){case"XYZ":this._x=_*m*g+d*x*b,this._y=d*x*g-_*m*b,this._z=d*m*b+_*x*g,this._w=d*m*g-_*x*b;break;case"YXZ":this._x=_*m*g+d*x*b,this._y=d*x*g-_*m*b,this._z=d*m*b-_*x*g,this._w=d*m*g+_*x*b;break;case"ZXY":this._x=_*m*g-d*x*b,this._y=d*x*g+_*m*b,this._z=d*m*b+_*x*g,this._w=d*m*g-_*x*b;break;case"ZYX":this._x=_*m*g-d*x*b,this._y=d*x*g+_*m*b,this._z=d*m*b-_*x*g,this._w=d*m*g+_*x*b;break;case"YZX":this._x=_*m*g+d*x*b,this._y=d*x*g+_*m*b,this._z=d*m*b-_*x*g,this._w=d*m*g-_*x*b;break;case"XZY":this._x=_*m*g-d*x*b,this._y=d*x*g-_*m*b,this._z=d*m*b+_*x*g,this._w=d*m*g+_*x*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],n=t[4],a=t[8],s=t[1],l=t[5],f=t[9],d=t[2],m=t[6],g=t[10],_=r+l+g;if(_>0){const x=.5/Math.sqrt(_+1);this._w=.25/x,this._x=(m-f)*x,this._y=(a-d)*x,this._z=(s-n)*x}else if(r>l&&r>g){const x=2*Math.sqrt(1+r-l-g);this._w=(m-f)/x,this._x=.25*x,this._y=(n+s)/x,this._z=(a+d)/x}else if(l>g){const x=2*Math.sqrt(1+l-r-g);this._w=(a-d)/x,this._x=(n+s)/x,this._y=.25*x,this._z=(f+m)/x}else{const x=2*Math.sqrt(1+g-r-l);this._w=(s-n)/x,this._x=(a+d)/x,this._y=(f+m)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(an(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const n=Math.min(1,t/r);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,n=e._y,a=e._z,s=e._w,l=t._x,f=t._y,d=t._z,m=t._w;return this._x=r*m+s*l+n*d-a*f,this._y=n*m+s*f+a*l-r*d,this._z=a*m+s*d+r*f-n*l,this._w=s*m-r*l-n*f-a*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,n=this._y,a=this._z,s=this._w;let l=s*e._w+r*e._x+n*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=r,this._y=n,this._z=a,this;const f=1-l*l;if(f<=Number.EPSILON){const x=1-t;return this._w=x*s+t*this._w,this._x=x*r+t*this._x,this._y=x*n+t*this._y,this._z=x*a+t*this._z,this.normalize(),this}const d=Math.sqrt(f),m=Math.atan2(d,l),g=Math.sin((1-t)*m)/d,_=Math.sin(t*m)/d;return this._w=s*g+this._w*_,this._x=r*g+this._x*_,this._y=n*g+this._y*_,this._z=a*g+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),n=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(n*Math.sin(e),n*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,t=0,r=0){W.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(RU.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(RU.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,n=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*n,this.y=a[1]*t+a[4]*r+a[7]*n,this.z=a[2]*t+a[5]*r+a[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,n=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*n+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*n+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*n+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*n+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,n=this.z,a=e.x,s=e.y,l=e.z,f=e.w,d=2*(s*n-l*r),m=2*(l*t-a*n),g=2*(a*r-s*t);return this.x=t+f*d+s*g-l*m,this.y=r+f*m+l*d-a*g,this.z=n+f*g+a*m-s*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,n=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*n,this.y=a[1]*t+a[5]*r+a[9]*n,this.z=a[2]*t+a[6]*r+a[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this.z=an(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this.z=an(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(an(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,n=e.y,a=e.z,s=t.x,l=t.y,f=t.z;return this.x=n*f-a*l,this.y=a*s-r*f,this.z=r*l-n*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return sT.copy(this).projectOnVector(e),this.sub(sT)}reflect(e){return this.sub(sT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(an(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sT=new W,RU=new va;class vn{constructor(e,t,r,n,a,s,l,f,d){vn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,n,a,s,l,f,d)}set(e,t,r,n,a,s,l,f,d){const m=this.elements;return m[0]=e,m[1]=n,m[2]=l,m[3]=t,m[4]=a,m[5]=f,m[6]=r,m[7]=s,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,n=t.elements,a=this.elements,s=r[0],l=r[3],f=r[6],d=r[1],m=r[4],g=r[7],_=r[2],x=r[5],b=r[8],M=n[0],T=n[3],A=n[6],R=n[1],B=n[4],D=n[7],I=n[2],L=n[5],P=n[8];return a[0]=s*M+l*R+f*I,a[3]=s*T+l*B+f*L,a[6]=s*A+l*D+f*P,a[1]=d*M+m*R+g*I,a[4]=d*T+m*B+g*L,a[7]=d*A+m*D+g*P,a[2]=_*M+x*R+b*I,a[5]=_*T+x*B+b*L,a[8]=_*A+x*D+b*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],n=e[2],a=e[3],s=e[4],l=e[5],f=e[6],d=e[7],m=e[8];return t*s*m-t*l*d-r*a*m+r*l*f+n*a*d-n*s*f}invert(){const e=this.elements,t=e[0],r=e[1],n=e[2],a=e[3],s=e[4],l=e[5],f=e[6],d=e[7],m=e[8],g=m*s-l*d,_=l*f-m*a,x=d*a-s*f,b=t*g+r*_+n*x;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/b;return e[0]=g*M,e[1]=(n*d-m*r)*M,e[2]=(l*r-n*s)*M,e[3]=_*M,e[4]=(m*t-n*f)*M,e[5]=(n*a-l*t)*M,e[6]=x*M,e[7]=(r*f-d*t)*M,e[8]=(s*t-r*a)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,n,a,s,l){const f=Math.cos(a),d=Math.sin(a);return this.set(r*f,r*d,-r*(f*s+d*l)+s+e,-n*d,n*f,-n*(-d*s+f*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(oT.makeScale(e,t)),this}rotate(e){return this.premultiply(oT.makeRotation(-e)),this}translate(e,t){return this.premultiply(oT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const oT=new vn;function h8(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const rZ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cg(i,e){return new rZ[i](e)}function Sy(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function p8(){const i=Sy("canvas");return i.style.display="block",i}const DU={};function Ay(i){i in DU||(DU[i]=!0,console.warn(i))}function aZ(i,e,t){return new Promise(function(r,n){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:n();break;case i.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}const BU=new vn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),UU=new vn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function sZ(){const i={enabled:!0,workingColorSpace:eu,spaces:{},convert:function(n,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===xi&&(n.r=Ju(n.r),n.g=Ju(n.g),n.b=Ju(n.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(n.applyMatrix3(this.spaces[a].toXYZ),n.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===xi&&(n.r=zg(n.r),n.g=zg(n.g),n.b=zg(n.b))),n},workingToColorSpace:function(n,a){return this.convert(n,this.workingColorSpace,a)},colorSpaceToWorking:function(n,a){return this.convert(n,a,this.workingColorSpace)},getPrimaries:function(n){return this.spaces[n].primaries},getTransfer:function(n){return n===Wl?xy:this.spaces[n].transfer},getToneMappingMode:function(n){return this.spaces[n].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(n,a=this.workingColorSpace){return n.fromArray(this.spaces[a].luminanceCoefficients)},define:function(n){Object.assign(this.spaces,n)},_getMatrix:function(n,a,s){return n.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(n){return this.spaces[n].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(n=this.workingColorSpace){return this.spaces[n].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(n,a){return Ay("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(n,a)},toWorkingColorSpace:function(n,a){return Ay("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(n,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return i.define({[eu]:{primaries:e,whitePoint:r,transfer:xy,toXYZ:BU,fromXYZ:UU,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ni},outputColorSpaceConfig:{drawingBufferColorSpace:ni}},[ni]:{primaries:e,whitePoint:r,transfer:xi,toXYZ:BU,fromXYZ:UU,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ni}}}),i}const qn=sZ();function Ju(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function zg(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Wm;class m8{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Wm===void 0&&(Wm=Sy("canvas")),Wm.width=e.width,Wm.height=e.height;const n=Wm.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),r=Wm}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Sy("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const n=r.getImageData(0,0,e.width,e.height),a=n.data;for(let s=0;s<a.length;s++)a[s]=Ju(a[s]/255)*255;return r.putImageData(n,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Ju(t[r]/255)*255):t[r]=Ju(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oZ=0;class od{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oZ++}),this.uuid=Do(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},n=this.data;if(n!==null){let a;if(Array.isArray(n)){a=[];for(let s=0,l=n.length;s<l;s++)n[s].isDataTexture?a.push(lT(n[s].image)):a.push(lT(n[s]))}else a=lT(n);r.url=a}return t||(e.images[this.uuid]=r),r}}function lT(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?m8.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lZ=0;const cT=new W;class wi extends Lo{constructor(e=wi.DEFAULT_IMAGE,t=wi.DEFAULT_MAPPING,r=To,n=To,a=ki,s=hl,l=Ka,f=Fr,d=wi.DEFAULT_ANISOTROPY,m=Wl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lZ++}),this.uuid=Do(),this.name="",this.source=new od(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=n,this.magFilter=a,this.minFilter=s,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=f,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(cT).x}get height(){return this.source.getSize(cT).y}get depth(){return this.source.getSize(cT).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const n=this[t];if(n===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}n&&r&&n.isVector2&&r.isVector2||n&&r&&n.isVector3&&r.isVector3||n&&r&&n.isMatrix3&&r.isMatrix3?n.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==yE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ed:e.x=e.x-Math.floor(e.x);break;case To:e.x=e.x<0?0:1;break;case nv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ed:e.y=e.y-Math.floor(e.y);break;case To:e.y=e.y<0?0:1;break;case nv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}wi.DEFAULT_IMAGE=null;wi.DEFAULT_MAPPING=yE;wi.DEFAULT_ANISOTROPY=1;class Wn{constructor(e=0,t=0,r=0,n=1){Wn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,n=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*n+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*n+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*n+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*n+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,n,a;const f=e.elements,d=f[0],m=f[4],g=f[8],_=f[1],x=f[5],b=f[9],M=f[2],T=f[6],A=f[10];if(Math.abs(m-_)<.01&&Math.abs(g-M)<.01&&Math.abs(b-T)<.01){if(Math.abs(m+_)<.1&&Math.abs(g+M)<.1&&Math.abs(b+T)<.1&&Math.abs(d+x+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(d+1)/2,D=(x+1)/2,I=(A+1)/2,L=(m+_)/4,P=(g+M)/4,F=(b+T)/4;return B>D&&B>I?B<.01?(r=0,n=.707106781,a=.707106781):(r=Math.sqrt(B),n=L/r,a=P/r):D>I?D<.01?(r=.707106781,n=0,a=.707106781):(n=Math.sqrt(D),r=L/n,a=F/n):I<.01?(r=.707106781,n=.707106781,a=0):(a=Math.sqrt(I),r=P/a,n=F/a),this.set(r,n,a,t),this}let R=Math.sqrt((T-b)*(T-b)+(g-M)*(g-M)+(_-m)*(_-m));return Math.abs(R)<.001&&(R=1),this.x=(T-b)/R,this.y=(g-M)/R,this.z=(_-m)/R,this.w=Math.acos((d+x+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this.z=an(this.z,e.z,t.z),this.w=an(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this.z=an(this.z,e,t),this.w=an(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(an(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mD extends Lo{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ki,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new Wn(0,0,e,t),this.scissorTest=!1,this.viewport=new Wn(0,0,e,t);const n={width:e,height:t,depth:r.depth},a=new wi(n);this.textures=[];const s=r.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:ki,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let n=0,a=this.textures.length;n<a;n++)this.textures[n].image.width=e,this.textures[n].image.height=t,this.textures[n].image.depth=r,this.textures[n].isArrayTexture=this.textures[n].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new od(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class yr extends mD{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class RE extends wi{constructor(e=null,t=1,r=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:n},this.magFilter=Wi,this.minFilter=Wi,this.wrapR=To,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cZ extends yr{constructor(e=1,t=1,r=1,n={}){super(e,t,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new RE(null,e,t,r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}}class DE extends wi{constructor(e=null,t=1,r=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:n},this.magFilter=Wi,this.minFilter=Wi,this.wrapR=To,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uZ extends yr{constructor(e=1,t=1,r=1,n={}){super(e,t,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new DE(null,e,t,r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}}class Ba{constructor(e=new W(1/0,1/0,1/0),t=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Gl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Gl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Gl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,Gl):Gl.fromBufferAttribute(a,s),Gl.applyMatrix4(e.matrixWorld),this.expandByPoint(Gl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),W1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),W1.copy(r.boundingBox)),W1.applyMatrix4(e.matrixWorld),this.union(W1)}const n=e.children;for(let a=0,s=n.length;a<s;a++)this.expandByObject(n[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Gl),Gl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(n_),K1.subVectors(this.max,n_),Km.subVectors(e.a,n_),Qm.subVectors(e.b,n_),eg.subVectors(e.c,n_),Gf.subVectors(Qm,Km),Vf.subVectors(eg,Qm),Mh.subVectors(Km,eg);let t=[0,-Gf.z,Gf.y,0,-Vf.z,Vf.y,0,-Mh.z,Mh.y,Gf.z,0,-Gf.x,Vf.z,0,-Vf.x,Mh.z,0,-Mh.x,-Gf.y,Gf.x,0,-Vf.y,Vf.x,0,-Mh.y,Mh.x,0];return!uT(t,Km,Qm,eg,K1)||(t=[1,0,0,0,1,0,0,0,1],!uT(t,Km,Qm,eg,K1))?!1:(Q1.crossVectors(Gf,Vf),t=[Q1.x,Q1.y,Q1.z],uT(t,Km,Qm,eg,K1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Gl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Gl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ou[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ou[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ou[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ou[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ou[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ou[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ou[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ou[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ou),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Ou=[new W,new W,new W,new W,new W,new W,new W,new W],Gl=new W,W1=new Ba,Km=new W,Qm=new W,eg=new W,Gf=new W,Vf=new W,Mh=new W,n_=new W,K1=new W,Q1=new W,Th=new W;function uT(i,e,t,r,n){for(let a=0,s=i.length-3;a<=s;a+=3){Th.fromArray(i,a);const l=n.x*Math.abs(Th.x)+n.y*Math.abs(Th.y)+n.z*Math.abs(Th.z),f=e.dot(Th),d=t.dot(Th),m=r.dot(Th);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>l)return!1}return!0}const fZ=new Ba,i_=new W,fT=new W;class _a{constructor(e=new W,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):fZ.setFromPoints(e).getCenter(r);let n=0;for(let a=0,s=e.length;a<s;a++)n=Math.max(n,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;i_.subVectors(e,this.center);const t=i_.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),n=(r-this.radius)*.5;this.center.addScaledVector(i_,n/r),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(fT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(i_.copy(e.center).add(fT)),this.expandByPoint(i_.copy(e.center).sub(fT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Nu=new W,dT=new W,eb=new W,jf=new W,hT=new W,tb=new W,pT=new W;class Ip{constructor(e=new W,t=new W(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Nu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Nu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Nu.copy(this.origin).addScaledVector(this.direction,t),Nu.distanceToSquared(e))}distanceSqToSegment(e,t,r,n){dT.copy(e).add(t).multiplyScalar(.5),eb.copy(t).sub(e).normalize(),jf.copy(this.origin).sub(dT);const a=e.distanceTo(t)*.5,s=-this.direction.dot(eb),l=jf.dot(this.direction),f=-jf.dot(eb),d=jf.lengthSq(),m=Math.abs(1-s*s);let g,_,x,b;if(m>0)if(g=s*f-l,_=s*l-f,b=a*m,g>=0)if(_>=-b)if(_<=b){const M=1/m;g*=M,_*=M,x=g*(g+s*_+2*l)+_*(s*g+_+2*f)+d}else _=a,g=Math.max(0,-(s*_+l)),x=-g*g+_*(_+2*f)+d;else _=-a,g=Math.max(0,-(s*_+l)),x=-g*g+_*(_+2*f)+d;else _<=-b?(g=Math.max(0,-(-s*a+l)),_=g>0?-a:Math.min(Math.max(-a,-f),a),x=-g*g+_*(_+2*f)+d):_<=b?(g=0,_=Math.min(Math.max(-a,-f),a),x=_*(_+2*f)+d):(g=Math.max(0,-(s*a+l)),_=g>0?a:Math.min(Math.max(-a,-f),a),x=-g*g+_*(_+2*f)+d);else _=s>0?-a:a,g=Math.max(0,-(s*_+l)),x=-g*g+_*(_+2*f)+d;return r&&r.copy(this.origin).addScaledVector(this.direction,g),n&&n.copy(dT).addScaledVector(eb,_),x}intersectSphere(e,t){Nu.subVectors(e.center,this.origin);const r=Nu.dot(this.direction),n=Nu.dot(Nu)-r*r,a=e.radius*e.radius;if(n>a)return null;const s=Math.sqrt(a-n),l=r-s,f=r+s;return f<0?null:l<0?this.at(f,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,n,a,s,l,f;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,_=this.origin;return d>=0?(r=(e.min.x-_.x)*d,n=(e.max.x-_.x)*d):(r=(e.max.x-_.x)*d,n=(e.min.x-_.x)*d),m>=0?(a=(e.min.y-_.y)*m,s=(e.max.y-_.y)*m):(a=(e.max.y-_.y)*m,s=(e.min.y-_.y)*m),r>s||a>n||((a>r||isNaN(r))&&(r=a),(s<n||isNaN(n))&&(n=s),g>=0?(l=(e.min.z-_.z)*g,f=(e.max.z-_.z)*g):(l=(e.max.z-_.z)*g,f=(e.min.z-_.z)*g),r>f||l>n)||((l>r||r!==r)&&(r=l),(f<n||n!==n)&&(n=f),n<0)?null:this.at(r>=0?r:n,t)}intersectsBox(e){return this.intersectBox(e,Nu)!==null}intersectTriangle(e,t,r,n,a){hT.subVectors(t,e),tb.subVectors(r,e),pT.crossVectors(hT,tb);let s=this.direction.dot(pT),l;if(s>0){if(n)return null;l=1}else if(s<0)l=-1,s=-s;else return null;jf.subVectors(this.origin,e);const f=l*this.direction.dot(tb.crossVectors(jf,tb));if(f<0)return null;const d=l*this.direction.dot(hT.cross(jf));if(d<0||f+d>s)return null;const m=-l*jf.dot(pT);return m<0?null:this.at(m/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Qt{constructor(e,t,r,n,a,s,l,f,d,m,g,_,x,b,M,T){Qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,n,a,s,l,f,d,m,g,_,x,b,M,T)}set(e,t,r,n,a,s,l,f,d,m,g,_,x,b,M,T){const A=this.elements;return A[0]=e,A[4]=t,A[8]=r,A[12]=n,A[1]=a,A[5]=s,A[9]=l,A[13]=f,A[2]=d,A[6]=m,A[10]=g,A[14]=_,A[3]=x,A[7]=b,A[11]=M,A[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Qt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,n=1/tg.setFromMatrixColumn(e,0).length(),a=1/tg.setFromMatrixColumn(e,1).length(),s=1/tg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,n=e.y,a=e.z,s=Math.cos(r),l=Math.sin(r),f=Math.cos(n),d=Math.sin(n),m=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const _=s*m,x=s*g,b=l*m,M=l*g;t[0]=f*m,t[4]=-f*g,t[8]=d,t[1]=x+b*d,t[5]=_-M*d,t[9]=-l*f,t[2]=M-_*d,t[6]=b+x*d,t[10]=s*f}else if(e.order==="YXZ"){const _=f*m,x=f*g,b=d*m,M=d*g;t[0]=_+M*l,t[4]=b*l-x,t[8]=s*d,t[1]=s*g,t[5]=s*m,t[9]=-l,t[2]=x*l-b,t[6]=M+_*l,t[10]=s*f}else if(e.order==="ZXY"){const _=f*m,x=f*g,b=d*m,M=d*g;t[0]=_-M*l,t[4]=-s*g,t[8]=b+x*l,t[1]=x+b*l,t[5]=s*m,t[9]=M-_*l,t[2]=-s*d,t[6]=l,t[10]=s*f}else if(e.order==="ZYX"){const _=s*m,x=s*g,b=l*m,M=l*g;t[0]=f*m,t[4]=b*d-x,t[8]=_*d+M,t[1]=f*g,t[5]=M*d+_,t[9]=x*d-b,t[2]=-d,t[6]=l*f,t[10]=s*f}else if(e.order==="YZX"){const _=s*f,x=s*d,b=l*f,M=l*d;t[0]=f*m,t[4]=M-_*g,t[8]=b*g+x,t[1]=g,t[5]=s*m,t[9]=-l*m,t[2]=-d*m,t[6]=x*g+b,t[10]=_-M*g}else if(e.order==="XZY"){const _=s*f,x=s*d,b=l*f,M=l*d;t[0]=f*m,t[4]=-g,t[8]=d*m,t[1]=_*g+M,t[5]=s*m,t[9]=x*g-b,t[2]=b*g-x,t[6]=l*m,t[10]=M*g+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(dZ,e,hZ)}lookAt(e,t,r){const n=this.elements;return mo.subVectors(e,t),mo.lengthSq()===0&&(mo.z=1),mo.normalize(),$f.crossVectors(r,mo),$f.lengthSq()===0&&(Math.abs(r.z)===1?mo.x+=1e-4:mo.z+=1e-4,mo.normalize(),$f.crossVectors(r,mo)),$f.normalize(),nb.crossVectors(mo,$f),n[0]=$f.x,n[4]=nb.x,n[8]=mo.x,n[1]=$f.y,n[5]=nb.y,n[9]=mo.y,n[2]=$f.z,n[6]=nb.z,n[10]=mo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,n=t.elements,a=this.elements,s=r[0],l=r[4],f=r[8],d=r[12],m=r[1],g=r[5],_=r[9],x=r[13],b=r[2],M=r[6],T=r[10],A=r[14],R=r[3],B=r[7],D=r[11],I=r[15],L=n[0],P=n[4],F=n[8],O=n[12],U=n[1],G=n[5],X=n[9],te=n[13],ce=n[2],le=n[6],V=n[10],q=n[14],ee=n[3],ve=n[7],J=n[11],Z=n[15];return a[0]=s*L+l*U+f*ce+d*ee,a[4]=s*P+l*G+f*le+d*ve,a[8]=s*F+l*X+f*V+d*J,a[12]=s*O+l*te+f*q+d*Z,a[1]=m*L+g*U+_*ce+x*ee,a[5]=m*P+g*G+_*le+x*ve,a[9]=m*F+g*X+_*V+x*J,a[13]=m*O+g*te+_*q+x*Z,a[2]=b*L+M*U+T*ce+A*ee,a[6]=b*P+M*G+T*le+A*ve,a[10]=b*F+M*X+T*V+A*J,a[14]=b*O+M*te+T*q+A*Z,a[3]=R*L+B*U+D*ce+I*ee,a[7]=R*P+B*G+D*le+I*ve,a[11]=R*F+B*X+D*V+I*J,a[15]=R*O+B*te+D*q+I*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],n=e[8],a=e[12],s=e[1],l=e[5],f=e[9],d=e[13],m=e[2],g=e[6],_=e[10],x=e[14],b=e[3],M=e[7],T=e[11],A=e[15];return b*(+a*f*g-n*d*g-a*l*_+r*d*_+n*l*x-r*f*x)+M*(+t*f*x-t*d*_+a*s*_-n*s*x+n*d*m-a*f*m)+T*(+t*d*g-t*l*x-a*s*g+r*s*x+a*l*m-r*d*m)+A*(-n*l*m-t*f*g+t*l*_+n*s*g-r*s*_+r*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],n=e[2],a=e[3],s=e[4],l=e[5],f=e[6],d=e[7],m=e[8],g=e[9],_=e[10],x=e[11],b=e[12],M=e[13],T=e[14],A=e[15],R=g*T*d-M*_*d+M*f*x-l*T*x-g*f*A+l*_*A,B=b*_*d-m*T*d-b*f*x+s*T*x+m*f*A-s*_*A,D=m*M*d-b*g*d+b*l*x-s*M*x-m*l*A+s*g*A,I=b*g*f-m*M*f-b*l*_+s*M*_+m*l*T-s*g*T,L=t*R+r*B+n*D+a*I;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/L;return e[0]=R*P,e[1]=(M*_*a-g*T*a-M*n*x+r*T*x+g*n*A-r*_*A)*P,e[2]=(l*T*a-M*f*a+M*n*d-r*T*d-l*n*A+r*f*A)*P,e[3]=(g*f*a-l*_*a-g*n*d+r*_*d+l*n*x-r*f*x)*P,e[4]=B*P,e[5]=(m*T*a-b*_*a+b*n*x-t*T*x-m*n*A+t*_*A)*P,e[6]=(b*f*a-s*T*a-b*n*d+t*T*d+s*n*A-t*f*A)*P,e[7]=(s*_*a-m*f*a+m*n*d-t*_*d-s*n*x+t*f*x)*P,e[8]=D*P,e[9]=(b*g*a-m*M*a-b*r*x+t*M*x+m*r*A-t*g*A)*P,e[10]=(s*M*a-b*l*a+b*r*d-t*M*d-s*r*A+t*l*A)*P,e[11]=(m*l*a-s*g*a-m*r*d+t*g*d+s*r*x-t*l*x)*P,e[12]=I*P,e[13]=(m*M*n-b*g*n+b*r*_-t*M*_-m*r*T+t*g*T)*P,e[14]=(b*l*n-s*M*n-b*r*f+t*M*f+s*r*T-t*l*T)*P,e[15]=(s*g*n-m*l*n+m*r*f-t*g*f-s*r*_+t*l*_)*P,this}scale(e){const t=this.elements,r=e.x,n=e.y,a=e.z;return t[0]*=r,t[4]*=n,t[8]*=a,t[1]*=r,t[5]*=n,t[9]*=a,t[2]*=r,t[6]*=n,t[10]*=a,t[3]*=r,t[7]*=n,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),n=Math.sin(t),a=1-r,s=e.x,l=e.y,f=e.z,d=a*s,m=a*l;return this.set(d*s+r,d*l-n*f,d*f+n*l,0,d*l+n*f,m*l+r,m*f-n*s,0,d*f-n*l,m*f+n*s,a*f*f+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,n,a,s){return this.set(1,r,a,0,e,1,s,0,t,n,1,0,0,0,0,1),this}compose(e,t,r){const n=this.elements,a=t._x,s=t._y,l=t._z,f=t._w,d=a+a,m=s+s,g=l+l,_=a*d,x=a*m,b=a*g,M=s*m,T=s*g,A=l*g,R=f*d,B=f*m,D=f*g,I=r.x,L=r.y,P=r.z;return n[0]=(1-(M+A))*I,n[1]=(x+D)*I,n[2]=(b-B)*I,n[3]=0,n[4]=(x-D)*L,n[5]=(1-(_+A))*L,n[6]=(T+R)*L,n[7]=0,n[8]=(b+B)*P,n[9]=(T-R)*P,n[10]=(1-(_+M))*P,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,r){const n=this.elements;let a=tg.set(n[0],n[1],n[2]).length();const s=tg.set(n[4],n[5],n[6]).length(),l=tg.set(n[8],n[9],n[10]).length();this.determinant()<0&&(a=-a),e.x=n[12],e.y=n[13],e.z=n[14],Vl.copy(this);const d=1/a,m=1/s,g=1/l;return Vl.elements[0]*=d,Vl.elements[1]*=d,Vl.elements[2]*=d,Vl.elements[4]*=m,Vl.elements[5]*=m,Vl.elements[6]*=m,Vl.elements[8]*=g,Vl.elements[9]*=g,Vl.elements[10]*=g,t.setFromRotationMatrix(Vl),r.x=a,r.y=s,r.z=l,this}makePerspective(e,t,r,n,a,s,l=Co,f=!1){const d=this.elements,m=2*a/(t-e),g=2*a/(r-n),_=(t+e)/(t-e),x=(r+n)/(r-n);let b,M;if(f)b=a/(s-a),M=s*a/(s-a);else if(l===Co)b=-(s+a)/(s-a),M=-2*s*a/(s-a);else if(l===ov)b=-s/(s-a),M=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return d[0]=m,d[4]=0,d[8]=_,d[12]=0,d[1]=0,d[5]=g,d[9]=x,d[13]=0,d[2]=0,d[6]=0,d[10]=b,d[14]=M,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,r,n,a,s,l=Co,f=!1){const d=this.elements,m=2/(t-e),g=2/(r-n),_=-(t+e)/(t-e),x=-(r+n)/(r-n);let b,M;if(f)b=1/(s-a),M=s/(s-a);else if(l===Co)b=-2/(s-a),M=-(s+a)/(s-a);else if(l===ov)b=-1/(s-a),M=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return d[0]=m,d[4]=0,d[8]=0,d[12]=_,d[1]=0,d[5]=g,d[9]=0,d[13]=x,d[2]=0,d[6]=0,d[10]=b,d[14]=M,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const tg=new W,Vl=new Qt,dZ=new W(0,0,0),hZ=new W(1,1,1),$f=new W,nb=new W,mo=new W,OU=new Qt,NU=new va;class Oo{constructor(e=0,t=0,r=0,n=Oo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,n=this._order){return this._x=e,this._y=t,this._z=r,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const n=e.elements,a=n[0],s=n[4],l=n[8],f=n[1],d=n[5],m=n[9],g=n[2],_=n[6],x=n[10];switch(t){case"XYZ":this._y=Math.asin(an(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(_,d),this._z=0);break;case"YXZ":this._x=Math.asin(-an(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,x),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(an(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-s,d)):(this._y=0,this._z=Math.atan2(f,a));break;case"ZYX":this._y=Math.asin(-an(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(_,x),this._z=Math.atan2(f,a)):(this._x=0,this._z=Math.atan2(-s,d));break;case"YZX":this._z=Math.asin(an(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,x));break;case"XZY":this._z=Math.asin(-an(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(_,d),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-m,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return OU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(OU,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return NU.setFromEuler(this),this.setFromQuaternion(NU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Oo.DEFAULT_ORDER="XYZ";class cv{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pZ=0;const IU=new W,ng=new va,Iu=new Qt,ib=new W,r_=new W,mZ=new W,gZ=new va,zU=new W(1,0,0),LU=new W(0,1,0),PU=new W(0,0,1),FU={type:"added"},vZ={type:"removed"},ig={type:"childadded",child:null},mT={type:"childremoved",child:null};class Qn extends Lo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pZ++}),this.uuid=Do(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qn.DEFAULT_UP.clone();const e=new W,t=new Oo,r=new va,n=new W(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Qt},normalMatrix:{value:new vn}}),this.matrix=new Qt,this.matrixWorld=new Qt,this.matrixAutoUpdate=Qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new cv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ng.setFromAxisAngle(e,t),this.quaternion.multiply(ng),this}rotateOnWorldAxis(e,t){return ng.setFromAxisAngle(e,t),this.quaternion.premultiply(ng),this}rotateX(e){return this.rotateOnAxis(zU,e)}rotateY(e){return this.rotateOnAxis(LU,e)}rotateZ(e){return this.rotateOnAxis(PU,e)}translateOnAxis(e,t){return IU.copy(e).applyQuaternion(this.quaternion),this.position.add(IU.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(zU,e)}translateY(e){return this.translateOnAxis(LU,e)}translateZ(e){return this.translateOnAxis(PU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Iu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?ib.copy(e):ib.set(e,t,r);const n=this.parent;this.updateWorldMatrix(!0,!1),r_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Iu.lookAt(r_,ib,this.up):Iu.lookAt(ib,r_,this.up),this.quaternion.setFromRotationMatrix(Iu),n&&(Iu.extractRotation(n.matrixWorld),ng.setFromRotationMatrix(Iu),this.quaternion.premultiply(ng.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(FU),ig.child=e,this.dispatchEvent(ig),ig.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vZ),mT.child=e,this.dispatchEvent(mT),mT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Iu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Iu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Iu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(FU),ig.child=e,this.dispatchEvent(ig),ig.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,n=this.children.length;r<n;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const n=this.children;for(let a=0,s=n.length;a<s;a++)n[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r_,e,mZ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r_,gZ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const n=this.children;for(let a=0,s=n.length;a<s;a++)n[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(n.type="BatchedMesh",n.perObjectFrustumCulled=this.perObjectFrustumCulled,n.sortObjects=this.sortObjects,n.drawRanges=this._drawRanges,n.reservedRanges=this._reservedRanges,n.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),n.instanceInfo=this._instanceInfo.map(l=>({...l})),n.availableInstanceIds=this._availableInstanceIds.slice(),n.availableGeometryIds=this._availableGeometryIds.slice(),n.nextIndexStart=this._nextIndexStart,n.nextVertexStart=this._nextVertexStart,n.geometryCount=this._geometryCount,n.maxInstanceCount=this._maxInstanceCount,n.maxVertexCount=this._maxVertexCount,n.maxIndexCount=this._maxIndexCount,n.geometryInitialized=this._geometryInitialized,n.matricesTexture=this._matricesTexture.toJSON(e),n.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(n.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(n.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(n.boundingBox=this.boundingBox.toJSON()));function a(l,f){return l[f.uuid]===void 0&&(l[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const f=l.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const g=f[d];a(e.shapes,g)}else a(e.shapes,f)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let f=0,d=this.material.length;f<d;f++)l.push(a(e.materials,this.material[f]));n.material=l}else n.material=a(e.materials,this.material);if(this.children.length>0){n.children=[];for(let l=0;l<this.children.length;l++)n.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let l=0;l<this.animations.length;l++){const f=this.animations[l];n.animations.push(a(e.animations,f))}}if(t){const l=s(e.geometries),f=s(e.materials),d=s(e.textures),m=s(e.images),g=s(e.shapes),_=s(e.skeletons),x=s(e.animations),b=s(e.nodes);l.length>0&&(r.geometries=l),f.length>0&&(r.materials=f),d.length>0&&(r.textures=d),m.length>0&&(r.images=m),g.length>0&&(r.shapes=g),_.length>0&&(r.skeletons=_),x.length>0&&(r.animations=x),b.length>0&&(r.nodes=b)}return r.object=n,r;function s(l){const f=[];for(const d in l){const m=l[d];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const n=e.children[r];this.add(n.clone())}return this}}Qn.DEFAULT_UP=new W(0,1,0);Qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const jl=new W,zu=new W,gT=new W,Lu=new W,rg=new W,ag=new W,HU=new W,vT=new W,_T=new W,yT=new W,xT=new Wn,bT=new Wn,ST=new Wn;class Ws{constructor(e=new W,t=new W,r=new W){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,n){n.subVectors(r,t),jl.subVectors(e,t),n.cross(jl);const a=n.lengthSq();return a>0?n.multiplyScalar(1/Math.sqrt(a)):n.set(0,0,0)}static getBarycoord(e,t,r,n,a){jl.subVectors(n,t),zu.subVectors(r,t),gT.subVectors(e,t);const s=jl.dot(jl),l=jl.dot(zu),f=jl.dot(gT),d=zu.dot(zu),m=zu.dot(gT),g=s*d-l*l;if(g===0)return a.set(0,0,0),null;const _=1/g,x=(d*f-l*m)*_,b=(s*m-l*f)*_;return a.set(1-x-b,b,x)}static containsPoint(e,t,r,n){return this.getBarycoord(e,t,r,n,Lu)===null?!1:Lu.x>=0&&Lu.y>=0&&Lu.x+Lu.y<=1}static getInterpolation(e,t,r,n,a,s,l,f){return this.getBarycoord(e,t,r,n,Lu)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(a,Lu.x),f.addScaledVector(s,Lu.y),f.addScaledVector(l,Lu.z),f)}static getInterpolatedAttribute(e,t,r,n,a,s){return xT.setScalar(0),bT.setScalar(0),ST.setScalar(0),xT.fromBufferAttribute(e,t),bT.fromBufferAttribute(e,r),ST.fromBufferAttribute(e,n),s.setScalar(0),s.addScaledVector(xT,a.x),s.addScaledVector(bT,a.y),s.addScaledVector(ST,a.z),s}static isFrontFacing(e,t,r,n){return jl.subVectors(r,t),zu.subVectors(e,t),jl.cross(zu).dot(n)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,r,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return jl.subVectors(this.c,this.b),zu.subVectors(this.a,this.b),jl.cross(zu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ws.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ws.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,n,a){return Ws.getInterpolation(e,this.a,this.b,this.c,t,r,n,a)}containsPoint(e){return Ws.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ws.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,n=this.b,a=this.c;let s,l;rg.subVectors(n,r),ag.subVectors(a,r),vT.subVectors(e,r);const f=rg.dot(vT),d=ag.dot(vT);if(f<=0&&d<=0)return t.copy(r);_T.subVectors(e,n);const m=rg.dot(_T),g=ag.dot(_T);if(m>=0&&g<=m)return t.copy(n);const _=f*g-m*d;if(_<=0&&f>=0&&m<=0)return s=f/(f-m),t.copy(r).addScaledVector(rg,s);yT.subVectors(e,a);const x=rg.dot(yT),b=ag.dot(yT);if(b>=0&&x<=b)return t.copy(a);const M=x*d-f*b;if(M<=0&&d>=0&&b<=0)return l=d/(d-b),t.copy(r).addScaledVector(ag,l);const T=m*b-x*g;if(T<=0&&g-m>=0&&x-b>=0)return HU.subVectors(a,n),l=(g-m)/(g-m+(x-b)),t.copy(n).addScaledVector(HU,l);const A=1/(T+M+_);return s=M*A,l=_*A,t.copy(r).addScaledVector(rg,s).addScaledVector(ag,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const g8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xf={h:0,s:0,l:0},rb={h:0,s:0,l:0};function AT(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class xt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const n=e;n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ni){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qn.colorSpaceToWorking(this,t),this}setRGB(e,t,r,n=qn.workingColorSpace){return this.r=e,this.g=t,this.b=r,qn.colorSpaceToWorking(this,n),this}setHSL(e,t,r,n=qn.workingColorSpace){if(e=hD(e,1),t=an(t,0,1),r=an(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=AT(s,a,e+1/3),this.g=AT(s,a,e),this.b=AT(s,a,e-1/3)}return qn.colorSpaceToWorking(this,n),this}setStyle(e,t=ni){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=n[1],l=n[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=n[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ni){const r=g8[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ju(e.r),this.g=Ju(e.g),this.b=Ju(e.b),this}copyLinearToSRGB(e){return this.r=zg(e.r),this.g=zg(e.g),this.b=zg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ni){return qn.workingToColorSpace($a.copy(this),e),Math.round(an($a.r*255,0,255))*65536+Math.round(an($a.g*255,0,255))*256+Math.round(an($a.b*255,0,255))}getHexString(e=ni){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qn.workingColorSpace){qn.workingToColorSpace($a.copy(this),t);const r=$a.r,n=$a.g,a=$a.b,s=Math.max(r,n,a),l=Math.min(r,n,a);let f,d;const m=(l+s)/2;if(l===s)f=0,d=0;else{const g=s-l;switch(d=m<=.5?g/(s+l):g/(2-s-l),s){case r:f=(n-a)/g+(n<a?6:0);break;case n:f=(a-r)/g+2;break;case a:f=(r-n)/g+4;break}f/=6}return e.h=f,e.s=d,e.l=m,e}getRGB(e,t=qn.workingColorSpace){return qn.workingToColorSpace($a.copy(this),t),e.r=$a.r,e.g=$a.g,e.b=$a.b,e}getStyle(e=ni){qn.workingToColorSpace($a.copy(this),e);const t=$a.r,r=$a.g,n=$a.b;return e!==ni?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(n*255)})`}offsetHSL(e,t,r){return this.getHSL(Xf),this.setHSL(Xf.h+e,Xf.s+t,Xf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Xf),e.getHSL(rb);const r=Y_(Xf.h,rb.h,t),n=Y_(Xf.s,rb.s,t),a=Y_(Xf.l,rb.l,t);return this.setHSL(r,n,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,n=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*n,this.g=a[1]*t+a[4]*r+a[7]*n,this.b=a[2]*t+a[5]*r+a[8]*n,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const $a=new xt;xt.NAMES=g8;let _Z=0;class Tr extends Lo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_Z++}),this.uuid=Do(),this.name="",this.type="Material",this.blending=dd,this.side=tc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=NS,this.blendDst=IS,this.blendEquation=ed,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xt(0,0,0),this.blendAlpha=0,this.depthFunc=Sd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=cC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$h,this.stencilZFail=$h,this.stencilZPass=$h,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const n=this[t];if(n===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==dd&&(r.blending=this.blending),this.side!==tc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==NS&&(r.blendSrc=this.blendSrc),this.blendDst!==IS&&(r.blendDst=this.blendDst),this.blendEquation!==ed&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Sd&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==cC&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$h&&(r.stencilFail=this.stencilFail),this.stencilZFail!==$h&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==$h&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function n(a){const s=[];for(const l in a){const f=a[l];delete f.metadata,s.push(f)}return s}if(t){const a=n(e.textures),s=n(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const n=t.length;r=new Array(n);for(let a=0;a!==n;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class wo extends Tr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oo,this.combine=nx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $u=yZ();function yZ(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),r=new Uint32Array(512),n=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(r[f]=0,r[f|256]=32768,n[f]=24,n[f|256]=24):d<-14?(r[f]=1024>>-d-14,r[f|256]=1024>>-d-14|32768,n[f]=-d-1,n[f|256]=-d-1):d<=15?(r[f]=d+15<<10,r[f|256]=d+15<<10|32768,n[f]=13,n[f|256]=13):d<128?(r[f]=31744,r[f|256]=64512,n[f]=24,n[f|256]=24):(r[f]=31744,r[f|256]=64512,n[f]=13,n[f|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,a[f]=d|m}for(let f=1024;f<2048;++f)a[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)s[f]=f<<23;s[31]=1199570944,s[32]=2147483648;for(let f=33;f<63;++f)s[f]=2147483648+(f-32<<23);s[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(l[f]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:n,mantissaTable:a,exponentTable:s,offsetTable:l}}function Zs(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=an(i,-65504,65504),$u.floatView[0]=i;const e=$u.uint32View[0],t=e>>23&511;return $u.baseTable[t]+((e&8388607)>>$u.shiftTable[t])}function E_(i){const e=i>>10;return $u.uint32View[0]=$u.mantissaTable[$u.offsetTable[e]+(i&1023)]+$u.exponentTable[e],$u.floatView[0]}class xZ{static toHalfFloat(e){return Zs(e)}static fromHalfFloat(e){return E_(e)}}const Nr=new W,ab=new He;let bZ=0;class ei{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:bZ++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=by,this.updateRanges=[],this.gpuType=Ls,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let n=0,a=this.itemSize;n<a;n++)this.array[e+n]=t.array[r+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)ab.fromBufferAttribute(this,t),ab.applyMatrix3(e),this.setXY(t,ab.x,ab.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix3(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix4(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Nr.fromBufferAttribute(this,t),Nr.applyNormalMatrix(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Nr.fromBufferAttribute(this,t),Nr.transformDirection(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=zs(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=yn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=zs(t,this.array)),t}setX(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=zs(t,this.array)),t}setY(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=zs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=zs(t,this.array)),t}setW(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,n){return e*=this.itemSize,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array),n=yn(n,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this}setXYZW(e,t,r,n,a){return e*=this.itemSize,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array),n=yn(n,this.array),a=yn(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==by&&(e.usage=this.usage),e}}class SZ extends ei{constructor(e,t,r){super(new Int8Array(e),t,r)}}class AZ extends ei{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class EZ extends ei{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class MZ extends ei{constructor(e,t,r){super(new Int16Array(e),t,r)}}class gD extends ei{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class TZ extends ei{constructor(e,t,r){super(new Int32Array(e),t,r)}}class vD extends ei{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class CZ extends ei{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=E_(this.array[e*this.itemSize]);return this.normalized&&(t=zs(t,this.array)),t}setX(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize]=Zs(t),this}getY(e){let t=E_(this.array[e*this.itemSize+1]);return this.normalized&&(t=zs(t,this.array)),t}setY(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize+1]=Zs(t),this}getZ(e){let t=E_(this.array[e*this.itemSize+2]);return this.normalized&&(t=zs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize+2]=Zs(t),this}getW(e){let t=E_(this.array[e*this.itemSize+3]);return this.normalized&&(t=zs(t,this.array)),t}setW(e,t){return this.normalized&&(t=yn(t,this.array)),this.array[e*this.itemSize+3]=Zs(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array)),this.array[e+0]=Zs(t),this.array[e+1]=Zs(r),this}setXYZ(e,t,r,n){return e*=this.itemSize,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array),n=yn(n,this.array)),this.array[e+0]=Zs(t),this.array[e+1]=Zs(r),this.array[e+2]=Zs(n),this}setXYZW(e,t,r,n,a){return e*=this.itemSize,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array),n=yn(n,this.array),a=yn(a,this.array)),this.array[e+0]=Zs(t),this.array[e+1]=Zs(r),this.array[e+2]=Zs(n),this.array[e+3]=Zs(a),this}}class Pt extends ei{constructor(e,t,r){super(new Float32Array(e),t,r)}}let wZ=0;const rl=new Qt,ET=new Qn,sg=new W,go=new Ba,a_=new Ba,pa=new W;class dn extends Lo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:wZ++}),this.uuid=Do(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(h8(e)?vD:gD)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new vn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return rl.makeRotationFromQuaternion(e),this.applyMatrix4(rl),this}rotateX(e){return rl.makeRotationX(e),this.applyMatrix4(rl),this}rotateY(e){return rl.makeRotationY(e),this.applyMatrix4(rl),this}rotateZ(e){return rl.makeRotationZ(e),this.applyMatrix4(rl),this}translate(e,t,r){return rl.makeTranslation(e,t,r),this.applyMatrix4(rl),this}scale(e,t,r){return rl.makeScale(e,t,r),this.applyMatrix4(rl),this}lookAt(e){return ET.lookAt(e),ET.updateMatrix(),this.applyMatrix4(ET.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sg).negate(),this.translate(sg.x,sg.y,sg.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let n=0,a=e.length;n<a;n++){const s=e[n];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Pt(r,3))}else{const r=Math.min(e.length,t.count);for(let n=0;n<r;n++){const a=e[n];t.setXYZ(n,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ba);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,n=t.length;r<n;r++){const a=t[r];go.setFromBufferAttribute(a),this.morphTargetsRelative?(pa.addVectors(this.boundingBox.min,go.min),this.boundingBox.expandByPoint(pa),pa.addVectors(this.boundingBox.max,go.max),this.boundingBox.expandByPoint(pa)):(this.boundingBox.expandByPoint(go.min),this.boundingBox.expandByPoint(go.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _a);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(e){const r=this.boundingSphere.center;if(go.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const l=t[a];a_.setFromBufferAttribute(l),this.morphTargetsRelative?(pa.addVectors(go.min,a_.min),go.expandByPoint(pa),pa.addVectors(go.max,a_.max),go.expandByPoint(pa)):(go.expandByPoint(a_.min),go.expandByPoint(a_.max))}go.getCenter(r);let n=0;for(let a=0,s=e.count;a<s;a++)pa.fromBufferAttribute(e,a),n=Math.max(n,r.distanceToSquared(pa));if(t)for(let a=0,s=t.length;a<s;a++){const l=t[a],f=this.morphTargetsRelative;for(let d=0,m=l.count;d<m;d++)pa.fromBufferAttribute(l,d),f&&(sg.fromBufferAttribute(e,d),pa.add(sg)),n=Math.max(n,r.distanceToSquared(pa))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,n=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ei(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),l=[],f=[];for(let F=0;F<r.count;F++)l[F]=new W,f[F]=new W;const d=new W,m=new W,g=new W,_=new He,x=new He,b=new He,M=new W,T=new W;function A(F,O,U){d.fromBufferAttribute(r,F),m.fromBufferAttribute(r,O),g.fromBufferAttribute(r,U),_.fromBufferAttribute(a,F),x.fromBufferAttribute(a,O),b.fromBufferAttribute(a,U),m.sub(d),g.sub(d),x.sub(_),b.sub(_);const G=1/(x.x*b.y-b.x*x.y);isFinite(G)&&(M.copy(m).multiplyScalar(b.y).addScaledVector(g,-x.y).multiplyScalar(G),T.copy(g).multiplyScalar(x.x).addScaledVector(m,-b.x).multiplyScalar(G),l[F].add(M),l[O].add(M),l[U].add(M),f[F].add(T),f[O].add(T),f[U].add(T))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let F=0,O=R.length;F<O;++F){const U=R[F],G=U.start,X=U.count;for(let te=G,ce=G+X;te<ce;te+=3)A(e.getX(te+0),e.getX(te+1),e.getX(te+2))}const B=new W,D=new W,I=new W,L=new W;function P(F){I.fromBufferAttribute(n,F),L.copy(I);const O=l[F];B.copy(O),B.sub(I.multiplyScalar(I.dot(O))).normalize(),D.crossVectors(L,O);const G=D.dot(f[F])<0?-1:1;s.setXYZW(F,B.x,B.y,B.z,G)}for(let F=0,O=R.length;F<O;++F){const U=R[F],G=U.start,X=U.count;for(let te=G,ce=G+X;te<ce;te+=3)P(e.getX(te+0)),P(e.getX(te+1)),P(e.getX(te+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ei(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let _=0,x=r.count;_<x;_++)r.setXYZ(_,0,0,0);const n=new W,a=new W,s=new W,l=new W,f=new W,d=new W,m=new W,g=new W;if(e)for(let _=0,x=e.count;_<x;_+=3){const b=e.getX(_+0),M=e.getX(_+1),T=e.getX(_+2);n.fromBufferAttribute(t,b),a.fromBufferAttribute(t,M),s.fromBufferAttribute(t,T),m.subVectors(s,a),g.subVectors(n,a),m.cross(g),l.fromBufferAttribute(r,b),f.fromBufferAttribute(r,M),d.fromBufferAttribute(r,T),l.add(m),f.add(m),d.add(m),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(M,f.x,f.y,f.z),r.setXYZ(T,d.x,d.y,d.z)}else for(let _=0,x=t.count;_<x;_+=3)n.fromBufferAttribute(t,_+0),a.fromBufferAttribute(t,_+1),s.fromBufferAttribute(t,_+2),m.subVectors(s,a),g.subVectors(n,a),m.cross(g),r.setXYZ(_+0,m.x,m.y,m.z),r.setXYZ(_+1,m.x,m.y,m.z),r.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)pa.fromBufferAttribute(e,t),pa.normalize(),e.setXYZ(t,pa.x,pa.y,pa.z)}toNonIndexed(){function e(l,f){const d=l.array,m=l.itemSize,g=l.normalized,_=new d.constructor(f.length*m);let x=0,b=0;for(let M=0,T=f.length;M<T;M++){l.isInterleavedBufferAttribute?x=f[M]*l.data.stride+l.offset:x=f[M]*m;for(let A=0;A<m;A++)_[b++]=d[x++]}return new ei(_,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new dn,r=this.index.array,n=this.attributes;for(const l in n){const f=n[l],d=e(f,r);t.setAttribute(l,d)}const a=this.morphAttributes;for(const l in a){const f=[],d=a[l];for(let m=0,g=d.length;m<g;m++){const _=d[m],x=e(_,r);f.push(x)}t.morphAttributes[l]=f}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,f=s.length;l<f;l++){const d=s[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const f in r){const d=r[f];e.data.attributes[f]=d.toJSON(e.data)}const n={};let a=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let g=0,_=d.length;g<_;g++){const x=d[g];m.push(x.toJSON(e.data))}m.length>0&&(n[f]=m,a=!0)}a&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const n=e.attributes;for(const d in n){const m=n[d];this.setAttribute(d,m.clone(t))}const a=e.morphAttributes;for(const d in a){const m=[],g=a[d];for(let _=0,x=g.length;_<x;_++)m.push(g[_].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let d=0,m=s.length;d<m;d++){const g=s[d];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kU=new Qt,Ch=new Ip,sb=new _a,GU=new W,ob=new W,lb=new W,cb=new W,MT=new W,ub=new W,VU=new W,fb=new W;class _r extends Qn{constructor(e=new dn,t=new wo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const n=t[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=n.length;a<s;a++){const l=n[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,t){const r=this.geometry,n=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(n,e);const l=this.morphTargetInfluences;if(a&&l){ub.set(0,0,0);for(let f=0,d=a.length;f<d;f++){const m=l[f],g=a[f];m!==0&&(MT.fromBufferAttribute(g,e),s?ub.addScaledVector(MT,m):ub.addScaledVector(MT.sub(t),m))}t.add(ub)}return t}raycast(e,t){const r=this.geometry,n=this.material,a=this.matrixWorld;n!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),sb.copy(r.boundingSphere),sb.applyMatrix4(a),Ch.copy(e.ray).recast(e.near),!(sb.containsPoint(Ch.origin)===!1&&(Ch.intersectSphere(sb,GU)===null||Ch.origin.distanceToSquared(GU)>(e.far-e.near)**2))&&(kU.copy(a).invert(),Ch.copy(e.ray).applyMatrix4(kU),!(r.boundingBox!==null&&Ch.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Ch)))}_computeIntersections(e,t,r){let n;const a=this.geometry,s=this.material,l=a.index,f=a.attributes.position,d=a.attributes.uv,m=a.attributes.uv1,g=a.attributes.normal,_=a.groups,x=a.drawRange;if(l!==null)if(Array.isArray(s))for(let b=0,M=_.length;b<M;b++){const T=_[b],A=s[T.materialIndex],R=Math.max(T.start,x.start),B=Math.min(l.count,Math.min(T.start+T.count,x.start+x.count));for(let D=R,I=B;D<I;D+=3){const L=l.getX(D),P=l.getX(D+1),F=l.getX(D+2);n=db(this,A,e,r,d,m,g,L,P,F),n&&(n.faceIndex=Math.floor(D/3),n.face.materialIndex=T.materialIndex,t.push(n))}}else{const b=Math.max(0,x.start),M=Math.min(l.count,x.start+x.count);for(let T=b,A=M;T<A;T+=3){const R=l.getX(T),B=l.getX(T+1),D=l.getX(T+2);n=db(this,s,e,r,d,m,g,R,B,D),n&&(n.faceIndex=Math.floor(T/3),t.push(n))}}else if(f!==void 0)if(Array.isArray(s))for(let b=0,M=_.length;b<M;b++){const T=_[b],A=s[T.materialIndex],R=Math.max(T.start,x.start),B=Math.min(f.count,Math.min(T.start+T.count,x.start+x.count));for(let D=R,I=B;D<I;D+=3){const L=D,P=D+1,F=D+2;n=db(this,A,e,r,d,m,g,L,P,F),n&&(n.faceIndex=Math.floor(D/3),n.face.materialIndex=T.materialIndex,t.push(n))}}else{const b=Math.max(0,x.start),M=Math.min(f.count,x.start+x.count);for(let T=b,A=M;T<A;T+=3){const R=T,B=T+1,D=T+2;n=db(this,s,e,r,d,m,g,R,B,D),n&&(n.faceIndex=Math.floor(T/3),t.push(n))}}}}function RZ(i,e,t,r,n,a,s,l){let f;if(e.side===ea?f=r.intersectTriangle(s,a,n,!0,l):f=r.intersectTriangle(n,a,s,e.side===tc,l),f===null)return null;fb.copy(l),fb.applyMatrix4(i.matrixWorld);const d=t.ray.origin.distanceTo(fb);return d<t.near||d>t.far?null:{distance:d,point:fb.clone(),object:i}}function db(i,e,t,r,n,a,s,l,f,d){i.getVertexPosition(l,ob),i.getVertexPosition(f,lb),i.getVertexPosition(d,cb);const m=RZ(i,e,t,r,ob,lb,cb,VU);if(m){const g=new W;Ws.getBarycoord(VU,ob,lb,cb,g),n&&(m.uv=Ws.getInterpolatedAttribute(n,l,f,d,g,new He)),a&&(m.uv1=Ws.getInterpolatedAttribute(a,l,f,d,g,new He)),s&&(m.normal=Ws.getInterpolatedAttribute(s,l,f,d,g,new W),m.normal.dot(r.direction)>0&&m.normal.multiplyScalar(-1));const _={a:l,b:f,c:d,normal:new W,materialIndex:0};Ws.getNormal(ob,lb,cb,_.normal),m.face=_,m.barycoord=g}return m}class zp extends dn{constructor(e=1,t=1,r=1,n=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:a,depthSegments:s};const l=this;n=Math.floor(n),a=Math.floor(a),s=Math.floor(s);const f=[],d=[],m=[],g=[];let _=0,x=0;b("z","y","x",-1,-1,r,t,e,s,a,0),b("z","y","x",1,-1,r,t,-e,s,a,1),b("x","z","y",1,1,e,r,t,n,s,2),b("x","z","y",1,-1,e,r,-t,n,s,3),b("x","y","z",1,-1,e,t,r,n,a,4),b("x","y","z",-1,-1,e,t,-r,n,a,5),this.setIndex(f),this.setAttribute("position",new Pt(d,3)),this.setAttribute("normal",new Pt(m,3)),this.setAttribute("uv",new Pt(g,2));function b(M,T,A,R,B,D,I,L,P,F,O){const U=D/P,G=I/F,X=D/2,te=I/2,ce=L/2,le=P+1,V=F+1;let q=0,ee=0;const ve=new W;for(let J=0;J<V;J++){const Z=J*G-te;for(let he=0;he<le;he++){const Be=he*U-X;ve[M]=Be*R,ve[T]=Z*B,ve[A]=ce,d.push(ve.x,ve.y,ve.z),ve[M]=0,ve[T]=0,ve[A]=L>0?1:-1,m.push(ve.x,ve.y,ve.z),g.push(he/P),g.push(1-J/F),q+=1}}for(let J=0;J<F;J++)for(let Z=0;Z<P;Z++){const he=_+Z+le*J,Be=_+Z+le*(J+1),we=_+(Z+1)+le*(J+1),Xe=_+(Z+1)+le*J;f.push(he,Be,Xe),f.push(Be,we,Xe),ee+=6}l.addGroup(x,ee,O),x+=ee,_+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function uv(i){const e={};for(const t in i){e[t]={};for(const r in i[t]){const n=i[t][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=n.clone():Array.isArray(n)?e[t][r]=n.slice():e[t][r]=n}}return e}function Ts(i){const e={};for(let t=0;t<i.length;t++){const r=uv(i[t]);for(const n in r)e[n]=r[n]}return e}function DZ(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function v8(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:qn.workingColorSpace}const _8={clone:uv,merge:Ts};var BZ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,UZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Hr extends Tr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=BZ,this.fragmentShader=UZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=uv(e.uniforms),this.uniformsGroups=DZ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const s=this.uniforms[n].value;s&&s.isTexture?t.uniforms[n]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[n]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[n]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[n]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[n]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[n]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[n]={type:"m4",value:s.toArray()}:t.uniforms[n]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const n in this.extensions)this.extensions[n]===!0&&(r[n]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class BE extends Qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qt,this.projectionMatrix=new Qt,this.projectionMatrixInverse=new Qt,this.coordinateSystem=Co,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Zf=new W,jU=new He,$U=new He;class qi extends BE{constructor(e=50,t=1,r=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=lv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return lv*2*Math.atan(Math.tan(dp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Zf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Zf.x,Zf.y).multiplyScalar(-e/Zf.z),Zf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Zf.x,Zf.y).multiplyScalar(-e/Zf.z)}getViewSize(e,t){return this.getViewBounds(e,jU,$U),t.subVectors($U,jU)}setViewOffset(e,t,r,n,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(dp*.5*this.fov)/this.zoom,r=2*t,n=this.aspect*r,a=-.5*n;const s=this.view;if(this.view!==null&&this.view.enabled){const f=s.fullWidth,d=s.fullHeight;a+=s.offsetX*n/f,t-=s.offsetY*r/d,n*=s.width/f,r*=s.height/d}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+n,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const og=-90,lg=1;class y8 extends Qn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const n=new qi(og,lg,e,t);n.layers=this.layers,this.add(n);const a=new qi(og,lg,e,t);a.layers=this.layers,this.add(a);const s=new qi(og,lg,e,t);s.layers=this.layers,this.add(s);const l=new qi(og,lg,e,t);l.layers=this.layers,this.add(l);const f=new qi(og,lg,e,t);f.layers=this.layers,this.add(f);const d=new qi(og,lg,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,n,a,s,l,f]=t;for(const d of t)this.remove(d);if(e===Co)r.up.set(0,1,0),r.lookAt(1,0,0),n.up.set(0,1,0),n.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===ov)r.up.set(0,-1,0),r.lookAt(-1,0,0),n.up.set(0,-1,0),n.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:n}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,f,d,m]=this.children,g=e.getRenderTarget(),_=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const M=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,n),e.render(t,a),e.setRenderTarget(r,1,n),e.render(t,s),e.setRenderTarget(r,2,n),e.render(t,l),e.setRenderTarget(r,3,n),e.render(t,f),e.setRenderTarget(r,4,n),e.render(t,d),r.texture.generateMipmaps=M,e.setRenderTarget(r,5,n),e.render(t,m),e.setRenderTarget(g,_,x),e.xr.enabled=b,r.texture.needsPMREMUpdate=!0}}class rx extends wi{constructor(e=[],t=ef,r,n,a,s,l,f,d,m){super(e,t,r,n,a,s,l,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class x8 extends yr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},n=[r,r,r,r,r,r];this.texture=new rx(n),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new zp(5,5,5),a=new Hr({name:"CubemapFromEquirect",uniforms:uv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ea,blending:es});a.uniforms.tEquirect.value=t;const s=new _r(n,a),l=t.minFilter;return t.minFilter===hl&&(t.minFilter=ki),new y8(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,r=!0,n=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,n);e.setRenderTarget(a)}}class Zu extends Qn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const OZ={type:"move"};class aS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let n=null,a=null,s=null;const l=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){s=!0;for(const M of e.hand.values()){const T=t.getJointPose(M,r),A=this._getHandJoint(d,M);T!==null&&(A.matrix.fromArray(T.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=T.radius),A.visible=T!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],_=m.position.distanceTo(g.position),x=.02,b=.005;d.inputState.pinching&&_>x+b?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&_<=x-b&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(f.matrix.fromArray(a.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,a.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(a.linearVelocity)):f.hasLinearVelocity=!1,a.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(a.angularVelocity)):f.hasAngularVelocity=!1));l!==null&&(n=t.getPose(e.targetRaySpace,r),n===null&&a!==null&&(n=a),n!==null&&(l.matrix.fromArray(n.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,n.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(n.linearVelocity)):l.hasLinearVelocity=!1,n.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(n.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(OZ)))}return l!==null&&(l.visible=n!==null),f!==null&&(f.visible=a!==null),d!==null&&(d.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Zu;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class UE{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new xt(e),this.density=t}clone(){return new UE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class OE{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new xt(e),this.near=t,this.far=r}clone(){return new OE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Ey extends Qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Oo,this.environmentIntensity=1,this.environmentRotation=new Oo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class ax{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=by,this.updateRanges=[],this.version=0,this.uuid=Do()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let n=0,a=this.stride;n<a;n++)this.array[e+n]=t.array[r+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Do()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Do()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const As=new W;class Md{constructor(e,t,r,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)As.fromBufferAttribute(this,t),As.applyMatrix4(e),this.setXYZ(t,As.x,As.y,As.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)As.fromBufferAttribute(this,t),As.applyNormalMatrix(e),this.setXYZ(t,As.x,As.y,As.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)As.fromBufferAttribute(this,t),As.transformDirection(e),this.setXYZ(t,As.x,As.y,As.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=zs(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=yn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=yn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=yn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=yn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=yn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=zs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=zs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=zs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=zs(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array),n=yn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this}setXYZW(e,t,r,n,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=yn(t,this.array),r=yn(r,this.array),n=yn(n,this.array),a=yn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const n=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[n+a])}return new ei(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Md(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const n=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[n+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _D extends Tr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let cg;const s_=new W,ug=new W,fg=new W,dg=new He,o_=new He,b8=new Qt,hb=new W,l_=new W,pb=new W,XU=new He,TT=new He,ZU=new He;class S8 extends Qn{constructor(e=new _D){if(super(),this.isSprite=!0,this.type="Sprite",cg===void 0){cg=new dn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ax(t,5);cg.setIndex([0,1,2,0,2,3]),cg.setAttribute("position",new Md(r,3,0,!1)),cg.setAttribute("uv",new Md(r,2,3,!1))}this.geometry=cg,this.material=e,this.center=new He(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ug.setFromMatrixScale(this.matrixWorld),b8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ug.multiplyScalar(-fg.z);const r=this.material.rotation;let n,a;r!==0&&(a=Math.cos(r),n=Math.sin(r));const s=this.center;mb(hb.set(-.5,-.5,0),fg,s,ug,n,a),mb(l_.set(.5,-.5,0),fg,s,ug,n,a),mb(pb.set(.5,.5,0),fg,s,ug,n,a),XU.set(0,0),TT.set(1,0),ZU.set(1,1);let l=e.ray.intersectTriangle(hb,l_,pb,!1,s_);if(l===null&&(mb(l_.set(-.5,.5,0),fg,s,ug,n,a),TT.set(0,1),l=e.ray.intersectTriangle(hb,pb,l_,!1,s_),l===null))return;const f=e.ray.origin.distanceTo(s_);f<e.near||f>e.far||t.push({distance:f,point:s_.clone(),uv:Ws.getInterpolation(s_,hb,l_,pb,XU,TT,ZU,new He),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function mb(i,e,t,r,n,a){dg.subVectors(i,t).addScalar(.5).multiply(r),n!==void 0?(o_.x=a*dg.x-n*dg.y,o_.y=n*dg.x+a*dg.y):o_.copy(dg),i.copy(e),i.x+=o_.x,i.y+=o_.y,i.applyMatrix4(b8)}const gb=new W,YU=new W;class A8 extends Qn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,n=t.length;r<n;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const n=this.levels;let a;for(a=0;a<n.length&&!(t<n[a].distance);a++);return n.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const n=t.splice(r,1);return this.remove(n[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,n;for(r=1,n=t.length;r<n;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){gb.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(gb);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){gb.setFromMatrixPosition(e.matrixWorld),YU.setFromMatrixPosition(this.matrixWorld);const r=gb.distanceTo(YU)/e.zoom;t[0].object.visible=!0;let n,a;for(n=1,a=t.length;n<a;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),r>=s)t[n-1].object.visible=!1,t[n].object.visible=!0;else break}for(this._currentLevel=n-1;n<a;n++)t[n].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let n=0,a=r.length;n<a;n++){const s=r[n];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const JU=new W,qU=new Wn,WU=new Wn,NZ=new W,KU=new Qt,vb=new W,CT=new _a,QU=new Qt,wT=new Ip;class yD extends _r{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=lC,this.bindMatrix=new Qt,this.bindMatrixInverse=new Qt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ba),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,vb),this.boundingBox.expandByPoint(vb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new _a),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,vb),this.boundingSphere.expandByPoint(vb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,n=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),CT.copy(this.boundingSphere),CT.applyMatrix4(n),e.ray.intersectsSphere(CT)!==!1&&(QU.copy(n).invert(),wT.copy(e.ray).applyMatrix4(QU),!(this.boundingBox!==null&&wT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,wT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wn,t=this.geometry.attributes.skinWeight;for(let r=0,n=t.count;r<n;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===lC?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===e8?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,n=this.geometry;qU.fromBufferAttribute(n.attributes.skinIndex,e),WU.fromBufferAttribute(n.attributes.skinWeight,e),JU.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=WU.getComponent(a);if(s!==0){const l=qU.getComponent(a);KU.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),t.addScaledVector(NZ.copy(JU).applyMatrix4(KU),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class NE extends Qn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qc extends wi{constructor(e=null,t=1,r=1,n,a,s,l,f,d=Wi,m=Wi,g,_){super(null,s,l,f,d,m,n,a,g,_),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const eO=new Qt,IZ=new Qt;class sx{constructor(e=[],t=[]){this.uuid=Do(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Qt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Qt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:IZ;eO.multiplyMatrices(l,t[a]),eO.toArray(r,a*16)}n!==null&&(n.needsUpdate=!0)}clone(){return new sx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new qc(t,e,e,Ka,Ls);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,n=e.bones.length;r<n;r++){const a=e.bones[r];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new NE),this.bones.push(s),this.boneInverses.push(new Qt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let n=0,a=t.length;n<a;n++){const s=t[n];e.bones.push(s.uuid);const l=r[n];e.boneInverses.push(l.toArray())}return e}}class Ap extends ei{constructor(e,t,r,n=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const hg=new Qt,tO=new Qt,_b=[],nO=new Ba,zZ=new Qt,c_=new _r,u_=new _a;class xD extends _r{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ap(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let n=0;n<r;n++)this.setMatrixAt(n,zZ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ba),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,hg),nO.copy(e.boundingBox).applyMatrix4(hg),this.boundingBox.union(nO)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new _a),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,hg),u_.copy(e.boundingSphere).applyMatrix4(hg),this.boundingSphere.union(u_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,n=this.morphTexture.source.data.data,a=r.length+1,s=e*a+1;for(let l=0;l<r.length;l++)r[l]=n[s+l]}raycast(e,t){const r=this.matrixWorld,n=this.count;if(c_.geometry=this.geometry,c_.material=this.material,c_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),u_.copy(this.boundingSphere),u_.applyMatrix4(r),e.ray.intersectsSphere(u_)!==!1))for(let a=0;a<n;a++){this.getMatrixAt(a,hg),tO.multiplyMatrices(r,hg),c_.matrixWorld=tO,c_.raycast(e,_b);for(let s=0,l=_b.length;s<l;s++){const f=_b[s];f.instanceId=a,f.object=this,t.push(f)}_b.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ap(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,n=r.length+1;this.morphTexture===null&&(this.morphTexture=new qc(new Float32Array(n*this.count),n,this.count,EE,Ls));const a=this.morphTexture.source.data.data;let s=0;for(let d=0;d<r.length;d++)s+=r[d];const l=this.geometry.morphTargetsRelative?1:1-s,f=n*e;a[f]=l,a.set(r,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const RT=new W,LZ=new W,PZ=new vn;class Vu{constructor(e=new W(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const n=RT.subVectors(r,t).cross(LZ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(RT),n=this.normal.dot(r);if(n===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||PZ.getNormalMatrix(e),n=this.coplanarPoint(RT).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wh=new _a,FZ=new He(.5,.5),yb=new W;class _v{constructor(e=new Vu,t=new Vu,r=new Vu,n=new Vu,a=new Vu,s=new Vu){this.planes=[e,t,r,n,a,s]}set(e,t,r,n,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(r),l[3].copy(n),l[4].copy(a),l[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Co,r=!1){const n=this.planes,a=e.elements,s=a[0],l=a[1],f=a[2],d=a[3],m=a[4],g=a[5],_=a[6],x=a[7],b=a[8],M=a[9],T=a[10],A=a[11],R=a[12],B=a[13],D=a[14],I=a[15];if(n[0].setComponents(d-s,x-m,A-b,I-R).normalize(),n[1].setComponents(d+s,x+m,A+b,I+R).normalize(),n[2].setComponents(d+l,x+g,A+M,I+B).normalize(),n[3].setComponents(d-l,x-g,A-M,I-B).normalize(),r)n[4].setComponents(f,_,T,D).normalize(),n[5].setComponents(d-f,x-_,A-T,I-D).normalize();else if(n[4].setComponents(d-f,x-_,A-T,I-D).normalize(),t===Co)n[5].setComponents(d+f,x+_,A+T,I+D).normalize();else if(t===ov)n[5].setComponents(f,_,T,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),wh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wh)}intersectsSprite(e){wh.center.set(0,0,0);const t=FZ.distanceTo(e.center);return wh.radius=.7071067811865476+t,wh.applyMatrix4(e.matrixWorld),this.intersectsSphere(wh)}intersectsSphere(e){const t=this.planes,r=e.center,n=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<n)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const n=t[r];if(yb.x=n.normal.x>0?e.max.x:e.min.x,yb.y=n.normal.y>0?e.max.y:e.min.y,yb.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(yb)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Fc=new Qt,Hc=new _v;class IE{constructor(){this.coordinateSystem=Co}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const n=t.cameras[r];if(Fc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Hc.setFromProjectionMatrix(Fc,n.coordinateSystem,n.reversedDepth),Hc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const n=t.cameras[r];if(Fc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Hc.setFromProjectionMatrix(Fc,n.coordinateSystem,n.reversedDepth),Hc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const n=t.cameras[r];if(Fc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Hc.setFromProjectionMatrix(Fc,n.coordinateSystem,n.reversedDepth),Hc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const n=t.cameras[r];if(Fc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Hc.setFromProjectionMatrix(Fc,n.coordinateSystem,n.reversedDepth),Hc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const n=t.cameras[r];if(Fc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Hc.setFromProjectionMatrix(Fc,n.coordinateSystem,n.reversedDepth),Hc.containsPoint(e))return!0}return!1}clone(){return new IE}}function DT(i,e){return i-e}function HZ(i,e){return i.z-e.z}function kZ(i,e){return e.z-i.z}class GZ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,n){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=t,l.z=r,l.index=n}reset(){this.list.length=0,this.index=0}}const Xs=new Qt,VZ=new xt(1,1,1),iO=new _v,jZ=new IE,xb=new Ba,Rh=new _a,f_=new W,rO=new W,$Z=new W,BT=new GZ,Xa=new _r,bb=[];function XZ(i,e,t=0){const r=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const n=i.count;for(let a=0;a<n;a++)for(let s=0;s<r;s++)e.setComponent(a+t,s,i.getComponent(a,s))}else e.array.set(i.array,t*r);e.needsUpdate=!0}function Dh(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++)e[r]=i[r]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class E8 extends _r{constructor(e,t,r=t*2,n){super(new dn,n),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new qc(t,e,e,Ka,Ls);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new qc(t,e,e,ix,Qc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new qc(t,e,e,Ka,Ls);r.colorSpace=qn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,n=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:f,normalized:d}=s,m=new l.constructor(r*f),g=new ei(m,f,d);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(n):new Uint16Array(n);t.setIndex(new ei(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const n=e.getAttribute(r),a=t.getAttribute(r);if(n.itemSize!==a.itemSize||n.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ba);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,n=t.length;r<n;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Xs),this.getBoundingBoxAt(a,xb).applyMatrix4(Xs),e.union(xb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _a);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,n=t.length;r<n;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Xs),this.getBoundingSphereAt(a,Rh).applyMatrix4(Xs),e.union(Rh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(DT),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=r):(n=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;Xs.identity().toArray(a.image.data,n*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(VZ.toArray(s.image.data,n*4),s.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const n={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;n.vertexStart=this._nextVertexStart,n.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(n.indexStart=this._nextIndexStart,n.reservedIndexCount=r===-1?s.count:r),n.indexStart!==-1&&n.indexStart+n.reservedIndexCount>this._maxIndexCount||n.vertexStart+n.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(DT),f=this._availableGeometryIds.shift(),a[f]=n):(f=this._geometryCount,this._geometryCount++,a.push(n)),this.setGeometryAt(f,e),this._nextIndexStart=n.indexStart+n.reservedIndexCount,this._nextVertexStart=n.vertexStart+n.reservedVertexCount,f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,n=r.getIndex()!==null,a=r.getIndex(),s=t.getIndex(),l=this._geometryInfo[e];if(n&&s.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=l.vertexStart,d=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in r.attributes){const g=t.getAttribute(m),_=r.getAttribute(m);XZ(g,_,f);const x=g.itemSize;for(let b=g.count,M=d;b<M;b++){const T=f+b;for(let A=0;A<x;A++)_.setComponent(T,A,0)}_.needsUpdate=!0,_.addUpdateRange(f*x,d*x)}if(n){const m=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let _=0;_<s.count;_++)a.setX(m+_,f+s.getX(_));for(let _=s.count,x=g;_<x;_++)a.setX(m+_,f);a.needsUpdate=!0,a.addUpdateRange(m,l.reservedIndexCount)}return l.start=n?l.indexStart:l.vertexStart,l.count=n?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let n=0,a=r.length;n<a;n++)r[n].active&&r[n].geometryIndex===e&&this.deleteInstance(n);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,n=r.map((s,l)=>l).sort((s,l)=>r[s].vertexStart-r[l].vertexStart),a=this.geometry;for(let s=0,l=r.length;s<l;s++){const f=n[s],d=r[f];if(d.active!==!1){if(a.index!==null){if(d.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:_}=d,x=a.index,b=x.array,M=e-g;for(let T=m;T<m+_;T++)b[T]=b[T]+M;x.array.copyWithin(t,m,m+_),x.addUpdateRange(t,_),d.indexStart=t}t+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=d,_=a.attributes;for(const x in _){const b=_[x],{array:M,itemSize:T}=b;M.copyWithin(e*T,m*T,(m+g)*T),b.addUpdateRange(e*T,g*T)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=a.index?d.indexStart:d.vertexStart,this._nextIndexStart=a.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,n=this._geometryInfo[e];if(n.boundingBox===null){const a=new Ba,s=r.index,l=r.attributes.position;for(let f=n.start,d=n.start+n.count;f<d;f++){let m=f;s&&(m=s.getX(m)),a.expandByPoint(f_.fromBufferAttribute(l,m))}n.boundingBox=a}return t.copy(n.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,n=this._geometryInfo[e];if(n.boundingSphere===null){const a=new _a;this.getBoundingBoxAt(e,xb),xb.getCenter(a.center);const s=r.index,l=r.attributes.position;let f=0;for(let d=n.start,m=n.start+n.count;d<m;d++){let g=d;s&&(g=s.getX(g)),f_.fromBufferAttribute(l,g),f=Math.max(f,a.center.distanceToSquared(f_))}a.radius=Math.sqrt(f),n.boundingSphere=a}return t.copy(n.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,n=this._matricesTexture.image.data;return t.toArray(n,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(DT);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const n=new Int32Array(e),a=new Int32Array(e);Dh(this._multiDrawCounts,n),Dh(this._multiDrawStarts,a),this._multiDrawCounts=n,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,f=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Dh(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Dh(l.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Dh(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...r.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(f=>f.indexStart+f.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new dn,this._initializeGeometry(a));const s=this.geometry;a.index&&Dh(a.index.array,s.index.array);for(const l in a.attributes)Dh(a.attributes[l].array,s.attributes[l].array)}raycast(e,t){const r=this._instanceInfo,n=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Xa.material=this.material,Xa.geometry.index=s.index,Xa.geometry.attributes=s.attributes,Xa.geometry.boundingBox===null&&(Xa.geometry.boundingBox=new Ba),Xa.geometry.boundingSphere===null&&(Xa.geometry.boundingSphere=new _a);for(let l=0,f=r.length;l<f;l++){if(!r[l].visible||!r[l].active)continue;const d=r[l].geometryIndex,m=n[d];Xa.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,Xa.matrixWorld).premultiply(a),this.getBoundingBoxAt(d,Xa.geometry.boundingBox),this.getBoundingSphereAt(d,Xa.geometry.boundingSphere),Xa.raycast(e,bb);for(let g=0,_=bb.length;g<_;g++){const x=bb[g];x.object=this,x.batchId=l,t.push(x)}bb.length=0}Xa.material=null,Xa.geometry.index=null,Xa.geometry.attributes={},Xa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,n,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=n.getIndex(),l=s===null?1:s.array.BYTES_PER_ELEMENT,f=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,_=this.perObjectFrustumCulled,x=this._indirectTexture,b=x.image.data,M=r.isArrayCamera?jZ:iO;_&&!r.isArrayCamera&&(Xs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),iO.setFromProjectionMatrix(Xs,r.coordinateSystem,r.reversedDepth));let T=0;if(this.sortObjects){Xs.copy(this.matrixWorld).invert(),f_.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Xs),rO.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Xs);for(let B=0,D=f.length;B<D;B++)if(f[B].visible&&f[B].active){const I=f[B].geometryIndex;this.getMatrixAt(B,Xs),this.getBoundingSphereAt(I,Rh).applyMatrix4(Xs);let L=!1;if(_&&(L=!M.intersectsSphere(Rh,r)),!L){const P=g[I],F=$Z.subVectors(Rh.center,f_).dot(rO);BT.push(P.start,P.count,F,B)}}const A=BT.list,R=this.customSort;R===null?A.sort(a.transparent?kZ:HZ):R.call(this,A,r);for(let B=0,D=A.length;B<D;B++){const I=A[B];d[T]=I.start*l,m[T]=I.count,b[T]=I.index,T++}BT.reset()}else for(let A=0,R=f.length;A<R;A++)if(f[A].visible&&f[A].active){const B=f[A].geometryIndex;let D=!1;if(_&&(this.getMatrixAt(A,Xs),this.getBoundingSphereAt(B,Rh).applyMatrix4(Xs),D=!M.intersectsSphere(Rh,r)),!D){const I=g[B];d[T]=I.start*l,m[T]=I.count,b[T]=A,T++}}x.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,r,n,a,s){this.onBeforeRender(e,null,n,a,s)}}class ns extends Tr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const fA=new W,dA=new W,aO=new Qt,d_=new Ip,Sb=new _a,UT=new W,sO=new W;class tf extends Qn{constructor(e=new dn,t=new ns){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let n=1,a=t.count;n<a;n++)fA.fromBufferAttribute(t,n-1),dA.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=fA.distanceTo(dA);e.setAttribute("lineDistance",new Pt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,n=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Sb.copy(r.boundingSphere),Sb.applyMatrix4(n),Sb.radius+=a,e.ray.intersectsSphere(Sb)===!1)return;aO.copy(n).invert(),d_.copy(e.ray).applyMatrix4(aO);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=this.isLineSegments?2:1,m=r.index,_=r.attributes.position;if(m!==null){const x=Math.max(0,s.start),b=Math.min(m.count,s.start+s.count);for(let M=x,T=b-1;M<T;M+=d){const A=m.getX(M),R=m.getX(M+1),B=Ab(this,e,d_,f,A,R,M);B&&t.push(B)}if(this.isLineLoop){const M=m.getX(b-1),T=m.getX(x),A=Ab(this,e,d_,f,M,T,b-1);A&&t.push(A)}}else{const x=Math.max(0,s.start),b=Math.min(_.count,s.start+s.count);for(let M=x,T=b-1;M<T;M+=d){const A=Ab(this,e,d_,f,M,M+1,M);A&&t.push(A)}if(this.isLineLoop){const M=Ab(this,e,d_,f,b-1,x,b-1);M&&t.push(M)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const n=t[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=n.length;a<s;a++){const l=n[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function Ab(i,e,t,r,n,a,s){const l=i.geometry.attributes.position;if(fA.fromBufferAttribute(l,n),dA.fromBufferAttribute(l,a),t.distanceSqToSegment(fA,dA,UT,sO)>r)return;UT.applyMatrix4(i.matrixWorld);const d=e.ray.origin.distanceTo(UT);if(!(d<e.near||d>e.far))return{distance:d,point:sO.clone().applyMatrix4(i.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:i}}const oO=new W,lO=new W;class rc extends tf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let n=0,a=t.count;n<a;n+=2)oO.fromBufferAttribute(t,n),lO.fromBufferAttribute(t,n+1),r[n]=n===0?0:r[n-1],r[n+1]=r[n]+oO.distanceTo(lO);e.setAttribute("lineDistance",new Pt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bD extends tf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class zE extends Tr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const cO=new Qt,fC=new Ip,Eb=new _a,Mb=new W;class SD extends Qn{constructor(e=new dn,t=new zE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,n=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Eb.copy(r.boundingSphere),Eb.applyMatrix4(n),Eb.radius+=a,e.ray.intersectsSphere(Eb)===!1)return;cO.copy(n).invert(),fC.copy(e.ray).applyMatrix4(cO);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=r.index,g=r.attributes.position;if(d!==null){const _=Math.max(0,s.start),x=Math.min(d.count,s.start+s.count);for(let b=_,M=x;b<M;b++){const T=d.getX(b);Mb.fromBufferAttribute(g,T),uO(Mb,T,f,n,e,t,this)}}else{const _=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let b=_,M=x;b<M;b++)Mb.fromBufferAttribute(g,b),uO(Mb,b,f,n,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const n=t[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=n.length;a<s;a++){const l=n[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function uO(i,e,t,r,n,a,s){const l=fC.distanceSqToPoint(i);if(l<t){const f=new W;fC.closestPointToPoint(i,f),f.applyMatrix4(r);const d=n.ray.origin.distanceTo(f);if(d<n.near||d>n.far)return;a.push({distance:d,distanceToRay:Math.sqrt(l),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class M8 extends wi{constructor(e,t,r,n,a=ki,s=ki,l,f,d){super(e,t,r,n,a,s,l,f,d),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class ZZ extends M8{constructor(e,t,r,n,a,s,l,f){super({},e,t,r,n,a,s,l,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class YZ extends wi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Wi,this.minFilter=Wi,this.generateMipmaps=!1,this.needsUpdate=!0}}class LE extends wi{constructor(e,t,r,n,a,s,l,f,d,m,g,_){super(null,s,l,f,d,m,n,a,g,_),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class JZ extends LE{constructor(e,t,r,n,a,s){super(e,t,r,a,s),this.isCompressedArrayTexture=!0,this.image.depth=n,this.wrapR=To,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qZ extends LE{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,ef),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class WZ extends wi{constructor(e,t,r,n,a,s,l,f,d){super(e,t,r,n,a,s,l,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class PE extends wi{constructor(e,t,r=Qc,n,a,s,l=Wi,f=Wi,d,m=rv,g=1){if(m!==rv&&m!==Sp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const _={width:e,height:t,depth:g};super(_,n,a,s,l,f,m,r,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new od(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class AD extends wi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class FE extends dn{constructor(e=1,t=1,r=4,n=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:n,heightSegments:a},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),n=Math.max(3,Math.floor(n)),a=Math.max(1,Math.floor(a));const s=[],l=[],f=[],d=[],m=t/2,g=Math.PI/2*e,_=t,x=2*g+_,b=r*2+a,M=n+1,T=new W,A=new W;for(let R=0;R<=b;R++){let B=0,D=0,I=0,L=0;if(R<=r){const O=R/r,U=O*Math.PI/2;D=-m-e*Math.cos(U),I=e*Math.sin(U),L=-e*Math.cos(U),B=O*g}else if(R<=r+a){const O=(R-r)/a;D=-m+O*t,I=e,L=0,B=g+O*_}else{const O=(R-r-a)/r,U=O*Math.PI/2;D=m+e*Math.sin(U),I=e*Math.cos(U),L=e*Math.sin(U),B=g+_+O*g}const P=Math.max(0,Math.min(1,B/x));let F=0;R===0?F=.5/n:R===b&&(F=-.5/n);for(let O=0;O<=n;O++){const U=O/n,G=U*Math.PI*2,X=Math.sin(G),te=Math.cos(G);A.x=-I*te,A.y=D,A.z=I*X,l.push(A.x,A.y,A.z),T.set(-I*te,L,I*X),T.normalize(),f.push(T.x,T.y,T.z),d.push(U+F,P)}if(R>0){const O=(R-1)*M;for(let U=0;U<n;U++){const G=O+U,X=O+U+1,te=R*M+U,ce=R*M+U+1;s.push(G,X,te),s.push(X,ce,te)}}}this.setIndex(s),this.setAttribute("position",new Pt(l,3)),this.setAttribute("normal",new Pt(f,3)),this.setAttribute("uv",new Pt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class HE extends dn{constructor(e=1,t=32,r=0,n=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},t=Math.max(3,t);const a=[],s=[],l=[],f=[],d=new W,m=new He;s.push(0,0,0),l.push(0,0,1),f.push(.5,.5);for(let g=0,_=3;g<=t;g++,_+=3){const x=r+g/t*n;d.x=e*Math.cos(x),d.y=e*Math.sin(x),s.push(d.x,d.y,d.z),l.push(0,0,1),m.x=(s[_]/e+1)/2,m.y=(s[_+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Pt(s,3)),this.setAttribute("normal",new Pt(l,3)),this.setAttribute("uv",new Pt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new HE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ox extends dn{constructor(e=1,t=1,r=1,n=32,a=1,s=!1,l=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:f};const d=this;n=Math.floor(n),a=Math.floor(a);const m=[],g=[],_=[],x=[];let b=0;const M=[],T=r/2;let A=0;R(),s===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new Pt(g,3)),this.setAttribute("normal",new Pt(_,3)),this.setAttribute("uv",new Pt(x,2));function R(){const D=new W,I=new W;let L=0;const P=(t-e)/r;for(let F=0;F<=a;F++){const O=[],U=F/a,G=U*(t-e)+e;for(let X=0;X<=n;X++){const te=X/n,ce=te*f+l,le=Math.sin(ce),V=Math.cos(ce);I.x=G*le,I.y=-U*r+T,I.z=G*V,g.push(I.x,I.y,I.z),D.set(le,P,V).normalize(),_.push(D.x,D.y,D.z),x.push(te,1-U),O.push(b++)}M.push(O)}for(let F=0;F<n;F++)for(let O=0;O<a;O++){const U=M[O][F],G=M[O+1][F],X=M[O+1][F+1],te=M[O][F+1];(e>0||O!==0)&&(m.push(U,G,te),L+=3),(t>0||O!==a-1)&&(m.push(G,X,te),L+=3)}d.addGroup(A,L,0),A+=L}function B(D){const I=b,L=new He,P=new W;let F=0;const O=D===!0?e:t,U=D===!0?1:-1;for(let X=1;X<=n;X++)g.push(0,T*U,0),_.push(0,U,0),x.push(.5,.5),b++;const G=b;for(let X=0;X<=n;X++){const ce=X/n*f+l,le=Math.cos(ce),V=Math.sin(ce);P.x=O*V,P.y=T*U,P.z=O*le,g.push(P.x,P.y,P.z),_.push(0,U,0),L.x=le*.5+.5,L.y=V*.5*U+.5,x.push(L.x,L.y),b++}for(let X=0;X<n;X++){const te=I+X,ce=G+X;D===!0?m.push(ce,ce+1,te):m.push(ce+1,ce,te),F+=3}d.addGroup(A,F,D===!0?1:2),A+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ox(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class lx extends ox{constructor(e=1,t=1,r=32,n=1,a=!1,s=0,l=Math.PI*2){super(0,e,t,r,n,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new lx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rd extends dn{constructor(e=[],t=[],r=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n};const a=[],s=[];l(n),d(r),m(),this.setAttribute("position",new Pt(a,3)),this.setAttribute("normal",new Pt(a.slice(),3)),this.setAttribute("uv",new Pt(s,2)),n===0?this.computeVertexNormals():this.normalizeNormals();function l(R){const B=new W,D=new W,I=new W;for(let L=0;L<t.length;L+=3)x(t[L+0],B),x(t[L+1],D),x(t[L+2],I),f(B,D,I,R)}function f(R,B,D,I){const L=I+1,P=[];for(let F=0;F<=L;F++){P[F]=[];const O=R.clone().lerp(D,F/L),U=B.clone().lerp(D,F/L),G=L-F;for(let X=0;X<=G;X++)X===0&&F===L?P[F][X]=O:P[F][X]=O.clone().lerp(U,X/G)}for(let F=0;F<L;F++)for(let O=0;O<2*(L-F)-1;O++){const U=Math.floor(O/2);O%2===0?(_(P[F][U+1]),_(P[F+1][U]),_(P[F][U])):(_(P[F][U+1]),_(P[F+1][U+1]),_(P[F+1][U]))}}function d(R){const B=new W;for(let D=0;D<a.length;D+=3)B.x=a[D+0],B.y=a[D+1],B.z=a[D+2],B.normalize().multiplyScalar(R),a[D+0]=B.x,a[D+1]=B.y,a[D+2]=B.z}function m(){const R=new W;for(let B=0;B<a.length;B+=3){R.x=a[B+0],R.y=a[B+1],R.z=a[B+2];const D=T(R)/2/Math.PI+.5,I=A(R)/Math.PI+.5;s.push(D,1-I)}b(),g()}function g(){for(let R=0;R<s.length;R+=6){const B=s[R+0],D=s[R+2],I=s[R+4],L=Math.max(B,D,I),P=Math.min(B,D,I);L>.9&&P<.1&&(B<.2&&(s[R+0]+=1),D<.2&&(s[R+2]+=1),I<.2&&(s[R+4]+=1))}}function _(R){a.push(R.x,R.y,R.z)}function x(R,B){const D=R*3;B.x=e[D+0],B.y=e[D+1],B.z=e[D+2]}function b(){const R=new W,B=new W,D=new W,I=new W,L=new He,P=new He,F=new He;for(let O=0,U=0;O<a.length;O+=9,U+=6){R.set(a[O+0],a[O+1],a[O+2]),B.set(a[O+3],a[O+4],a[O+5]),D.set(a[O+6],a[O+7],a[O+8]),L.set(s[U+0],s[U+1]),P.set(s[U+2],s[U+3]),F.set(s[U+4],s[U+5]),I.copy(R).add(B).add(D).divideScalar(3);const G=T(I);M(L,U+0,R,G),M(P,U+2,B,G),M(F,U+4,D,G)}}function M(R,B,D,I){I<0&&R.x===1&&(s[B]=R.x-1),D.x===0&&D.z===0&&(s[B]=I/2/Math.PI+.5)}function T(R){return Math.atan2(R.z,-R.x)}function A(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rd(e.vertices,e.indices,e.radius,e.details)}}class kE extends Rd{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,n=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kE(e.radius,e.detail)}}const Tb=new W,Cb=new W,OT=new W,wb=new Ws;class T8 extends dn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const n=Math.pow(10,4),a=Math.cos(dp*t),s=e.getIndex(),l=e.getAttribute("position"),f=s?s.count:l.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),_={},x=[];for(let b=0;b<f;b+=3){s?(d[0]=s.getX(b),d[1]=s.getX(b+1),d[2]=s.getX(b+2)):(d[0]=b,d[1]=b+1,d[2]=b+2);const{a:M,b:T,c:A}=wb;if(M.fromBufferAttribute(l,d[0]),T.fromBufferAttribute(l,d[1]),A.fromBufferAttribute(l,d[2]),wb.getNormal(OT),g[0]=`${Math.round(M.x*n)},${Math.round(M.y*n)},${Math.round(M.z*n)}`,g[1]=`${Math.round(T.x*n)},${Math.round(T.y*n)},${Math.round(T.z*n)}`,g[2]=`${Math.round(A.x*n)},${Math.round(A.y*n)},${Math.round(A.z*n)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const B=(R+1)%3,D=g[R],I=g[B],L=wb[m[R]],P=wb[m[B]],F=`${D}_${I}`,O=`${I}_${D}`;O in _&&_[O]?(OT.dot(_[O].normal)<=a&&(x.push(L.x,L.y,L.z),x.push(P.x,P.y,P.z)),_[O]=null):F in _||(_[F]={index0:d[R],index1:d[B],normal:OT.clone()})}}for(const b in _)if(_[b]){const{index0:M,index1:T}=_[b];Tb.fromBufferAttribute(l,M),Cb.fromBufferAttribute(l,T),x.push(Tb.x,Tb.y,Tb.z),x.push(Cb.x,Cb.y,Cb.z)}this.setAttribute("position",new Pt(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ac{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,n=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(n),t.push(a),n=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let n=0;const a=r.length;let s;t?s=t:s=e*r[a-1];let l=0,f=a-1,d;for(;l<=f;)if(n=Math.floor(l+(f-l)/2),d=r[n]-s,d<0)l=n+1;else if(d>0)f=n-1;else{f=n;break}if(n=f,r[n]===s)return n/(a-1);const m=r[n],_=r[n+1]-m,x=(s-m)/_;return(n+x)/(a-1)}getTangent(e,t){let n=e-1e-4,a=e+1e-4;n<0&&(n=0),a>1&&(a=1);const s=this.getPoint(n),l=this.getPoint(a),f=t||(s.isVector2?new He:new W);return f.copy(l).sub(s).normalize(),f}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new W,n=[],a=[],s=[],l=new W,f=new Qt;for(let x=0;x<=e;x++){const b=x/e;n[x]=this.getTangentAt(b,new W)}a[0]=new W,s[0]=new W;let d=Number.MAX_VALUE;const m=Math.abs(n[0].x),g=Math.abs(n[0].y),_=Math.abs(n[0].z);m<=d&&(d=m,r.set(1,0,0)),g<=d&&(d=g,r.set(0,1,0)),_<=d&&r.set(0,0,1),l.crossVectors(n[0],r).normalize(),a[0].crossVectors(n[0],l),s[0].crossVectors(n[0],a[0]);for(let x=1;x<=e;x++){if(a[x]=a[x-1].clone(),s[x]=s[x-1].clone(),l.crossVectors(n[x-1],n[x]),l.length()>Number.EPSILON){l.normalize();const b=Math.acos(an(n[x-1].dot(n[x]),-1,1));a[x].applyMatrix4(f.makeRotationAxis(l,b))}s[x].crossVectors(n[x],a[x])}if(t===!0){let x=Math.acos(an(a[0].dot(a[e]),-1,1));x/=e,n[0].dot(l.crossVectors(a[0],a[e]))>0&&(x=-x);for(let b=1;b<=e;b++)a[b].applyMatrix4(f.makeRotationAxis(n[b],x*b)),s[b].crossVectors(n[b],a[b])}return{tangents:n,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class GE extends ac{constructor(e=0,t=0,r=1,n=1,a=0,s=Math.PI*2,l=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=n,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=f}getPoint(e,t=new He){const r=t,n=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=n;for(;a>n;)a-=n;a<Number.EPSILON&&(s?a=0:a=n),this.aClockwise===!0&&!s&&(a===n?a=-n:a=a-n);const l=this.aStartAngle+e*a;let f=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),_=f-this.aX,x=d-this.aY;f=_*m-x*g+this.aX,d=_*g+x*m+this.aY}return r.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class C8 extends GE{constructor(e,t,r,n,a,s){super(e,t,r,r,n,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function ED(){let i=0,e=0,t=0,r=0;function n(a,s,l,f){i=a,e=l,t=-3*a+3*s-2*l-f,r=2*a-2*s+l+f}return{initCatmullRom:function(a,s,l,f,d){n(s,l,d*(l-a),d*(f-s))},initNonuniformCatmullRom:function(a,s,l,f,d,m,g){let _=(s-a)/d-(l-a)/(d+m)+(l-s)/m,x=(l-s)/m-(f-s)/(m+g)+(f-l)/g;_*=m,x*=m,n(s,l,_,x)},calc:function(a){const s=a*a,l=s*a;return i+e*a+t*s+r*l}}}const Rb=new W,NT=new ED,IT=new ED,zT=new ED;class w8 extends ac{constructor(e=[],t=!1,r="centripetal",n=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=n}getPoint(e,t=new W){const r=t,n=this.points,a=n.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),f=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:f===0&&l===a-1&&(l=a-2,f=1);let d,m;this.closed||l>0?d=n[(l-1)%a]:(Rb.subVectors(n[0],n[1]).add(n[0]),d=Rb);const g=n[l%a],_=n[(l+1)%a];if(this.closed||l+2<a?m=n[(l+2)%a]:(Rb.subVectors(n[a-1],n[a-2]).add(n[a-1]),m=Rb),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let b=Math.pow(d.distanceToSquared(g),x),M=Math.pow(g.distanceToSquared(_),x),T=Math.pow(_.distanceToSquared(m),x);M<1e-4&&(M=1),b<1e-4&&(b=M),T<1e-4&&(T=M),NT.initNonuniformCatmullRom(d.x,g.x,_.x,m.x,b,M,T),IT.initNonuniformCatmullRom(d.y,g.y,_.y,m.y,b,M,T),zT.initNonuniformCatmullRom(d.z,g.z,_.z,m.z,b,M,T)}else this.curveType==="catmullrom"&&(NT.initCatmullRom(d.x,g.x,_.x,m.x,this.tension),IT.initCatmullRom(d.y,g.y,_.y,m.y,this.tension),zT.initCatmullRom(d.z,g.z,_.z,m.z,this.tension));return r.set(NT.calc(f),IT.calc(f),zT.calc(f)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const n=e.points[t];this.points.push(new W().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function fO(i,e,t,r,n){const a=(r-e)*.5,s=(n-t)*.5,l=i*i,f=i*l;return(2*t-2*r+a+s)*f+(-3*t+3*r-2*a-s)*l+a*i+t}function KZ(i,e){const t=1-i;return t*t*e}function QZ(i,e){return 2*(1-i)*i*e}function eY(i,e){return i*i*e}function J_(i,e,t,r){return KZ(i,e)+QZ(i,t)+eY(i,r)}function tY(i,e){const t=1-i;return t*t*t*e}function nY(i,e){const t=1-i;return 3*t*t*i*e}function iY(i,e){return 3*(1-i)*i*i*e}function rY(i,e){return i*i*i*e}function q_(i,e,t,r,n){return tY(i,e)+nY(i,t)+iY(i,r)+rY(i,n)}class MD extends ac{constructor(e=new He,t=new He,r=new He,n=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new He){const r=t,n=this.v0,a=this.v1,s=this.v2,l=this.v3;return r.set(q_(e,n.x,a.x,s.x,l.x),q_(e,n.y,a.y,s.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class R8 extends ac{constructor(e=new W,t=new W,r=new W,n=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new W){const r=t,n=this.v0,a=this.v1,s=this.v2,l=this.v3;return r.set(q_(e,n.x,a.x,s.x,l.x),q_(e,n.y,a.y,s.y,l.y),q_(e,n.z,a.z,s.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TD extends ac{constructor(e=new He,t=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new He){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new He){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D8 extends ac{constructor(e=new W,t=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new W){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new W){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CD extends ac{constructor(e=new He,t=new He,r=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new He){const r=t,n=this.v0,a=this.v1,s=this.v2;return r.set(J_(e,n.x,a.x,s.x),J_(e,n.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wD extends ac{constructor(e=new W,t=new W,r=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new W){const r=t,n=this.v0,a=this.v1,s=this.v2;return r.set(J_(e,n.x,a.x,s.x),J_(e,n.y,a.y,s.y),J_(e,n.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RD extends ac{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new He){const r=t,n=this.points,a=(n.length-1)*e,s=Math.floor(a),l=a-s,f=n[s===0?s:s-1],d=n[s],m=n[s>n.length-2?n.length-1:s+1],g=n[s>n.length-3?n.length-1:s+2];return r.set(fO(l,f.x,d.x,m.x,g.x),fO(l,f.y,d.y,m.y,g.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const n=e.points[t];this.points.push(new He().fromArray(n))}return this}}var hA=Object.freeze({__proto__:null,ArcCurve:C8,CatmullRomCurve3:w8,CubicBezierCurve:MD,CubicBezierCurve3:R8,EllipseCurve:GE,LineCurve:TD,LineCurve3:D8,QuadraticBezierCurve:CD,QuadraticBezierCurve3:wD,SplineCurve:RD});class B8 extends ac{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new hA[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),n=this.getCurveLengths();let a=0;for(;a<n.length;){if(n[a]>=r){const s=n[a]-r,l=this.curves[a],f=l.getLength(),d=f===0?0:1-s/f;return l.getPointAt(d,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let n=0,a=this.curves;n<a.length;n++){const s=a[n],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,f=s.getPoints(l);for(let d=0;d<f.length;d++){const m=f[d];r&&r.equals(m)||(t.push(m),r=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const n=e.curves[t];this.curves.push(new hA[n.type]().fromJSON(n))}return this}}class pA extends B8{constructor(e){super(),this.type="Path",this.currentPoint=new He,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new TD(this.currentPoint.clone(),new He(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,n){const a=new CD(this.currentPoint.clone(),new He(e,t),new He(r,n));return this.curves.push(a),this.currentPoint.set(r,n),this}bezierCurveTo(e,t,r,n,a,s){const l=new MD(this.currentPoint.clone(),new He(e,t),new He(r,n),new He(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new RD(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,n,a,s){const l=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+l,t+f,r,n,a,s),this}absarc(e,t,r,n,a,s){return this.absellipse(e,t,r,r,n,a,s),this}ellipse(e,t,r,n,a,s,l,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,r,n,a,s,l,f),this}absellipse(e,t,r,n,a,s,l,f){const d=new GE(e,t,r,n,a,s,l,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hp extends pA{constructor(e){super(e),this.uuid=Do(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const n=e.holes[t];this.holes.push(new pA().fromJSON(n))}return this}}function aY(i,e,t=2){const r=e&&e.length,n=r?e[0]*t:i.length;let a=U8(i,0,n,t,!0);const s=[];if(!a||a.next===a.prev)return s;let l,f,d;if(r&&(a=uY(i,e,a,t)),i.length>80*t){l=1/0,f=1/0;let m=-1/0,g=-1/0;for(let _=t;_<n;_+=t){const x=i[_],b=i[_+1];x<l&&(l=x),b<f&&(f=b),x>m&&(m=x),b>g&&(g=b)}d=Math.max(m-l,g-f),d=d!==0?32767/d:0}return My(a,s,t,l,f,d,0),s}function U8(i,e,t,r,n){let a;if(n===bY(i,e,t,r)>0)for(let s=e;s<t;s+=r)a=dO(s/r|0,i[s],i[s+1],a);else for(let s=t-r;s>=e;s-=r)a=dO(s/r|0,i[s],i[s+1],a);return a&&fv(a,a.next)&&(Cy(a),a=a.next),a}function Ep(i,e){if(!i)return i;e||(e=i);let t=i,r;do if(r=!1,!t.steiner&&(fv(t,t.next)||ur(t.prev,t,t.next)===0)){if(Cy(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function My(i,e,t,r,n,a,s){if(!i)return;!s&&a&&mY(i,r,n,a);let l=i;for(;i.prev!==i.next;){const f=i.prev,d=i.next;if(a?oY(i,r,n,a):sY(i)){e.push(f.i,i.i,d.i),Cy(i),i=d.next,l=d.next;continue}if(i=d,i===l){s?s===1?(i=lY(Ep(i),e),My(i,e,t,r,n,a,2)):s===2&&cY(i,e,t,r,n,a):My(Ep(i),e,t,r,n,a,1);break}}}function sY(i){const e=i.prev,t=i,r=i.next;if(ur(e,t,r)>=0)return!1;const n=e.x,a=t.x,s=r.x,l=e.y,f=t.y,d=r.y,m=Math.min(n,a,s),g=Math.min(l,f,d),_=Math.max(n,a,s),x=Math.max(l,f,d);let b=r.next;for(;b!==e;){if(b.x>=m&&b.x<=_&&b.y>=g&&b.y<=x&&M_(n,l,a,f,s,d,b.x,b.y)&&ur(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function oY(i,e,t,r){const n=i.prev,a=i,s=i.next;if(ur(n,a,s)>=0)return!1;const l=n.x,f=a.x,d=s.x,m=n.y,g=a.y,_=s.y,x=Math.min(l,f,d),b=Math.min(m,g,_),M=Math.max(l,f,d),T=Math.max(m,g,_),A=dC(x,b,e,t,r),R=dC(M,T,e,t,r);let B=i.prevZ,D=i.nextZ;for(;B&&B.z>=A&&D&&D.z<=R;){if(B.x>=x&&B.x<=M&&B.y>=b&&B.y<=T&&B!==n&&B!==s&&M_(l,m,f,g,d,_,B.x,B.y)&&ur(B.prev,B,B.next)>=0||(B=B.prevZ,D.x>=x&&D.x<=M&&D.y>=b&&D.y<=T&&D!==n&&D!==s&&M_(l,m,f,g,d,_,D.x,D.y)&&ur(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;B&&B.z>=A;){if(B.x>=x&&B.x<=M&&B.y>=b&&B.y<=T&&B!==n&&B!==s&&M_(l,m,f,g,d,_,B.x,B.y)&&ur(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;D&&D.z<=R;){if(D.x>=x&&D.x<=M&&D.y>=b&&D.y<=T&&D!==n&&D!==s&&M_(l,m,f,g,d,_,D.x,D.y)&&ur(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function lY(i,e){let t=i;do{const r=t.prev,n=t.next.next;!fv(r,n)&&N8(r,t,t.next,n)&&Ty(r,n)&&Ty(n,r)&&(e.push(r.i,t.i,n.i),Cy(t),Cy(t.next),t=i=n),t=t.next}while(t!==i);return Ep(t)}function cY(i,e,t,r,n,a){let s=i;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&_Y(s,l)){let f=I8(s,l);s=Ep(s,s.next),f=Ep(f,f.next),My(s,e,t,r,n,a,0),My(f,e,t,r,n,a,0);return}l=l.next}s=s.next}while(s!==i)}function uY(i,e,t,r){const n=[];for(let a=0,s=e.length;a<s;a++){const l=e[a]*r,f=a<s-1?e[a+1]*r:i.length,d=U8(i,l,f,r,!1);d===d.next&&(d.steiner=!0),n.push(vY(d))}n.sort(fY);for(let a=0;a<n.length;a++)t=dY(n[a],t);return t}function fY(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const r=(i.next.y-i.y)/(i.next.x-i.x),n=(e.next.y-e.y)/(e.next.x-e.x);t=r-n}return t}function dY(i,e){const t=hY(i,e);if(!t)return e;const r=I8(t,i);return Ep(r,r.next),Ep(t,t.next)}function hY(i,e){let t=e;const r=i.x,n=i.y;let a=-1/0,s;if(fv(i,t))return t;do{if(fv(i,t.next))return t.next;if(n<=t.y&&n>=t.next.y&&t.next.y!==t.y){const g=t.x+(n-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=r&&g>a&&(a=g,s=t.x<t.next.x?t:t.next,g===r))return s}t=t.next}while(t!==e);if(!s)return null;const l=s,f=s.x,d=s.y;let m=1/0;t=s;do{if(r>=t.x&&t.x>=f&&r!==t.x&&O8(n<d?r:a,n,f,d,n<d?a:r,n,t.x,t.y)){const g=Math.abs(n-t.y)/(r-t.x);Ty(t,i)&&(g<m||g===m&&(t.x>s.x||t.x===s.x&&pY(s,t)))&&(s=t,m=g)}t=t.next}while(t!==l);return s}function pY(i,e){return ur(i.prev,i,e.prev)<0&&ur(e.next,i,i.next)<0}function mY(i,e,t,r){let n=i;do n.z===0&&(n.z=dC(n.x,n.y,e,t,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==i);n.prevZ.nextZ=null,n.prevZ=null,gY(n)}function gY(i){let e,t=1;do{let r=i,n;i=null;let a=null;for(e=0;r;){e++;let s=r,l=0;for(let d=0;d<t&&(l++,s=s.nextZ,!!s);d++);let f=t;for(;l>0||f>0&&s;)l!==0&&(f===0||!s||r.z<=s.z)?(n=r,r=r.nextZ,l--):(n=s,s=s.nextZ,f--),a?a.nextZ=n:i=n,n.prevZ=a,a=n;r=s}a.nextZ=null,t*=2}while(e>1);return i}function dC(i,e,t,r,n){return i=(i-t)*n|0,e=(e-r)*n|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function vY(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function O8(i,e,t,r,n,a,s,l){return(n-s)*(e-l)>=(i-s)*(a-l)&&(i-s)*(r-l)>=(t-s)*(e-l)&&(t-s)*(a-l)>=(n-s)*(r-l)}function M_(i,e,t,r,n,a,s,l){return!(i===s&&e===l)&&O8(i,e,t,r,n,a,s,l)}function _Y(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!yY(i,e)&&(Ty(i,e)&&Ty(e,i)&&xY(i,e)&&(ur(i.prev,i,e.prev)||ur(i,e.prev,e))||fv(i,e)&&ur(i.prev,i,i.next)>0&&ur(e.prev,e,e.next)>0)}function ur(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function fv(i,e){return i.x===e.x&&i.y===e.y}function N8(i,e,t,r){const n=Bb(ur(i,e,t)),a=Bb(ur(i,e,r)),s=Bb(ur(t,r,i)),l=Bb(ur(t,r,e));return!!(n!==a&&s!==l||n===0&&Db(i,t,e)||a===0&&Db(i,r,e)||s===0&&Db(t,i,r)||l===0&&Db(t,e,r))}function Db(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Bb(i){return i>0?1:i<0?-1:0}function yY(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&N8(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function Ty(i,e){return ur(i.prev,i,i.next)<0?ur(i,e,i.next)>=0&&ur(i,i.prev,e)>=0:ur(i,e,i.prev)<0||ur(i,i.next,e)<0}function xY(i,e){let t=i,r=!1;const n=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&n<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==i);return r}function I8(i,e){const t=hC(i.i,i.x,i.y),r=hC(e.i,e.x,e.y),n=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=n,n.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function dO(i,e,t,r){const n=hC(i,e,t);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Cy(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function hC(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function bY(i,e,t,r){let n=0;for(let a=e,s=t-r;a<t;a+=r)n+=(i[s]-i[a])*(i[a+1]+i[s+1]),s=a;return n}class SY{static triangulate(e,t,r=2){return aY(e,t,r)}}class Ql{static area(e){const t=e.length;let r=0;for(let n=t-1,a=0;a<t;n=a++)r+=e[n].x*e[a].y-e[a].x*e[n].y;return r*.5}static isClockWise(e){return Ql.area(e)<0}static triangulateShape(e,t){const r=[],n=[],a=[];hO(e),pO(r,e);let s=e.length;t.forEach(hO);for(let f=0;f<t.length;f++)n.push(s),s+=t[f].length,pO(r,t[f]);const l=SY.triangulate(r,n);for(let f=0;f<l.length;f+=3)a.push(l.slice(f,f+3));return a}}function hO(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function pO(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class VE extends dn{constructor(e=new hp([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,n=[],a=[];for(let l=0,f=e.length;l<f;l++){const d=e[l];s(d)}this.setAttribute("position",new Pt(n,3)),this.setAttribute("uv",new Pt(a,2)),this.computeVertexNormals();function s(l){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let _=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,b=t.bevelSize!==void 0?t.bevelSize:x-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,T=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:AY;let B,D=!1,I,L,P,F;A&&(B=A.getSpacedPoints(m),D=!0,_=!1,I=A.computeFrenetFrames(m,!1),L=new W,P=new W,F=new W),_||(T=0,x=0,b=0,M=0);const O=l.extractPoints(d);let U=O.shape;const G=O.holes;if(!Ql.isClockWise(U)){U=U.reverse();for(let Ie=0,Le=G.length;Ie<Le;Ie++){const Fe=G[Ie];Ql.isClockWise(Fe)&&(G[Ie]=Fe.reverse())}}function te(Ie){const Fe=10000000000000001e-36;let ae=Ie[0];for(let lt=1;lt<=Ie.length;lt++){const We=lt%Ie.length,rt=Ie[We],K=rt.x-ae.x,de=rt.y-ae.y,k=K*K+de*de,H=Math.max(Math.abs(rt.x),Math.abs(rt.y),Math.abs(ae.x),Math.abs(ae.y)),ie=Fe*H*H;if(k<=ie){Ie.splice(We,1),lt--;continue}ae=rt}}te(U),G.forEach(te);const ce=G.length,le=U;for(let Ie=0;Ie<ce;Ie++){const Le=G[Ie];U=U.concat(Le)}function V(Ie,Le,Fe){return Le||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ie.clone().addScaledVector(Le,Fe)}const q=U.length;function ee(Ie,Le,Fe){let ae,lt,We;const rt=Ie.x-Le.x,K=Ie.y-Le.y,de=Fe.x-Ie.x,k=Fe.y-Ie.y,H=rt*rt+K*K,ie=rt*k-K*de;if(Math.abs(ie)>Number.EPSILON){const oe=Math.sqrt(H),ye=Math.sqrt(de*de+k*k),xe=Le.x-K/oe,at=Le.y+rt/oe,Je=Fe.x-k/ye,_t=Fe.y+de/ye,ut=((Je-xe)*k-(_t-at)*de)/(rt*k-K*de);ae=xe+rt*ut-Ie.x,lt=at+K*ut-Ie.y;const Ke=ae*ae+lt*lt;if(Ke<=2)return new He(ae,lt);We=Math.sqrt(Ke/2)}else{let oe=!1;rt>Number.EPSILON?de>Number.EPSILON&&(oe=!0):rt<-Number.EPSILON?de<-Number.EPSILON&&(oe=!0):Math.sign(K)===Math.sign(k)&&(oe=!0),oe?(ae=-K,lt=rt,We=Math.sqrt(H)):(ae=rt,lt=K,We=Math.sqrt(H/2))}return new He(ae/We,lt/We)}const ve=[];for(let Ie=0,Le=le.length,Fe=Le-1,ae=Ie+1;Ie<Le;Ie++,Fe++,ae++)Fe===Le&&(Fe=0),ae===Le&&(ae=0),ve[Ie]=ee(le[Ie],le[Fe],le[ae]);const J=[];let Z,he=ve.concat();for(let Ie=0,Le=ce;Ie<Le;Ie++){const Fe=G[Ie];Z=[];for(let ae=0,lt=Fe.length,We=lt-1,rt=ae+1;ae<lt;ae++,We++,rt++)We===lt&&(We=0),rt===lt&&(rt=0),Z[ae]=ee(Fe[ae],Fe[We],Fe[rt]);J.push(Z),he=he.concat(Z)}let Be;if(T===0)Be=Ql.triangulateShape(le,G);else{const Ie=[],Le=[];for(let Fe=0;Fe<T;Fe++){const ae=Fe/T,lt=x*Math.cos(ae*Math.PI/2),We=b*Math.sin(ae*Math.PI/2)+M;for(let rt=0,K=le.length;rt<K;rt++){const de=V(le[rt],ve[rt],We);et(de.x,de.y,-lt),ae===0&&Ie.push(de)}for(let rt=0,K=ce;rt<K;rt++){const de=G[rt];Z=J[rt];const k=[];for(let H=0,ie=de.length;H<ie;H++){const oe=V(de[H],Z[H],We);et(oe.x,oe.y,-lt),ae===0&&k.push(oe)}ae===0&&Le.push(k)}}Be=Ql.triangulateShape(Ie,Le)}const we=Be.length,Xe=b+M;for(let Ie=0;Ie<q;Ie++){const Le=_?V(U[Ie],he[Ie],Xe):U[Ie];D?(P.copy(I.normals[0]).multiplyScalar(Le.x),L.copy(I.binormals[0]).multiplyScalar(Le.y),F.copy(B[0]).add(P).add(L),et(F.x,F.y,F.z)):et(Le.x,Le.y,0)}for(let Ie=1;Ie<=m;Ie++)for(let Le=0;Le<q;Le++){const Fe=_?V(U[Le],he[Le],Xe):U[Le];D?(P.copy(I.normals[Ie]).multiplyScalar(Fe.x),L.copy(I.binormals[Ie]).multiplyScalar(Fe.y),F.copy(B[Ie]).add(P).add(L),et(F.x,F.y,F.z)):et(Fe.x,Fe.y,g/m*Ie)}for(let Ie=T-1;Ie>=0;Ie--){const Le=Ie/T,Fe=x*Math.cos(Le*Math.PI/2),ae=b*Math.sin(Le*Math.PI/2)+M;for(let lt=0,We=le.length;lt<We;lt++){const rt=V(le[lt],ve[lt],ae);et(rt.x,rt.y,g+Fe)}for(let lt=0,We=G.length;lt<We;lt++){const rt=G[lt];Z=J[lt];for(let K=0,de=rt.length;K<de;K++){const k=V(rt[K],Z[K],ae);D?et(k.x,k.y+B[m-1].y,B[m-1].x+Fe):et(k.x,k.y,g+Fe)}}}_e(),Ce();function _e(){const Ie=n.length/3;if(_){let Le=0,Fe=q*Le;for(let ae=0;ae<we;ae++){const lt=Be[ae];mt(lt[2]+Fe,lt[1]+Fe,lt[0]+Fe)}Le=m+T*2,Fe=q*Le;for(let ae=0;ae<we;ae++){const lt=Be[ae];mt(lt[0]+Fe,lt[1]+Fe,lt[2]+Fe)}}else{for(let Le=0;Le<we;Le++){const Fe=Be[Le];mt(Fe[2],Fe[1],Fe[0])}for(let Le=0;Le<we;Le++){const Fe=Be[Le];mt(Fe[0]+q*m,Fe[1]+q*m,Fe[2]+q*m)}}r.addGroup(Ie,n.length/3-Ie,0)}function Ce(){const Ie=n.length/3;let Le=0;Ze(le,Le),Le+=le.length;for(let Fe=0,ae=G.length;Fe<ae;Fe++){const lt=G[Fe];Ze(lt,Le),Le+=lt.length}r.addGroup(Ie,n.length/3-Ie,1)}function Ze(Ie,Le){let Fe=Ie.length;for(;--Fe>=0;){const ae=Fe;let lt=Fe-1;lt<0&&(lt=Ie.length-1);for(let We=0,rt=m+T*2;We<rt;We++){const K=q*We,de=q*(We+1),k=Le+ae+K,H=Le+lt+K,ie=Le+lt+de,oe=Le+ae+de;Mt(k,H,ie,oe)}}}function et(Ie,Le,Fe){f.push(Ie),f.push(Le),f.push(Fe)}function mt(Ie,Le,Fe){kt(Ie),kt(Le),kt(Fe);const ae=n.length/3,lt=R.generateTopUV(r,n,ae-3,ae-2,ae-1);Q(lt[0]),Q(lt[1]),Q(lt[2])}function Mt(Ie,Le,Fe,ae){kt(Ie),kt(Le),kt(ae),kt(Le),kt(Fe),kt(ae);const lt=n.length/3,We=R.generateSideWallUV(r,n,lt-6,lt-3,lt-2,lt-1);Q(We[0]),Q(We[1]),Q(We[3]),Q(We[1]),Q(We[2]),Q(We[3])}function kt(Ie){n.push(f[Ie*3+0]),n.push(f[Ie*3+1]),n.push(f[Ie*3+2])}function Q(Ie){a.push(Ie.x),a.push(Ie.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return EY(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=t[e.shapes[a]];r.push(l)}const n=e.options.extrudePath;return n!==void 0&&(e.options.extrudePath=new hA[n.type]().fromJSON(n)),new VE(r,e.options)}}const AY={generateTopUV:function(i,e,t,r,n){const a=e[t*3],s=e[t*3+1],l=e[r*3],f=e[r*3+1],d=e[n*3],m=e[n*3+1];return[new He(a,s),new He(l,f),new He(d,m)]},generateSideWallUV:function(i,e,t,r,n,a){const s=e[t*3],l=e[t*3+1],f=e[t*3+2],d=e[r*3],m=e[r*3+1],g=e[r*3+2],_=e[n*3],x=e[n*3+1],b=e[n*3+2],M=e[a*3],T=e[a*3+1],A=e[a*3+2];return Math.abs(l-m)<Math.abs(s-d)?[new He(s,1-f),new He(d,1-g),new He(_,1-b),new He(M,1-A)]:[new He(l,1-f),new He(m,1-g),new He(x,1-b),new He(T,1-A)]}};function EY(i,e,t){if(t.shapes=[],Array.isArray(i))for(let r=0,n=i.length;r<n;r++){const a=i[r];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class jE extends Rd{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(n,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jE(e.radius,e.detail)}}class $E extends dn{constructor(e=[new He(0,-.5),new He(.5,0),new He(0,.5)],t=12,r=0,n=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t),n=an(n,0,Math.PI*2);const a=[],s=[],l=[],f=[],d=[],m=1/t,g=new W,_=new He,x=new W,b=new W,M=new W;let T=0,A=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:T=e[R+1].x-e[R].x,A=e[R+1].y-e[R].y,x.x=A*1,x.y=-T,x.z=A*0,M.copy(x),x.normalize(),f.push(x.x,x.y,x.z);break;case e.length-1:f.push(M.x,M.y,M.z);break;default:T=e[R+1].x-e[R].x,A=e[R+1].y-e[R].y,x.x=A*1,x.y=-T,x.z=A*0,b.copy(x),x.x+=M.x,x.y+=M.y,x.z+=M.z,x.normalize(),f.push(x.x,x.y,x.z),M.copy(b)}for(let R=0;R<=t;R++){const B=r+R*m*n,D=Math.sin(B),I=Math.cos(B);for(let L=0;L<=e.length-1;L++){g.x=e[L].x*D,g.y=e[L].y,g.z=e[L].x*I,s.push(g.x,g.y,g.z),_.x=R/t,_.y=L/(e.length-1),l.push(_.x,_.y);const P=f[3*L+0]*D,F=f[3*L+1],O=f[3*L+0]*I;d.push(P,F,O)}}for(let R=0;R<t;R++)for(let B=0;B<e.length-1;B++){const D=B+R*e.length,I=D,L=D+e.length,P=D+e.length+1,F=D+1;a.push(I,L,F),a.push(P,F,L)}this.setIndex(a),this.setAttribute("position",new Pt(s,3)),this.setAttribute("uv",new Pt(l,2)),this.setAttribute("normal",new Pt(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $E(e.points,e.segments,e.phiStart,e.phiLength)}}class cx extends Rd{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,n,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cx(e.radius,e.detail)}}class yv extends dn{constructor(e=1,t=1,r=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};const a=e/2,s=t/2,l=Math.floor(r),f=Math.floor(n),d=l+1,m=f+1,g=e/l,_=t/f,x=[],b=[],M=[],T=[];for(let A=0;A<m;A++){const R=A*_-s;for(let B=0;B<d;B++){const D=B*g-a;b.push(D,-R,0),M.push(0,0,1),T.push(B/l),T.push(1-A/f)}}for(let A=0;A<f;A++)for(let R=0;R<l;R++){const B=R+d*A,D=R+d*(A+1),I=R+1+d*(A+1),L=R+1+d*A;x.push(B,D,L),x.push(D,I,L)}this.setIndex(x),this.setAttribute("position",new Pt(b,3)),this.setAttribute("normal",new Pt(M,3)),this.setAttribute("uv",new Pt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yv(e.width,e.height,e.widthSegments,e.heightSegments)}}class XE extends dn{constructor(e=.5,t=1,r=32,n=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:a,thetaLength:s},r=Math.max(3,r),n=Math.max(1,n);const l=[],f=[],d=[],m=[];let g=e;const _=(t-e)/n,x=new W,b=new He;for(let M=0;M<=n;M++){for(let T=0;T<=r;T++){const A=a+T/r*s;x.x=g*Math.cos(A),x.y=g*Math.sin(A),f.push(x.x,x.y,x.z),d.push(0,0,1),b.x=(x.x/t+1)/2,b.y=(x.y/t+1)/2,m.push(b.x,b.y)}g+=_}for(let M=0;M<n;M++){const T=M*(r+1);for(let A=0;A<r;A++){const R=A+T,B=R,D=R+r+1,I=R+r+2,L=R+1;l.push(B,D,L),l.push(D,I,L)}}this.setIndex(l),this.setAttribute("position",new Pt(f,3)),this.setAttribute("normal",new Pt(d,3)),this.setAttribute("uv",new Pt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ZE extends dn{constructor(e=new hp([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],n=[],a=[],s=[];let l=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(l,f,m),l+=f,f=0;this.setIndex(r),this.setAttribute("position",new Pt(n,3)),this.setAttribute("normal",new Pt(a,3)),this.setAttribute("uv",new Pt(s,2));function d(m){const g=n.length/3,_=m.extractPoints(t);let x=_.shape;const b=_.holes;Ql.isClockWise(x)===!1&&(x=x.reverse());for(let T=0,A=b.length;T<A;T++){const R=b[T];Ql.isClockWise(R)===!0&&(b[T]=R.reverse())}const M=Ql.triangulateShape(x,b);for(let T=0,A=b.length;T<A;T++){const R=b[T];x=x.concat(R)}for(let T=0,A=x.length;T<A;T++){const R=x[T];n.push(R.x,R.y,0),a.push(0,0,1),s.push(R.x,R.y)}for(let T=0,A=M.length;T<A;T++){const R=M[T],B=R[0]+g,D=R[1]+g,I=R[2]+g;r.push(B,D,I),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return MY(t,e)}static fromJSON(e,t){const r=[];for(let n=0,a=e.shapes.length;n<a;n++){const s=t[e.shapes[n]];r.push(s)}return new ZE(r,e.curveSegments)}}function MY(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,r=i.length;t<r;t++){const n=i[t];e.shapes.push(n.uuid)}else e.shapes.push(i.uuid);return e}class ux extends dn{constructor(e=1,t=32,r=16,n=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:a,thetaStart:s,thetaLength:l},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const f=Math.min(s+l,Math.PI);let d=0;const m=[],g=new W,_=new W,x=[],b=[],M=[],T=[];for(let A=0;A<=r;A++){const R=[],B=A/r;let D=0;A===0&&s===0?D=.5/t:A===r&&f===Math.PI&&(D=-.5/t);for(let I=0;I<=t;I++){const L=I/t;g.x=-e*Math.cos(n+L*a)*Math.sin(s+B*l),g.y=e*Math.cos(s+B*l),g.z=e*Math.sin(n+L*a)*Math.sin(s+B*l),b.push(g.x,g.y,g.z),_.copy(g).normalize(),M.push(_.x,_.y,_.z),T.push(L+D,1-B),R.push(d++)}m.push(R)}for(let A=0;A<r;A++)for(let R=0;R<t;R++){const B=m[A][R+1],D=m[A][R],I=m[A+1][R],L=m[A+1][R+1];(A!==0||s>0)&&x.push(B,D,L),(A!==r-1||f<Math.PI)&&x.push(D,I,L)}this.setIndex(x),this.setAttribute("position",new Pt(b,3)),this.setAttribute("normal",new Pt(M,3)),this.setAttribute("uv",new Pt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ux(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class YE extends Rd{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,n,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YE(e.radius,e.detail)}}class JE extends dn{constructor(e=1,t=.4,r=12,n=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:a},r=Math.floor(r),n=Math.floor(n);const s=[],l=[],f=[],d=[],m=new W,g=new W,_=new W;for(let x=0;x<=r;x++)for(let b=0;b<=n;b++){const M=b/n*a,T=x/r*Math.PI*2;g.x=(e+t*Math.cos(T))*Math.cos(M),g.y=(e+t*Math.cos(T))*Math.sin(M),g.z=t*Math.sin(T),l.push(g.x,g.y,g.z),m.x=e*Math.cos(M),m.y=e*Math.sin(M),_.subVectors(g,m).normalize(),f.push(_.x,_.y,_.z),d.push(b/n),d.push(x/r)}for(let x=1;x<=r;x++)for(let b=1;b<=n;b++){const M=(n+1)*x+b-1,T=(n+1)*(x-1)+b-1,A=(n+1)*(x-1)+b,R=(n+1)*x+b;s.push(M,T,R),s.push(T,A,R)}this.setIndex(s),this.setAttribute("position",new Pt(l,3)),this.setAttribute("normal",new Pt(f,3)),this.setAttribute("uv",new Pt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class qE extends dn{constructor(e=1,t=.4,r=64,n=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:a,q:s},r=Math.floor(r),n=Math.floor(n);const l=[],f=[],d=[],m=[],g=new W,_=new W,x=new W,b=new W,M=new W,T=new W,A=new W;for(let B=0;B<=r;++B){const D=B/r*a*Math.PI*2;R(D,a,s,e,x),R(D+.01,a,s,e,b),T.subVectors(b,x),A.addVectors(b,x),M.crossVectors(T,A),A.crossVectors(M,T),M.normalize(),A.normalize();for(let I=0;I<=n;++I){const L=I/n*Math.PI*2,P=-t*Math.cos(L),F=t*Math.sin(L);g.x=x.x+(P*A.x+F*M.x),g.y=x.y+(P*A.y+F*M.y),g.z=x.z+(P*A.z+F*M.z),f.push(g.x,g.y,g.z),_.subVectors(g,x).normalize(),d.push(_.x,_.y,_.z),m.push(B/r),m.push(I/n)}}for(let B=1;B<=r;B++)for(let D=1;D<=n;D++){const I=(n+1)*(B-1)+(D-1),L=(n+1)*B+(D-1),P=(n+1)*B+D,F=(n+1)*(B-1)+D;l.push(I,L,F),l.push(L,P,F)}this.setIndex(l),this.setAttribute("position",new Pt(f,3)),this.setAttribute("normal",new Pt(d,3)),this.setAttribute("uv",new Pt(m,2));function R(B,D,I,L,P){const F=Math.cos(B),O=Math.sin(B),U=I/D*B,G=Math.cos(U);P.x=L*(2+G)*.5*F,P.y=L*(2+G)*O*.5,P.z=L*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class WE extends dn{constructor(e=new wD(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),t=64,r=1,n=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new W,f=new W,d=new He;let m=new W;const g=[],_=[],x=[],b=[];M(),this.setIndex(b),this.setAttribute("position",new Pt(g,3)),this.setAttribute("normal",new Pt(_,3)),this.setAttribute("uv",new Pt(x,2));function M(){for(let B=0;B<t;B++)T(B);T(a===!1?t:0),R(),A()}function T(B){m=e.getPointAt(B/t,m);const D=s.normals[B],I=s.binormals[B];for(let L=0;L<=n;L++){const P=L/n*Math.PI*2,F=Math.sin(P),O=-Math.cos(P);f.x=O*D.x+F*I.x,f.y=O*D.y+F*I.y,f.z=O*D.z+F*I.z,f.normalize(),_.push(f.x,f.y,f.z),l.x=m.x+r*f.x,l.y=m.y+r*f.y,l.z=m.z+r*f.z,g.push(l.x,l.y,l.z)}}function A(){for(let B=1;B<=t;B++)for(let D=1;D<=n;D++){const I=(n+1)*(B-1)+(D-1),L=(n+1)*B+(D-1),P=(n+1)*B+D,F=(n+1)*(B-1)+D;b.push(I,L,F),b.push(L,P,F)}}function R(){for(let B=0;B<=t;B++)for(let D=0;D<=n;D++)d.x=B/t,d.y=D/n,x.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new WE(new hA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class z8 extends dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,n=new W,a=new W;if(e.index!==null){const s=e.attributes.position,l=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const g=f[d],_=g.start,x=g.count;for(let b=_,M=_+x;b<M;b+=3)for(let T=0;T<3;T++){const A=l.getX(b+T),R=l.getX(b+(T+1)%3);n.fromBufferAttribute(s,A),a.fromBufferAttribute(s,R),mO(n,a,r)===!0&&(t.push(n.x,n.y,n.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,f=s.count/3;l<f;l++)for(let d=0;d<3;d++){const m=3*l+d,g=3*l+(d+1)%3;n.fromBufferAttribute(s,m),a.fromBufferAttribute(s,g),mO(n,a,r)===!0&&(t.push(n.x,n.y,n.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Pt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function mO(i,e,t){const r=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,n=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(r)===!0||t.has(n)===!0?!1:(t.add(r),t.add(n),!0)}var gO=Object.freeze({__proto__:null,BoxGeometry:zp,CapsuleGeometry:FE,CircleGeometry:HE,ConeGeometry:lx,CylinderGeometry:ox,DodecahedronGeometry:kE,EdgesGeometry:T8,ExtrudeGeometry:VE,IcosahedronGeometry:jE,LatheGeometry:$E,OctahedronGeometry:cx,PlaneGeometry:yv,PolyhedronGeometry:Rd,RingGeometry:XE,ShapeGeometry:ZE,SphereGeometry:ux,TetrahedronGeometry:YE,TorusGeometry:JE,TorusKnotGeometry:qE,TubeGeometry:WE,WireframeGeometry:z8});class L8 extends Tr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new xt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class P8 extends Hr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class xv extends Tr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new xt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _l extends xv{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return an(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Kf extends Tr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xt(16777215),this.specular=new xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oo,this.combine=nx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F8 extends Tr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DD extends Tr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class H8 extends Tr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oo,this.combine=nx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KE extends Tr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=nc,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class BD extends Tr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class k8 extends Tr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class G8 extends ns{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function tp(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function V8(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function j8(i){function e(n,a){return i[n]-i[a]}const t=i.length,r=new Array(t);for(let n=0;n!==t;++n)r[n]=n;return r.sort(e),r}function pC(i,e,t){const r=i.length,n=new i.constructor(r);for(let a=0,s=0;s!==r;++a){const l=t[a]*e;for(let f=0;f!==e;++f)n[s++]=i[l+f]}return n}function UD(i,e,t,r){let n=1,a=i[0];for(;a!==void 0&&a[r]===void 0;)a=i[n++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push(...s)),a=i[n++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=i[n++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=i[n++];while(a!==void 0)}function TY(i,e,t,r,n=30){const a=i.clone();a.name=e;const s=[];for(let f=0;f<a.tracks.length;++f){const d=a.tracks[f],m=d.getValueSize(),g=[],_=[];for(let x=0;x<d.times.length;++x){const b=d.times[x]*n;if(!(b<t||b>=r)){g.push(d.times[x]);for(let M=0;M<m;++M)_.push(d.values[x*m+M])}}g.length!==0&&(d.times=tp(g,d.times.constructor),d.values=tp(_,d.values.constructor),s.push(d))}a.tracks=s;let l=1/0;for(let f=0;f<a.tracks.length;++f)l>a.tracks[f].times[0]&&(l=a.tracks[f].times[0]);for(let f=0;f<a.tracks.length;++f)a.tracks[f].shift(-1*l);return a.resetDuration(),a}function CY(i,e=0,t=i,r=30){r<=0&&(r=30);const n=t.tracks.length,a=e/r;for(let s=0;s<n;++s){const l=t.tracks[s],f=l.ValueTypeName;if(f==="bool"||f==="string")continue;const d=i.tracks.find(function(A){return A.name===l.name&&A.ValueTypeName===f});if(d===void 0)continue;let m=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let _=0;const x=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=x/3);const b=l.times.length-1;let M;if(a<=l.times[0]){const A=m,R=g-m;M=l.values.slice(A,R)}else if(a>=l.times[b]){const A=b*g+m,R=A+g-m;M=l.values.slice(A,R)}else{const A=l.createInterpolant(),R=m,B=g-m;A.evaluate(a),M=A.resultBuffer.slice(R,B)}f==="quaternion"&&new va().fromArray(M).normalize().conjugate().toArray(M);const T=d.times.length;for(let A=0;A<T;++A){const R=A*x+_;if(f==="quaternion")va.multiplyQuaternionsFlat(d.values,R,M,0,d.values,R);else{const B=x-_*2;for(let D=0;D<B;++D)d.values[R+D]-=M[D]}}}return i.blendMode=uD,i}class wY{static convertArray(e,t){return tp(e,t)}static isTypedArray(e){return V8(e)}static getKeyframeOrder(e){return j8(e)}static sortedArray(e,t,r){return pC(e,t,r)}static flattenJSON(e,t,r,n){UD(e,t,r,n)}static subclip(e,t,r,n,a=30){return TY(e,t,r,n,a)}static makeClipAdditive(e,t=0,r=e,n=30){return CY(e,t,r,n)}}class bv{constructor(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,n=t[r],a=t[r-1];e:{t:{let s;n:{i:if(!(e<n)){for(let l=r+2;;){if(n===void 0){if(e<a)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(a=n,n=t[++r],e<n)break t}s=t.length;break n}if(!(e>=a)){const l=t[1];e<l&&(r=2,a=l);for(let f=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===f)break;if(n=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const l=r+s>>>1;e<t[l]?s=l:r=l+1}if(n=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,n)}return this.interpolate_(r,a,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,a=e*n;for(let s=0;s!==n;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $8 extends bv{constructor(e,t,r,n){super(e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Qh,endingEnd:Qh}}intervalChanged_(e,t,r){const n=this.parameterPositions;let a=e-2,s=e+1,l=n[a],f=n[s];if(l===void 0)switch(this.getSettings_().endingStart){case ep:a=e,l=2*t-r;break;case yy:a=n.length-2,l=t+n[a]-n[a+1];break;default:a=e,l=r}if(f===void 0)switch(this.getSettings_().endingEnd){case ep:s=e,f=2*r-t;break;case yy:s=1,f=r+n[1]-n[0];break;default:s=e-1,f=t}const d=(r-t)*.5,m=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(f-r),this._offsetPrev=a*m,this._offsetNext=s*m}interpolate_(e,t,r,n){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,m=this._offsetPrev,g=this._offsetNext,_=this._weightPrev,x=this._weightNext,b=(r-t)/(n-t),M=b*b,T=M*b,A=-_*T+2*_*M-_*b,R=(1+_)*T+(-1.5-2*_)*M+(-.5+_)*b+1,B=(-1-x)*T+(1.5+x)*M+.5*b,D=x*T-x*M;for(let I=0;I!==l;++I)a[I]=A*s[m+I]+R*s[d+I]+B*s[f+I]+D*s[g+I];return a}}class OD extends bv{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,m=(r-t)/(n-t),g=1-m;for(let _=0;_!==l;++_)a[_]=s[d+_]*g+s[f+_]*m;return a}}class X8 extends bv{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e){return this.copySampleValue_(e-1)}}class yl{constructor(e,t,r,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tp(t,this.TimeBufferType),this.values=tp(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:tp(e.times,Array),values:tp(e.values,Array)};const n=e.getInterpolation();n!==e.DefaultInterpolation&&(r.interpolation=n)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new X8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new OD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case av:t=this.InterpolantFactoryMethodDiscrete;break;case sv:t=this.InterpolantFactoryMethodLinear;break;case rS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return av;case this.InterpolantFactoryMethodLinear:return sv;case this.InterpolantFactoryMethodSmooth:return rS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]*=e}return this}trim(e,t){const r=this.times,n=r.length;let a=0,s=n-1;for(;a!==n&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==n){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=r.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,n=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const f=r[l];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,f),e=!1;break}if(s!==null&&s>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,f,s),e=!1;break}s=f}if(n!==void 0&&V8(n))for(let l=0,f=n.length;l!==f;++l){const d=n[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),n=this.getInterpolation()===rS,a=e.length-1;let s=1;for(let l=1;l<a;++l){let f=!1;const d=e[l],m=e[l+1];if(d!==m&&(l!==1||d!==e[0]))if(n)f=!0;else{const g=l*r,_=g-r,x=g+r;for(let b=0;b!==r;++b){const M=t[g+b];if(M!==t[_+b]||M!==t[x+b]){f=!0;break}}}if(f){if(l!==s){e[s]=e[l];const g=l*r,_=s*r;for(let x=0;x!==r;++x)t[_+x]=t[g+x]}++s}}if(a>0){e[s]=e[a];for(let l=a*r,f=s*r,d=0;d!==r;++d)t[f+d]=t[l+d];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,n=new r(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}yl.prototype.ValueTypeName="";yl.prototype.TimeBufferType=Float32Array;yl.prototype.ValueBufferType=Float32Array;yl.prototype.DefaultInterpolation=sv;class Lp extends yl{constructor(e,t,r){super(e,t,r)}}Lp.prototype.ValueTypeName="bool";Lp.prototype.ValueBufferType=Array;Lp.prototype.DefaultInterpolation=av;Lp.prototype.InterpolantFactoryMethodLinear=void 0;Lp.prototype.InterpolantFactoryMethodSmooth=void 0;class ND extends yl{constructor(e,t,r,n){super(e,t,r,n)}}ND.prototype.ValueTypeName="color";class Mp extends yl{constructor(e,t,r,n){super(e,t,r,n)}}Mp.prototype.ValueTypeName="number";class Z8 extends bv{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,f=(r-t)/(n-t);let d=e*l;for(let m=d+l;d!==m;d+=4)va.slerpFlat(a,0,s,d-l,s,d,f);return a}}class Tp extends yl{constructor(e,t,r,n){super(e,t,r,n)}InterpolantFactoryMethodLinear(e){return new Z8(this.times,this.values,this.getValueSize(),e)}}Tp.prototype.ValueTypeName="quaternion";Tp.prototype.InterpolantFactoryMethodSmooth=void 0;class Pp extends yl{constructor(e,t,r){super(e,t,r)}}Pp.prototype.ValueTypeName="string";Pp.prototype.ValueBufferType=Array;Pp.prototype.DefaultInterpolation=av;Pp.prototype.InterpolantFactoryMethodLinear=void 0;Pp.prototype.InterpolantFactoryMethodSmooth=void 0;class Cp extends yl{constructor(e,t,r,n){super(e,t,r,n)}}Cp.prototype.ValueTypeName="vector";class dv{constructor(e="",t=-1,r=[],n=CE){this.name=e,this.tracks=r,this.duration=t,this.blendMode=n,this.uuid=Do(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,n=1/(e.fps||1);for(let s=0,l=r.length;s!==l;++s)t.push(DY(r[s]).scale(n));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=r.length;a!==s;++a)t.push(yl.toJSON(r[a]));return n}static CreateFromMorphTargetSequence(e,t,r,n){const a=t.length,s=[];for(let l=0;l<a;l++){let f=[],d=[];f.push((l+a-1)%a,l,(l+1)%a),d.push(0,1,0);const m=j8(f);f=pC(f,1,m),d=pC(d,1,m),!n&&f[0]===0&&(f.push(a),d.push(d[0])),s.push(new Mp(".morphTargetInfluences["+t[l].name+"]",f,d).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const n=e;r=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<r.length;n++)if(r[n].name===t)return r[n];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const n={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,f=e.length;l<f;l++){const d=e[l],m=d.name.match(a);if(m&&m.length>1){const g=m[1];let _=n[g];_||(n[g]=_=[]),_.push(d)}}const s=[];for(const l in n)s.push(this.CreateFromMorphTargetSequence(l,n[l],t,r));return s}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(g,_,x,b,M){if(x.length!==0){const T=[],A=[];UD(x,T,A,b),T.length!==0&&M.push(new g(_,T,A))}},n=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const _=d[g].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const x={};let b;for(b=0;b<_.length;b++)if(_[b].morphTargets)for(let M=0;M<_[b].morphTargets.length;M++)x[_[b].morphTargets[M]]=-1;for(const M in x){const T=[],A=[];for(let R=0;R!==_[b].morphTargets.length;++R){const B=_[b];T.push(B.time),A.push(B.morphTarget===M?1:0)}n.push(new Mp(".morphTargetInfluence["+M+"]",T,A))}f=x.length*s}else{const x=".bones["+t[g].name+"]";r(Cp,x+".position",_,"pos",n),r(Tp,x+".quaternion",_,"rot",n),r(Cp,x+".scale",_,"scl",n)}}return n.length===0?null:new this(a,f,n,l)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,n=e.length;r!==n;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function RY(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Mp;case"vector":case"vector2":case"vector3":case"vector4":return Cp;case"color":return ND;case"quaternion":return Tp;case"bool":case"boolean":return Lp;case"string":return Pp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function DY(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=RY(i.type);if(i.times===void 0){const t=[],r=[];UD(i.keys,t,r,"value"),i.times=t,i.values=r}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Yc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class ID{constructor(e,t,r){const n=this;let a=!1,s=0,l=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.abortController=new AbortController,this.itemStart=function(m){l++,a===!1&&n.onStart!==void 0&&n.onStart(m,s,l),a=!0},this.itemEnd=function(m){s++,n.onProgress!==void 0&&n.onProgress(m,s,l),s===l&&(a=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(m){n.onError!==void 0&&n.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,_=d.length;g<_;g+=2){const x=d[g],b=d[g+1];if(x.global&&(x.lastIndex=0),x.test(m))return b}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const Y8=new ID;class is{constructor(e){this.manager=e!==void 0?e:Y8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(n,a){r.load(e,n,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}is.DEFAULT_MATERIAL_NAME="__DEFAULT";const Pu={};class BY extends Error{constructor(e,t){super(e),this.response=t}}class No extends is{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Yc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Pu[e]!==void 0){Pu[e].push({onLoad:t,onProgress:r,onError:n});return}Pu[e]=[],Pu[e].push({onLoad:t,onProgress:r,onError:n});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,f=this.responseType;fetch(s).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=Pu[e],g=d.body.getReader(),_=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),x=_?parseInt(_):0,b=x!==0;let M=0;const T=new ReadableStream({start(A){R();function R(){g.read().then(({done:B,value:D})=>{if(B)A.close();else{M+=D.byteLength;const I=new ProgressEvent("progress",{lengthComputable:b,loaded:M,total:x});for(let L=0,P=m.length;L<P;L++){const F=m[L];F.onProgress&&F.onProgress(I)}A.enqueue(D),R()}},B=>{A.error(B)})}}});return new Response(T)}else throw new BY(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return d.json();default:if(l==="")return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),_=g&&g[1]?g[1].toLowerCase():void 0,x=new TextDecoder(_);return d.arrayBuffer().then(b=>x.decode(b))}}}).then(d=>{Yc.add(`file:${e}`,d);const m=Pu[e];delete Pu[e];for(let g=0,_=m.length;g<_;g++){const x=m[g];x.onLoad&&x.onLoad(d)}}).catch(d=>{const m=Pu[e];if(m===void 0)throw this.manager.itemError(e),d;delete Pu[e];for(let g=0,_=m.length;g<_;g++){const x=m[g];x.onError&&x.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class UY extends is{constructor(e){super(e)}load(e,t,r,n){const a=this,s=new No(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(f){n?n(f):console.error(f),a.manager.itemError(e)}},r,n)}parse(e){const t=[];for(let r=0;r<e.length;r++){const n=dv.parse(e[r]);t.push(n)}return t}}class OY extends is{constructor(e){super(e)}load(e,t,r,n){const a=this,s=[],l=new LE,f=new No(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(a.withCredentials);let d=0;function m(g){f.load(e[g],function(_){const x=a.parse(_,!0);s[g]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},d+=1,d===6&&(x.mipmapCount===1&&(l.minFilter=ki),l.image=s,l.format=x.format,l.needsUpdate=!0,t&&t(l))},r,n)}if(Array.isArray(e))for(let g=0,_=e.length;g<_;++g)m(g);else f.load(e,function(g){const _=a.parse(g,!0);if(_.isCubemap){const x=_.mipmaps.length/_.mipmapCount;for(let b=0;b<x;b++){s[b]={mipmaps:[]};for(let M=0;M<_.mipmapCount;M++)s[b].mipmaps.push(_.mipmaps[b*_.mipmapCount+M]),s[b].format=_.format,s[b].width=_.width,s[b].height=_.height}l.image=s}else l.image.width=_.width,l.image.height=_.height,l.mipmaps=_.mipmaps;_.mipmapCount===1&&(l.minFilter=ki),l.format=_.format,l.needsUpdate=!0,t&&t(l)},r,n);return l}}const pg=new WeakMap;class wy extends is{constructor(e){super(e)}load(e,t,r,n){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Yc.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let g=pg.get(s);g===void 0&&(g=[],pg.set(s,g)),g.push({onLoad:t,onError:n})}return s}const l=Sy("img");function f(){m(),t&&t(this);const g=pg.get(this)||[];for(let _=0;_<g.length;_++){const x=g[_];x.onLoad&&x.onLoad(this)}pg.delete(this),a.manager.itemEnd(e)}function d(g){m(),n&&n(g),Yc.remove(`image:${e}`);const _=pg.get(this)||[];for(let x=0;x<_.length;x++){const b=_[x];b.onError&&b.onError(g)}pg.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){l.removeEventListener("load",f,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",f,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Yc.add(`image:${e}`,l),a.manager.itemStart(e),l.src=e,l}}class NY extends is{constructor(e){super(e)}load(e,t,r,n){const a=new rx;a.colorSpace=ni;const s=new wy(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function f(d){s.load(e[d],function(m){a.images[d]=m,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,n)}for(let d=0;d<e.length;++d)f(d);return a}}class IY extends is{constructor(e){super(e)}load(e,t,r,n){const a=this,s=new qc,l=new No(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(f){let d;try{d=a.parse(f)}catch(m){if(n!==void 0)n(m);else{console.error(m);return}}d.image!==void 0?s.image=d.image:d.data!==void 0&&(s.image.width=d.width,s.image.height=d.height,s.image.data=d.data),s.wrapS=d.wrapS!==void 0?d.wrapS:To,s.wrapT=d.wrapT!==void 0?d.wrapT:To,s.magFilter=d.magFilter!==void 0?d.magFilter:ki,s.minFilter=d.minFilter!==void 0?d.minFilter:ki,s.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(s.colorSpace=d.colorSpace),d.flipY!==void 0&&(s.flipY=d.flipY),d.format!==void 0&&(s.format=d.format),d.type!==void 0&&(s.type=d.type),d.mipmaps!==void 0&&(s.mipmaps=d.mipmaps,s.minFilter=hl),d.mipmapCount===1&&(s.minFilter=ki),d.generateMipmaps!==void 0&&(s.generateMipmaps=d.generateMipmaps),s.needsUpdate=!0,t&&t(s,d)},r,n),s}}class fx extends is{constructor(e){super(e)}load(e,t,r,n){const a=new wi,s=new wy(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},r,n),a}}class Dd extends Qn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new xt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class J8 extends Dd{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const LT=new Qt,vO=new W,_O=new W;class zD{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.mapType=Fr,this.map=null,this.mapPass=null,this.matrix=new Qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new _v,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new Wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;vO.setFromMatrixPosition(e.matrixWorld),t.position.copy(vO),_O.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(_O),t.updateMatrixWorld(),LT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LT,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(LT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zY extends zD{constructor(){super(new qi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=lv*2*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(r!==t.fov||n!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=n,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class LD extends Dd{constructor(e,t,r=0,n=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.distance=r,this.angle=n,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new zY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yO=new Qt,h_=new W,PT=new W;class LY extends zD{constructor(){super(new qi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new Wn(2,1,1,1),new Wn(0,1,1,1),new Wn(3,1,1,1),new Wn(1,1,1,1),new Wn(3,0,1,1),new Wn(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,n=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),h_.setFromMatrixPosition(e.matrixWorld),r.position.copy(h_),PT.copy(r.position),PT.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(PT),r.updateMatrixWorld(),n.makeTranslation(-h_.x,-h_.y,-h_.z),yO.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yO,r.coordinateSystem,r.reversedDepth)}}class PD extends Dd{constructor(e,t,r=0,n=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=n,this.shadow=new LY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wc extends BE{constructor(e=-1,t=1,r=1,n=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=n,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,n,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let a=r-e,s=r+e,l=n+t,f=n-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=d*this.view.offsetX,s=a+d*this.view.width,l-=m*this.view.offsetY,f=l-m*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,f,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class PY extends zD{constructor(){super(new Wc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FD extends Dd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.shadow=new PY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class q8 extends Dd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class HD extends Dd{constructor(e,t,r=10,n=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class W8{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new W)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,n=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*n),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*n)),t.addScaledVector(s[5],1.092548*(n*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-n*n)),t}getIrradianceAt(e,t){const r=e.x,n=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*n),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*n),t.addScaledVector(s[5],2*.429043*n*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-n*n)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let n=0;n<9;n++)r[n].fromArray(e,t+n*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let n=0;n<9;n++)r[n].toArray(e,t+n*3);return e}static getBasisAt(e,t){const r=e.x,n=e.y,a=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-n*n)}}class K8 extends Dd{constructor(e=new W8,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class QE extends is{constructor(e){super(e),this.textures={}}load(e,t,r,n){const a=this,s=new No(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(f){n?n(f):console.error(f),a.manager.itemError(e)}},r,n)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const n=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(n.uuid=e.uuid),e.name!==void 0&&(n.name=e.name),e.color!==void 0&&n.color!==void 0&&n.color.setHex(e.color),e.roughness!==void 0&&(n.roughness=e.roughness),e.metalness!==void 0&&(n.metalness=e.metalness),e.sheen!==void 0&&(n.sheen=e.sheen),e.sheenColor!==void 0&&(n.sheenColor=new xt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(n.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&n.emissive!==void 0&&n.emissive.setHex(e.emissive),e.specular!==void 0&&n.specular!==void 0&&n.specular.setHex(e.specular),e.specularIntensity!==void 0&&(n.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&n.specularColor!==void 0&&n.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(n.shininess=e.shininess),e.clearcoat!==void 0&&(n.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(n.dispersion=e.dispersion),e.iridescence!==void 0&&(n.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(n.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(n.transmission=e.transmission),e.thickness!==void 0&&(n.thickness=e.thickness),e.attenuationDistance!==void 0&&(n.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&n.attenuationColor!==void 0&&n.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(n.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(n.fog=e.fog),e.flatShading!==void 0&&(n.flatShading=e.flatShading),e.blending!==void 0&&(n.blending=e.blending),e.combine!==void 0&&(n.combine=e.combine),e.side!==void 0&&(n.side=e.side),e.shadowSide!==void 0&&(n.shadowSide=e.shadowSide),e.opacity!==void 0&&(n.opacity=e.opacity),e.transparent!==void 0&&(n.transparent=e.transparent),e.alphaTest!==void 0&&(n.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(n.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(n.depthFunc=e.depthFunc),e.depthTest!==void 0&&(n.depthTest=e.depthTest),e.depthWrite!==void 0&&(n.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(n.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(n.blendSrc=e.blendSrc),e.blendDst!==void 0&&(n.blendDst=e.blendDst),e.blendEquation!==void 0&&(n.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(n.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(n.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(n.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&n.blendColor!==void 0&&n.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(n.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(n.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(n.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(n.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(n.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(n.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(n.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(n.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(n.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(n.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(n.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(n.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(n.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(n.rotation=e.rotation),e.linewidth!==void 0&&(n.linewidth=e.linewidth),e.dashSize!==void 0&&(n.dashSize=e.dashSize),e.gapSize!==void 0&&(n.gapSize=e.gapSize),e.scale!==void 0&&(n.scale=e.scale),e.polygonOffset!==void 0&&(n.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(n.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(n.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(n.dithering=e.dithering),e.alphaToCoverage!==void 0&&(n.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(n.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(n.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(n.visible=e.visible),e.toneMapped!==void 0&&(n.toneMapped=e.toneMapped),e.userData!==void 0&&(n.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(n.uniforms[a]={},s.type){case"t":n.uniforms[a].value=r(s.value);break;case"c":n.uniforms[a].value=new xt().setHex(s.value);break;case"v2":n.uniforms[a].value=new He().fromArray(s.value);break;case"v3":n.uniforms[a].value=new W().fromArray(s.value);break;case"v4":n.uniforms[a].value=new Wn().fromArray(s.value);break;case"m3":n.uniforms[a].value=new vn().fromArray(s.value);break;case"m4":n.uniforms[a].value=new Qt().fromArray(s.value);break;default:n.uniforms[a].value=s.value}}if(e.defines!==void 0&&(n.defines=e.defines),e.vertexShader!==void 0&&(n.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(n.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(n.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)n.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(n.lights=e.lights),e.clipping!==void 0&&(n.clipping=e.clipping),e.size!==void 0&&(n.size=e.size),e.sizeAttenuation!==void 0&&(n.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(n.map=r(e.map)),e.matcap!==void 0&&(n.matcap=r(e.matcap)),e.alphaMap!==void 0&&(n.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(n.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(n.bumpScale=e.bumpScale),e.normalMap!==void 0&&(n.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(n.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),n.normalScale=new He().fromArray(a)}return e.displacementMap!==void 0&&(n.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(n.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(n.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(n.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(n.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(n.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(n.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(n.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(n.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(n.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(n.envMap=r(e.envMap)),e.envMapRotation!==void 0&&n.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(n.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(n.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(n.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(n.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(n.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(n.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(n.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(n.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(n.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(n.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(n.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(n.clearcoatNormalScale=new He().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(n.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(n.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(n.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(n.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(n.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(n.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(n.sheenRoughnessMap=r(e.sheenRoughnessMap)),n}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return QE.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:L8,SpriteMaterial:_D,RawShaderMaterial:P8,ShaderMaterial:Hr,PointsMaterial:zE,MeshPhysicalMaterial:_l,MeshStandardMaterial:xv,MeshPhongMaterial:Kf,MeshToonMaterial:F8,MeshNormalMaterial:DD,MeshLambertMaterial:H8,MeshDepthMaterial:KE,MeshDistanceMaterial:BD,MeshBasicMaterial:wo,MeshMatcapMaterial:k8,LineDashedMaterial:G8,LineBasicMaterial:ns,Material:Tr};return new t[e]}}class hd{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Q8 extends dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class eH extends is{constructor(e){super(e)}load(e,t,r,n){const a=this,s=new No(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(f){n?n(f):console.error(f),a.manager.itemError(e)}},r,n)}parse(e){const t={},r={};function n(x,b){if(t[b]!==void 0)return t[b];const T=x.interleavedBuffers[b],A=a(x,T.buffer),R=Cg(T.type,A),B=new ax(R,T.stride);return B.uuid=T.uuid,t[b]=B,B}function a(x,b){if(r[b]!==void 0)return r[b];const T=x.arrayBuffers[b],A=new Uint32Array(T).buffer;return r[b]=A,A}const s=e.isInstancedBufferGeometry?new Q8:new dn,l=e.data.index;if(l!==void 0){const x=Cg(l.type,l.array);s.setIndex(new ei(x,1))}const f=e.data.attributes;for(const x in f){const b=f[x];let M;if(b.isInterleavedBufferAttribute){const T=n(e.data,b.data);M=new Md(T,b.itemSize,b.offset,b.normalized)}else{const T=Cg(b.type,b.array),A=b.isInstancedBufferAttribute?Ap:ei;M=new A(T,b.itemSize,b.normalized)}b.name!==void 0&&(M.name=b.name),b.usage!==void 0&&M.setUsage(b.usage),s.setAttribute(x,M)}const d=e.data.morphAttributes;if(d)for(const x in d){const b=d[x],M=[];for(let T=0,A=b.length;T<A;T++){const R=b[T];let B;if(R.isInterleavedBufferAttribute){const D=n(e.data,R.data);B=new Md(D,R.itemSize,R.offset,R.normalized)}else{const D=Cg(R.type,R.array);B=new ei(D,R.itemSize,R.normalized)}R.name!==void 0&&(B.name=R.name),M.push(B)}s.morphAttributes[x]=M}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let x=0,b=g.length;x!==b;++x){const M=g[x];s.addGroup(M.start,M.count,M.materialIndex)}const _=e.data.boundingSphere;return _!==void 0&&(s.boundingSphere=new _a().fromJSON(_)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class FY extends is{constructor(e){super(e)}load(e,t,r,n){const a=this,s=this.path===""?hd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new No(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(g){n!==void 0&&n(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){n!==void 0&&n(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(d,t)},r,n)}async loadAsync(e,t){const r=this,n=this.path===""?hd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const a=new No(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),l=JSON.parse(s),f=l.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,t){const r=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,n),s=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,s),f=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,a,f,l,r),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),t!==void 0){let g=!1;for(const _ in s)if(s[_].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),n=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),f=this.parseObject(e.object,n,l,s,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),this.bindLightTargets(f),f}parseShapes(e){const t={};if(e!==void 0)for(let r=0,n=e.length;r<n;r++){const a=new hp().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},n={};if(t.traverse(function(a){a.isBone&&(n[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new sx().fromJSON(e[a],n);r[l.uuid]=l}return r}parseGeometries(e,t){const r={};if(e!==void 0){const n=new eH;for(let a=0,s=e.length;a<s;a++){let l;const f=e[a];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":l=n.parse(f);break;default:f.type in gO?l=gO[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}l.uuid=f.uuid,f.name!==void 0&&(l.name=f.name),f.userData!==void 0&&(l.userData=f.userData),r[f.uuid]=l}}return r}parseMaterials(e,t){const r={},n={};if(e!==void 0){const a=new QE;a.setTextures(t);for(let s=0,l=e.length;s<l;s++){const f=e[s];r[f.uuid]===void 0&&(r[f.uuid]=a.parse(f)),n[f.uuid]=r[f.uuid]}}return n}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const n=e[r],a=dv.parse(n);t[a.uuid]=a}return t}parseImages(e,t){const r=this,n={};let a;function s(f){return r.manager.itemStart(f),a.load(f,function(){r.manager.itemEnd(f)},void 0,function(){r.manager.itemError(f),r.manager.itemEnd(f)})}function l(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:r.resourcePath+d;return s(m)}else return f.data?{data:Cg(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new ID(t);a=new wy(f),a.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],_=g.url;if(Array.isArray(_)){const x=[];for(let b=0,M=_.length;b<M;b++){const T=_[b],A=l(T);A!==null&&(A instanceof HTMLImageElement?x.push(A):x.push(new qc(A.data,A.width,A.height)))}n[g.uuid]=new od(x)}else{const x=l(g.url);n[g.uuid]=new od(x)}}}return n}async parseImagesAsync(e){const t=this,r={};let n;async function a(s){if(typeof s=="string"){const l=s,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await n.loadAsync(f)}else return s.data?{data:Cg(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){n=new wy(this.manager),n.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const f=e[s],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,_=d.length;g<_;g++){const x=d[g],b=await a(x);b!==null&&(b instanceof HTMLImageElement?m.push(b):m.push(new qc(b.data,b.width,b.height)))}r[f.uuid]=new od(m)}else{const m=await a(f.url);r[f.uuid]=new od(m)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const n={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const f=t[l.image],d=f.data;let m;Array.isArray(d)?(m=new rx,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new qc:m=new wi,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=r(l.mapping,HY)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=r(l.wrap[0],xO),m.wrapT=r(l.wrap[1],xO)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=r(l.minFilter,bO)),l.magFilter!==void 0&&(m.magFilter=r(l.magFilter,bO)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),n[l.uuid]=m}return n}parseObject(e,t,r,n,a){let s;function l(_){return t[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),t[_]}function f(_){if(_!==void 0){if(Array.isArray(_)){const x=[];for(let b=0,M=_.length;b<M;b++){const T=_[b];r[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),x.push(r[T])}return x}return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),r[_]}}function d(_){return n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),n[_]}let m,g;switch(e.type){case"Scene":s=new Ey,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new xt(e.background):s.background=d(e.background)),e.environment!==void 0&&(s.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new OE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new UE(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new qi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Wc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new q8(e.color,e.intensity);break;case"DirectionalLight":s=new FD(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new PD(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new HD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new LD(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new J8(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new K8().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),g=f(e.material),s=new yD(m,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),g=f(e.material),s=new _r(m,g);break;case"InstancedMesh":m=l(e.geometry),g=f(e.material);const _=e.count,x=e.instanceMatrix,b=e.instanceColor;s=new xD(m,g,_),s.instanceMatrix=new Ap(new Float32Array(x.array),16),b!==void 0&&(s.instanceColor=new Ap(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":m=l(e.geometry),g=f(e.material),s=new E8(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=m,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(M=>{let T=null,A=null;return M.boundingBox!==void 0&&(T=new Ba().fromJSON(M.boundingBox)),M.boundingSphere!==void 0&&(A=new _a().fromJSON(M.boundingSphere)),{...M,boundingBox:T,boundingSphere:A}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=d(e.matricesTexture.uuid),s._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new _a().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new Ba().fromJSON(e.boundingBox));break;case"LOD":s=new A8;break;case"Line":s=new tf(l(e.geometry),f(e.material));break;case"LineLoop":s=new bD(l(e.geometry),f(e.material));break;case"LineSegments":s=new rc(l(e.geometry),f(e.material));break;case"PointCloud":case"Points":s=new SD(l(e.geometry),f(e.material));break;case"Sprite":s=new S8(f(e.material));break;case"Group":s=new Zu;break;case"Bone":s=new NE;break;default:s=new Qn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let x=0;x<_.length;x++)s.add(this.parseObject(_[x],t,r,n,a))}if(e.animations!==void 0){const _=e.animations;for(let x=0;x<_.length;x++){const b=_[x];s.animations.push(a[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const _=e.levels;for(let x=0;x<_.length;x++){const b=_[x],M=s.getObjectByProperty("uuid",b.object);M!==void 0&&s.addLevel(M,b.distance,b.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const n=t[r.skeleton];n===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(n,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,n=e.getObjectByProperty("uuid",r);n!==void 0?t.target=n:t.target=new Qn}})}}const HY={UVMapping:yE,CubeReflectionMapping:ef,CubeRefractionMapping:Ad,EquirectangularReflectionMapping:vy,EquirectangularRefractionMapping:_y,CubeUVReflectionMapping:vv},xO={RepeatWrapping:Ed,ClampToEdgeWrapping:To,MirroredRepeatWrapping:nv},bO={NearestFilter:Wi,NearestMipmapNearestFilter:xE,NearestMipmapLinearFilter:Kh,LinearFilter:ki,LinearMipmapNearestFilter:Ig,LinearMipmapLinearFilter:hl},FT=new WeakMap;class tH extends is{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Yc.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(d=>{if(FT.has(s)===!0)n&&n(FT.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(d),a.manager.itemEnd(e),d});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const f=fetch(e,l).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(d){return Yc.add(`image-bitmap:${e}`,d),t&&t(d),a.manager.itemEnd(e),d}).catch(function(d){n&&n(d),FT.set(f,d),Yc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Yc.add(`image-bitmap:${e}`,f),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Ub;class kD{static getContext(){return Ub===void 0&&(Ub=new(window.AudioContext||window.webkitAudioContext)),Ub}static setContext(e){Ub=e}}class kY extends is{constructor(e){super(e)}load(e,t,r,n){const a=this,s=new No(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(f){try{const d=f.slice(0);kD.getContext().decodeAudioData(d,function(g){t(g)}).catch(l)}catch(d){l(d)}},r,n);function l(f){n?n(f):console.error(f),a.manager.itemError(e)}}}const SO=new Qt,AO=new Qt,Bh=new Qt;class GY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Bh.copy(e.projectionMatrix);const n=t.eyeSep/2,a=n*t.near/t.focus,s=t.near*Math.tan(dp*t.fov*.5)/t.zoom;let l,f;AO.elements[12]=-n,SO.elements[12]=n,l=-s*t.aspect+a,f=s*t.aspect+a,Bh.elements[0]=2*t.near/(f-l),Bh.elements[8]=(f+l)/(f-l),this.cameraL.projectionMatrix.copy(Bh),l=-s*t.aspect-a,f=s*t.aspect-a,Bh.elements[0]=2*t.near/(f-l),Bh.elements[8]=(f+l)/(f-l),this.cameraR.projectionMatrix.copy(Bh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(AO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(SO)}}class nH extends qi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class GD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Uh=new W,HT=new va,VY=new W,Oh=new W,Nh=new W;class jY extends Qn{constructor(){super(),this.type="AudioListener",this.context=kD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new GD}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Uh,HT,VY),Oh.set(0,0,-1).applyQuaternion(HT),Nh.set(0,1,0).applyQuaternion(HT),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Uh.x,r),t.positionY.linearRampToValueAtTime(Uh.y,r),t.positionZ.linearRampToValueAtTime(Uh.z,r),t.forwardX.linearRampToValueAtTime(Oh.x,r),t.forwardY.linearRampToValueAtTime(Oh.y,r),t.forwardZ.linearRampToValueAtTime(Oh.z,r),t.upX.linearRampToValueAtTime(Nh.x,r),t.upY.linearRampToValueAtTime(Nh.y,r),t.upZ.linearRampToValueAtTime(Nh.z,r)}else t.setPosition(Uh.x,Uh.y,Uh.z),t.setOrientation(Oh.x,Oh.y,Oh.z,Nh.x,Nh.y,Nh.z)}}class iH extends Qn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ih=new W,EO=new va,$Y=new W,zh=new W;class XY extends iH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ih,EO,$Y),zh.set(0,0,1).applyQuaternion(EO);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ih.x,r),t.positionY.linearRampToValueAtTime(Ih.y,r),t.positionZ.linearRampToValueAtTime(Ih.z,r),t.orientationX.linearRampToValueAtTime(zh.x,r),t.orientationY.linearRampToValueAtTime(zh.y,r),t.orientationZ.linearRampToValueAtTime(zh.z,r)}else t.setPosition(Ih.x,Ih.y,Ih.z),t.setOrientation(zh.x,zh.y,zh.z)}}class ZY{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class rH{constructor(e,t,r){this.binding=e,this.valueSize=r;let n,a,s;switch(t){case"quaternion":n=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":n=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:n=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,n=this.valueSize,a=e*n+n;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==n;++l)r[a+l]=r[l];s=t}else{s+=t;const l=t/s;this._mixBufferRegion(r,a,0,l,n)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,n=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,n=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const f=t*this._origIndex;this._mixBufferRegion(r,n,f,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(r[f]!==r[f+t]){l.setValue(r,n);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(let a=r,s=n;a!==s;++a)t[a]=t[n+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,n,a){if(n>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,n){va.slerpFlat(e,t,e,t,e,r,n)}_slerpAdditive(e,t,r,n,a){const s=this._workIndex*a;va.multiplyQuaternionsFlat(e,s,e,t,e,r),va.slerpFlat(e,t,e,t,e,s,n)}_lerp(e,t,r,n,a){const s=1-n;for(let l=0;l!==a;++l){const f=t+l;e[f]=e[f]*s+e[r+l]*n}}_lerpAdditive(e,t,r,n,a){for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]+e[r+s]*n}}}const VD="\\[\\]\\.:\\/",YY=new RegExp("["+VD+"]","g"),jD="[^"+VD+"]",JY="[^"+VD.replace("\\.","")+"]",qY=/((?:WC+[\/:])*)/.source.replace("WC",jD),WY=/(WCOD+)?/.source.replace("WCOD",JY),KY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",jD),QY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",jD),eJ=new RegExp("^"+qY+WY+KY+QY+"$"),tJ=["material","materials","bones","map"];class nJ{constructor(e,t,r){const n=r||ti.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,n=this._bindings[r];n!==void 0&&n.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,a=r.length;n!==a;++n)r[n].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class ti{constructor(e,t,r){this.path=t,this.parsedPath=r||ti.parseTrackName(t),this.node=ti.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new ti.Composite(e,t,r):new ti(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(YY,"")}static parseTrackName(e){const t=eJ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const a=r.nodeName.substring(n+1);tJ.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===t||l.uuid===t)return l;const f=r(l.children);if(f)return f}return null},n=r(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)e[t++]=r[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)r[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,n=t.propertyName;let a=t.propertyIndex;if(e||(e=ti.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const s=e[n];if(s===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+n+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(a!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}f=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(f=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ti.Composite=nJ;ti.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ti.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ti.prototype.GetterByBindingType=[ti.prototype._getValue_direct,ti.prototype._getValue_array,ti.prototype._getValue_arrayElement,ti.prototype._getValue_toArray];ti.prototype.SetterByBindingTypeAndVersioning=[[ti.prototype._setValue_direct,ti.prototype._setValue_direct_setNeedsUpdate,ti.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ti.prototype._setValue_array,ti.prototype._setValue_array_setNeedsUpdate,ti.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ti.prototype._setValue_arrayElement,ti.prototype._setValue_arrayElement_setNeedsUpdate,ti.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ti.prototype._setValue_fromArray,ti.prototype._setValue_fromArray_setNeedsUpdate,ti.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class iJ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Do(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,n=arguments.length;r!==n;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,n=this._parsedPaths,a=this._bindings,s=a.length;let l,f=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const _=arguments[m],x=_.uuid;let b=t[x];if(b===void 0){b=f++,t[x]=b,e.push(_);for(let M=0,T=s;M!==T;++M)a[M].push(new ti(_,r[M],n[M]))}else if(b<d){l=e[b];const M=--d,T=e[M];t[T.uuid]=b,e[b]=T,t[x]=M,e[M]=_;for(let A=0,R=s;A!==R;++A){const B=a[A],D=B[M];let I=B[b];B[b]=D,I===void 0&&(I=new ti(_,r[A],n[A])),B[M]=I}}else e[b]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const f=arguments[s],d=f.uuid,m=t[d];if(m!==void 0&&m>=a){const g=a++,_=e[g];t[_.uuid]=m,e[m]=_,t[d]=g,e[g]=f;for(let x=0,b=n;x!==b;++x){const M=r[x],T=M[g],A=M[m];M[m]=T,M[g]=A}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,f=arguments.length;l!==f;++l){const d=arguments[l],m=d.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<a){const _=--a,x=e[_],b=--s,M=e[b];t[x.uuid]=g,e[g]=x,t[M.uuid]=_,e[_]=M,e.pop();for(let T=0,A=n;T!==A;++T){const R=r[T],B=R[_],D=R[b];R[g]=B,R[_]=D,R.pop()}}else{const _=--s,x=e[_];_>0&&(t[x.uuid]=g),e[g]=x,e.pop();for(let b=0,M=n;b!==M;++b){const T=r[b];T[g]=T[_],T.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let n=r[e];const a=this._bindings;if(n!==void 0)return a[n];const s=this._paths,l=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,g=new Array(d);n=a.length,r[e]=n,s.push(e),l.push(t),a.push(g);for(let _=m,x=f.length;_!==x;++_){const b=f[_];g[_]=new ti(b,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const n=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,f=s[l],d=e[l];t[d]=r,s[r]=f,s.pop(),a[r]=a[l],a.pop(),n[r]=n[l],n.pop()}}}class aH{constructor(e,t,r=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=n;const a=t.tracks,s=a.length,l=new Array(s),f={endingStart:Qh,endingEnd:Qh};for(let d=0;d!==s;++d){const m=a[d].createInterpolant(null);l[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=n8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const n=this._clip.duration,a=e._clip.duration,s=a/n,l=n/a;e.warp(1,s,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const n=this._mixer,a=n.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=n._lendControlInterpolant(),this._timeScaleInterpolant=l);const f=l.parameterPositions,d=l.sampleValues;return f[0]=a,f[1]=a+r,d[0]=e/s,d[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,n){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const f=(e-a)*r;f<0||r===0?t=0:(this._startTime=null,t=r*f)}t*=this._updateTimeScale(e);const s=this._updateTime(t),l=this._updateWeight(e);if(l>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case uD:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(s),d[m].accumulateAdditive(l);break;case CE:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(s),d[m].accumulate(n,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let n=this.time+e,a=this._loopCount;const s=r===i8;if(e===0)return a===-1?n:s&&(a&1)===1?t-n:n;if(r===t8){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),n>=t||n<0){const l=Math.floor(n/t);n-=t*l,a+=Math.abs(l);const f=this.repetitions-a;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=n;if(s&&(a&1)===1)return t-n}return n}_setEndings(e,t,r){const n=this._interpolantSettings;r?(n.endingStart=ep,n.endingEnd=ep):(e?n.endingStart=this.zeroSlopeAtStart?ep:Qh:n.endingStart=yy,t?n.endingEnd=this.zeroSlopeAtEnd?ep:Qh:n.endingEnd=yy)}_scheduleFading(e,t,r){const n=this._mixer,a=n.time;let s=this._weightInterpolant;s===null&&(s=n._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,f=s.sampleValues;return l[0]=a,f[0]=t,l[1]=a+e,f[1]=r,this}}const rJ=new Float32Array(1);class aJ extends Lo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,n=e._clip.tracks,a=n.length,s=e._propertyBindings,l=e._interpolants,f=r.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let g=0;g!==a;++g){const _=n[g],x=_.name;let b=m[x];if(b!==void 0)++b.referenceCount,s[g]=b;else{if(b=s[g],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,f,x));continue}const M=t&&t._propertyBindings[g].binding.parsedPath;b=new rH(ti.create(r,x,M),_.ValueTypeName,_.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,f,x),s[g]=b}l[g].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,n=e._clip.uuid,a=this._actionsByClip[n];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,n,r)}const t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const n=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=n.length,n.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],f=l.knownActions,d=f[f.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,_=(e._localRoot||this._root).uuid;delete g[_],f.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const n=this._bindingsByRootAndName,a=this._bindings;let s=n[t];s===void 0&&(s={},n[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,n=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,l=s[n],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete l[a],Object.keys(l).length===0&&delete s[n]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new OD(new Float32Array(2),new Float32Array(2),1,rJ),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,a=t[n];e.__cacheIndex=n,t[n]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const n=t||this._root,a=n.uuid;let s=typeof e=="string"?dv.findByName(n,e):e;const l=s!==null?s.uuid:e,f=this._actionsByClip[l];let d=null;if(r===void 0&&(s!==null?r=s.blendMode:r=CE),f!==void 0){const g=f.actionByRoot[a];if(g!==void 0&&g.blendMode===r)return g;d=f.knownActions[0],s===null&&(s=d._clip)}if(s===null)return null;const m=new aH(this,s,t,r);return this._bindAction(m,d),this._addInactiveAction(m,l,a),m}existingAction(e,t){const r=t||this._root,n=r.uuid,a=typeof e=="string"?dv.findByName(r,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[n]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,n=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let d=0;d!==r;++d)t[d]._update(n,e,a,s);const l=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)l[d].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,n=this._actionsByClip,a=n[r];if(a!==void 0){const s=a.knownActions;for(let l=0,f=s.length;l!==f;++l){const d=s[l];this._deactivateAction(d);const m=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete n[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const l=r[s].actionByRoot,f=l[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const n=this._bindingsByRootAndName,a=n[t];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class sJ extends mD{constructor(e=1,t=1,r=1,n={}){super(e,t,n),this.isRenderTarget3D=!0,this.depth=r,this.texture=new DE(null,e,t,r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}}class Dn{constructor(e){this.value=e}clone(){return new Dn(this.value.clone===void 0?this.value:this.value.clone())}}let oJ=0;class lJ extends Lo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:oJ++}),this.name="",this.usage=by,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,n=t.length;r<n;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class cJ extends ax{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class uJ{constructor(e,t,r,n,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=n,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const MO=new Qt;class sH{constructor(e,t,r=0,n=1/0){this.ray=new Ip(e,t),this.near=r,this.far=n,this.camera=null,this.layers=new cv,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return MO.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(MO),this}intersectObject(e,t=!0,r=[]){return mC(e,this,r,t),r.sort(TO),r}intersectObjects(e,t=!0,r=[]){for(let n=0,a=e.length;n<a;n++)mC(e[n],this,r,t);return r.sort(TO),r}}function TO(i,e){return i.distance-e.distance}function mC(i,e,t,r){let n=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(n=!1),n===!0&&r===!0){const a=i.children;for(let s=0,l=a.length;s<l;s++)mC(a[s],e,t,!0)}}let fJ=class{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=dJ.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}};function dJ(){this._document.hidden===!1&&this.reset()}class gC{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=an(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(an(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class hJ{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class $D{constructor(e,t,r,n){$D.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,n)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,n){const a=this.elements;return a[0]=e,a[2]=t,a[1]=r,a[3]=n,this}}const CO=new He;class pJ{constructor(e=new He(1/0,1/0),t=new He(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=CO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,CO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const wO=new W,Ob=new W,mg=new W,gg=new W,kT=new W,mJ=new W,gJ=new W;class vJ{constructor(e=new W,t=new W){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){wO.subVectors(e,this.start),Ob.subVectors(this.end,this.start);const r=Ob.dot(Ob);let a=Ob.dot(wO)/r;return t&&(a=an(a,0,1)),a}closestPointToPoint(e,t,r){const n=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(n).add(this.start)}distanceSqToLine3(e,t=mJ,r=gJ){const n=10000000000000001e-32;let a,s;const l=this.start,f=e.start,d=this.end,m=e.end;mg.subVectors(d,l),gg.subVectors(m,f),kT.subVectors(l,f);const g=mg.dot(mg),_=gg.dot(gg),x=gg.dot(kT);if(g<=n&&_<=n)return t.copy(l),r.copy(f),t.sub(r),t.dot(t);if(g<=n)a=0,s=x/_,s=an(s,0,1);else{const b=mg.dot(kT);if(_<=n)s=0,a=an(-b/g,0,1);else{const M=mg.dot(gg),T=g*_-M*M;T!==0?a=an((M*x-b*_)/T,0,1):a=0,s=(M*a+x)/_,s<0?(s=0,a=an(-b/g,0,1)):s>1&&(s=1,a=an((M-b)/g,0,1))}}return t.copy(l).add(mg.multiplyScalar(a)),r.copy(f).add(gg.multiplyScalar(s)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const RO=new W;class _J extends Qn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new dn,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,f=32;s<f;s++,l++){const d=s/f*Math.PI*2,m=l/f*Math.PI*2;n.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}r.setAttribute("position",new Pt(n,3));const a=new ns({fog:!1,toneMapped:!1});this.cone=new rc(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),RO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(RO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Yf=new W,Nb=new Qt,GT=new Qt;class yJ extends rc{constructor(e){const t=oH(e),r=new dn,n=[],a=[];for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new Pt(n,3)),r.setAttribute("color",new Pt(a,3));const s=new ns({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new xt(255),f=new xt(65280);this.setColors(l,f)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,n=r.getAttribute("position");GT.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const l=t[a];l.parent&&l.parent.isBone&&(Nb.multiplyMatrices(GT,l.matrixWorld),Yf.setFromMatrixPosition(Nb),n.setXYZ(s,Yf.x,Yf.y,Yf.z),Nb.multiplyMatrices(GT,l.parent.matrixWorld),Yf.setFromMatrixPosition(Nb),n.setXYZ(s+1,Yf.x,Yf.y,Yf.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const n=this.geometry.getAttribute("color");for(let a=0;a<n.count;a+=2)n.setXYZ(a,e.r,e.g,e.b),n.setXYZ(a+1,t.r,t.g,t.b);return n.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function oH(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...oH(i.children[t]));return e}class xJ extends _r{constructor(e,t,r){const n=new ux(t,4,2),a=new wo({wireframe:!0,fog:!1,toneMapped:!1});super(n,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bJ=new W,DO=new xt,BO=new xt;class SJ extends Qn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const n=new cx(t);n.rotateY(Math.PI*.5),this.material=new wo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=n.getAttribute("position"),s=new Float32Array(a.count*3);n.setAttribute("color",new ei(s,3)),this.add(new _r(n,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");DO.copy(this.light.color),BO.copy(this.light.groundColor);for(let r=0,n=t.count;r<n;r++){const a=r<n/2?DO:BO;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(bJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class AJ extends rc{constructor(e=10,t=10,r=4473924,n=8947848){r=new xt(r),n=new xt(n);const a=t/2,s=e/t,l=e/2,f=[],d=[];for(let _=0,x=0,b=-l;_<=t;_++,b+=s){f.push(-l,0,b,l,0,b),f.push(b,0,-l,b,0,l);const M=_===a?r:n;M.toArray(d,x),x+=3,M.toArray(d,x),x+=3,M.toArray(d,x),x+=3,M.toArray(d,x),x+=3}const m=new dn;m.setAttribute("position",new Pt(f,3)),m.setAttribute("color",new Pt(d,3));const g=new ns({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class EJ extends rc{constructor(e=10,t=16,r=8,n=64,a=4473924,s=8947848){a=new xt(a),s=new xt(s);const l=[],f=[];if(t>1)for(let g=0;g<t;g++){const _=g/t*(Math.PI*2),x=Math.sin(_)*e,b=Math.cos(_)*e;l.push(0,0,0),l.push(x,0,b);const M=g&1?a:s;f.push(M.r,M.g,M.b),f.push(M.r,M.g,M.b)}for(let g=0;g<r;g++){const _=g&1?a:s,x=e-e/r*g;for(let b=0;b<n;b++){let M=b/n*(Math.PI*2),T=Math.sin(M)*x,A=Math.cos(M)*x;l.push(T,0,A),f.push(_.r,_.g,_.b),M=(b+1)/n*(Math.PI*2),T=Math.sin(M)*x,A=Math.cos(M)*x,l.push(T,0,A),f.push(_.r,_.g,_.b)}}const d=new dn;d.setAttribute("position",new Pt(l,3)),d.setAttribute("color",new Pt(f,3));const m=new ns({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const UO=new W,Ib=new W,OO=new W;class MJ extends Qn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let n=new dn;n.setAttribute("position",new Pt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ns({fog:!1,toneMapped:!1});this.lightPlane=new tf(n,a),this.add(this.lightPlane),n=new dn,n.setAttribute("position",new Pt([0,0,0,0,0,1],3)),this.targetLine=new tf(n,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),UO.setFromMatrixPosition(this.light.matrixWorld),Ib.setFromMatrixPosition(this.light.target.matrixWorld),OO.subVectors(Ib,UO),this.lightPlane.lookAt(Ib),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ib),this.targetLine.scale.z=OO.length()}}const zb=new W,gr=new BE;class TJ extends rc{constructor(e){const t=new dn,r=new ns({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(b,M){f(b),f(M)}function f(b){n.push(0,0,0),a.push(0,0,0),s[b]===void 0&&(s[b]=[]),s[b].push(n.length/3-1)}t.setAttribute("position",new Pt(n,3)),t.setAttribute("color",new Pt(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const d=new xt(16755200),m=new xt(16711680),g=new xt(43775),_=new xt(16777215),x=new xt(3355443);this.setColors(d,m,g,_,x)}setColors(e,t,r,n,a){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,n.r,n.g,n.b),l.setXYZ(39,n.r,n.g,n.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,n=1;let a,s;if(gr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===Co)a=-1,s=1;else if(this.camera.coordinateSystem===ov)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ar("c",t,e,gr,0,0,a),Ar("t",t,e,gr,0,0,s),Ar("n1",t,e,gr,-r,-n,a),Ar("n2",t,e,gr,r,-n,a),Ar("n3",t,e,gr,-r,n,a),Ar("n4",t,e,gr,r,n,a),Ar("f1",t,e,gr,-r,-n,s),Ar("f2",t,e,gr,r,-n,s),Ar("f3",t,e,gr,-r,n,s),Ar("f4",t,e,gr,r,n,s),Ar("u1",t,e,gr,r*.7,n*1.1,a),Ar("u2",t,e,gr,-r*.7,n*1.1,a),Ar("u3",t,e,gr,0,n*2,a),Ar("cf1",t,e,gr,-r,0,s),Ar("cf2",t,e,gr,r,0,s),Ar("cf3",t,e,gr,0,-n,s),Ar("cf4",t,e,gr,0,n,s),Ar("cn1",t,e,gr,-r,0,a),Ar("cn2",t,e,gr,r,0,a),Ar("cn3",t,e,gr,0,-n,a),Ar("cn4",t,e,gr,0,n,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ar(i,e,t,r,n,a,s){zb.set(n,a,s).unproject(r);const l=e[i];if(l!==void 0){const f=t.getAttribute("position");for(let d=0,m=l.length;d<m;d++)f.setXYZ(l[d],zb.x,zb.y,zb.z)}}const Lb=new Ba;class CJ extends rc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),a=new dn;a.setIndex(new ei(r,1)),a.setAttribute("position",new ei(n,3)),super(a,new ns({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Lb.setFromObject(this.object),Lb.isEmpty())return;const e=Lb.min,t=Lb.max,r=this.geometry.attributes.position,n=r.array;n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=e.x,n[4]=t.y,n[5]=t.z,n[6]=e.x,n[7]=e.y,n[8]=t.z,n[9]=t.x,n[10]=e.y,n[11]=t.z,n[12]=t.x,n[13]=t.y,n[14]=e.z,n[15]=e.x,n[16]=t.y,n[17]=e.z,n[18]=e.x,n[19]=e.y,n[20]=e.z,n[21]=t.x,n[22]=e.y,n[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wJ extends rc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new dn;a.setIndex(new ei(r,1)),a.setAttribute("position",new Pt(n,3)),super(a,new ns({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class RJ extends tf{constructor(e,t=1,r=16776960){const n=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new dn;s.setAttribute("position",new Pt(a,3)),s.computeBoundingSphere(),super(s,new ns({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new dn;f.setAttribute("position",new Pt(l,3)),f.computeBoundingSphere(),this.add(new _r(f,new wo({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const NO=new W;let Pb,VT;class DJ extends Qn{constructor(e=new W(0,0,1),t=new W(0,0,0),r=1,n=16776960,a=r*.2,s=a*.2){super(),this.type="ArrowHelper",Pb===void 0&&(Pb=new dn,Pb.setAttribute("position",new Pt([0,0,0,0,1,0],3)),VT=new lx(.5,1,5,1),VT.translate(0,-.5,0)),this.position.copy(t),this.line=new tf(Pb,new ns({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _r(VT,new wo({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{NO.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(NO,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class BJ extends rc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new dn;n.setAttribute("position",new Pt(t,3)),n.setAttribute("color",new Pt(r,3));const a=new ns({vertexColors:!0,toneMapped:!1});super(n,a),this.type="AxesHelper"}setColors(e,t,r){const n=new xt,a=this.geometry.attributes.color.array;return n.set(e),n.toArray(a,0),n.toArray(a,3),n.set(t),n.toArray(a,6),n.toArray(a,9),n.set(r),n.toArray(a,12),n.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UJ{constructor(){this.type="ShapePath",this.color=new xt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new pA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this}bezierCurveTo(e,t,r,n,a,s){return this.currentPath.bezierCurveTo(e,t,r,n,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const R=[];for(let B=0,D=A.length;B<D;B++){const I=A[B],L=new hp;L.curves=I.curves,R.push(L)}return R}function r(A,R){const B=R.length;let D=!1;for(let I=B-1,L=0;L<B;I=L++){let P=R[I],F=R[L],O=F.x-P.x,U=F.y-P.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(P=R[L],O=-O,F=R[I],U=-U),A.y<P.y||A.y>F.y)continue;if(A.y===P.y){if(A.x===P.x)return!0}else{const G=U*(A.x-P.x)-O*(A.y-P.y);if(G===0)return!0;if(G<0)continue;D=!D}}else{if(A.y!==P.y)continue;if(F.x<=A.x&&A.x<=P.x||P.x<=A.x&&A.x<=F.x)return!0}}return D}const n=Ql.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,f;const d=[];if(a.length===1)return l=a[0],f=new hp,f.curves=l.curves,d.push(f),d;let m=!n(a[0].getPoints());m=e?!m:m;const g=[],_=[];let x=[],b=0,M;_[b]=void 0,x[b]=[];for(let A=0,R=a.length;A<R;A++)l=a[A],M=l.getPoints(),s=n(M),s=e?!s:s,s?(!m&&_[b]&&b++,_[b]={s:new hp,p:M},_[b].s.curves=l.curves,m&&b++,x[b]=[]):x[b].push({h:l,p:M[0]});if(!_[0])return t(a);if(_.length>1){let A=!1,R=0;for(let B=0,D=_.length;B<D;B++)g[B]=[];for(let B=0,D=_.length;B<D;B++){const I=x[B];for(let L=0;L<I.length;L++){const P=I[L];let F=!0;for(let O=0;O<_.length;O++)r(P.p,_[O].p)&&(B!==O&&R++,F?(F=!1,g[O].push(P)):A=!0);F&&g[B].push(P)}}R>0&&A===!1&&(x=g)}let T;for(let A=0,R=_.length;A<R;A++){f=_[A].s,d.push(f),T=x[A];for(let B=0,D=T.length;B<D;B++)f.holes.push(T[B].h)}return d}}class OJ extends Lo{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function NJ(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function IJ(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function zJ(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function vC(i,e,t,r){const n=LJ(r);switch(t){case oD:return i*e;case EE:return i*e/n.components*n.byteLength;case ix:return i*e/n.components*n.byteLength;case cD:return i*e*2/n.components*n.byteLength;case ME:return i*e*2/n.components*n.byteLength;case lD:return i*e*3/n.components*n.byteLength;case Ka:return i*e*4/n.components*n.byteLength;case TE:return i*e*4/n.components*n.byteLength;case j_:case $_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case X_:case Z_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case LS:case FS:return Math.max(i,16)*Math.max(e,8)/4;case zS:case PS:return Math.max(i,8)*Math.max(e,8)/2;case HS:case kS:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case GS:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case VS:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case jS:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case $S:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case XS:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case ZS:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case YS:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case JS:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case qS:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case WS:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case KS:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case QS:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case eA:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case tA:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case nA:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case iA:case rA:case aA:return Math.ceil(i/4)*Math.ceil(e/4)*16;case sA:case oA:return Math.ceil(i/4)*Math.ceil(e/4)*8;case lA:case cA:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function LJ(i){switch(i){case Fr:case iD:return{byteLength:1,components:1};case iv:case rD:case Np:return{byteLength:2,components:1};case SE:case AE:return{byteLength:2,components:4};case Qc:case bE:case Ls:return{byteLength:4,components:1};case aD:case sD:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class PJ{static contain(e,t){return NJ(e,t)}static cover(e,t){return IJ(e,t)}static fill(e){return zJ(e)}static getByteLength(e,t,r,n){return vC(e,t,r,n)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Op}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Op);function lH(){let i=null,e=!1,t=null,r=null;function n(a,s){t(a,s),r=i.requestAnimationFrame(n)}return{start:function(){e!==!0&&t!==null&&(r=i.requestAnimationFrame(n),e=!0)},stop:function(){i.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}function FJ(i){const e=new WeakMap;function t(l,f){const d=l.array,m=l.usage,g=d.byteLength,_=i.createBuffer();i.bindBuffer(f,_),i.bufferData(f,d,m),l.onUploadCallback();let x;if(d instanceof Float32Array)x=i.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)x=i.HALF_FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?x=i.HALF_FLOAT:x=i.UNSIGNED_SHORT;else if(d instanceof Int16Array)x=i.SHORT;else if(d instanceof Uint32Array)x=i.UNSIGNED_INT;else if(d instanceof Int32Array)x=i.INT;else if(d instanceof Int8Array)x=i.BYTE;else if(d instanceof Uint8Array)x=i.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)x=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:_,type:x,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:g}}function r(l,f,d){const m=f.array,g=f.updateRanges;if(i.bindBuffer(d,l),g.length===0)i.bufferSubData(d,0,m);else{g.sort((x,b)=>x.start-b.start);let _=0;for(let x=1;x<g.length;x++){const b=g[_],M=g[x];M.start<=b.start+b.count+1?b.count=Math.max(b.count,M.start+M.count-b.start):(++_,g[_]=M)}g.length=_+1;for(let x=0,b=g.length;x<b;x++){const M=g[x];i.bufferSubData(d,M.start*m.BYTES_PER_ELEMENT,m,M.start,M.count)}f.clearUpdateRanges()}f.onUploadCallback()}function n(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const f=e.get(l);f&&(i.deleteBuffer(f.buffer),e.delete(l))}function s(l,f){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,t(l,f));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(d.buffer,l,f),d.version=l.version}}return{get:n,remove:a,update:s}}var HJ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,kJ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,GJ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,VJ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jJ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,$J=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,XJ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ZJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,YJ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,JJ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,qJ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,WJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,KJ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,QJ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,eq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tq=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,nq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,aq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,oq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,lq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,cq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,uq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,fq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,hq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,pq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gq="gl_FragColor = linearToOutputTexel( gl_FragColor );",vq=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,_q=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,bq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Sq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Aq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Eq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Mq=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Tq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Cq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,wq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Rq=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Dq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Bq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Uq=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Oq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Nq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Iq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,zq=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Lq=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Pq=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Fq=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Hq=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,kq=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Gq=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Vq=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jq=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$q=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Xq=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Zq=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Yq=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Jq=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qq=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Wq=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Kq=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Qq=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,eW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,tW=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,nW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,iW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,rW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,aW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,lW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,uW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,fW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,dW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,hW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,pW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,mW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,gW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,vW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_W=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,yW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,xW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bW=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,SW=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,EW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,MW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,TW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,CW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,wW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,RW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,DW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,BW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,UW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,OW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,NW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,IW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,LW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,PW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const FW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,HW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$W=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,XW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ZW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,YW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,JW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,WW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,QW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,eK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,oK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,uK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_K=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,En={alphahash_fragment:HJ,alphahash_pars_fragment:kJ,alphamap_fragment:GJ,alphamap_pars_fragment:VJ,alphatest_fragment:jJ,alphatest_pars_fragment:$J,aomap_fragment:XJ,aomap_pars_fragment:ZJ,batching_pars_vertex:YJ,batching_vertex:JJ,begin_vertex:qJ,beginnormal_vertex:WJ,bsdfs:KJ,iridescence_fragment:QJ,bumpmap_pars_fragment:eq,clipping_planes_fragment:tq,clipping_planes_pars_fragment:nq,clipping_planes_pars_vertex:iq,clipping_planes_vertex:rq,color_fragment:aq,color_pars_fragment:sq,color_pars_vertex:oq,color_vertex:lq,common:cq,cube_uv_reflection_fragment:uq,defaultnormal_vertex:fq,displacementmap_pars_vertex:dq,displacementmap_vertex:hq,emissivemap_fragment:pq,emissivemap_pars_fragment:mq,colorspace_fragment:gq,colorspace_pars_fragment:vq,envmap_fragment:_q,envmap_common_pars_fragment:yq,envmap_pars_fragment:xq,envmap_pars_vertex:bq,envmap_physical_pars_fragment:Uq,envmap_vertex:Sq,fog_vertex:Aq,fog_pars_vertex:Eq,fog_fragment:Mq,fog_pars_fragment:Tq,gradientmap_pars_fragment:Cq,lightmap_pars_fragment:wq,lights_lambert_fragment:Rq,lights_lambert_pars_fragment:Dq,lights_pars_begin:Bq,lights_toon_fragment:Oq,lights_toon_pars_fragment:Nq,lights_phong_fragment:Iq,lights_phong_pars_fragment:zq,lights_physical_fragment:Lq,lights_physical_pars_fragment:Pq,lights_fragment_begin:Fq,lights_fragment_maps:Hq,lights_fragment_end:kq,logdepthbuf_fragment:Gq,logdepthbuf_pars_fragment:Vq,logdepthbuf_pars_vertex:jq,logdepthbuf_vertex:$q,map_fragment:Xq,map_pars_fragment:Zq,map_particle_fragment:Yq,map_particle_pars_fragment:Jq,metalnessmap_fragment:qq,metalnessmap_pars_fragment:Wq,morphinstance_vertex:Kq,morphcolor_vertex:Qq,morphnormal_vertex:eW,morphtarget_pars_vertex:tW,morphtarget_vertex:nW,normal_fragment_begin:iW,normal_fragment_maps:rW,normal_pars_fragment:aW,normal_pars_vertex:sW,normal_vertex:oW,normalmap_pars_fragment:lW,clearcoat_normal_fragment_begin:cW,clearcoat_normal_fragment_maps:uW,clearcoat_pars_fragment:fW,iridescence_pars_fragment:dW,opaque_fragment:hW,packing:pW,premultiplied_alpha_fragment:mW,project_vertex:gW,dithering_fragment:vW,dithering_pars_fragment:_W,roughnessmap_fragment:yW,roughnessmap_pars_fragment:xW,shadowmap_pars_fragment:bW,shadowmap_pars_vertex:SW,shadowmap_vertex:AW,shadowmask_pars_fragment:EW,skinbase_vertex:MW,skinning_pars_vertex:TW,skinning_vertex:CW,skinnormal_vertex:wW,specularmap_fragment:RW,specularmap_pars_fragment:DW,tonemapping_fragment:BW,tonemapping_pars_fragment:UW,transmission_fragment:OW,transmission_pars_fragment:NW,uv_pars_fragment:IW,uv_pars_vertex:zW,uv_vertex:LW,worldpos_vertex:PW,background_vert:FW,background_frag:HW,backgroundCube_vert:kW,backgroundCube_frag:GW,cube_vert:VW,cube_frag:jW,depth_vert:$W,depth_frag:XW,distanceRGBA_vert:ZW,distanceRGBA_frag:YW,equirect_vert:JW,equirect_frag:qW,linedashed_vert:WW,linedashed_frag:KW,meshbasic_vert:QW,meshbasic_frag:eK,meshlambert_vert:tK,meshlambert_frag:nK,meshmatcap_vert:iK,meshmatcap_frag:rK,meshnormal_vert:aK,meshnormal_frag:sK,meshphong_vert:oK,meshphong_frag:lK,meshphysical_vert:cK,meshphysical_frag:uK,meshtoon_vert:fK,meshtoon_frag:dK,points_vert:hK,points_frag:pK,shadow_vert:mK,shadow_frag:gK,sprite_vert:vK,sprite_frag:_K},Et={common:{diffuse:{value:new xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new vn},alphaMap:{value:null},alphaMapTransform:{value:new vn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new vn}},envmap:{envMap:{value:null},envMapRotation:{value:new vn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new vn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new vn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new vn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new vn},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new vn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new vn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new vn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new vn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new vn},alphaTest:{value:0},uvTransform:{value:new vn}},sprite:{diffuse:{value:new xt(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new vn},alphaMap:{value:null},alphaMapTransform:{value:new vn},alphaTest:{value:0}}},Yl={basic:{uniforms:Ts([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.fog]),vertexShader:En.meshbasic_vert,fragmentShader:En.meshbasic_frag},lambert:{uniforms:Ts([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new xt(0)}}]),vertexShader:En.meshlambert_vert,fragmentShader:En.meshlambert_frag},phong:{uniforms:Ts([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new xt(0)},specular:{value:new xt(1118481)},shininess:{value:30}}]),vertexShader:En.meshphong_vert,fragmentShader:En.meshphong_frag},standard:{uniforms:Ts([Et.common,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.roughnessmap,Et.metalnessmap,Et.fog,Et.lights,{emissive:{value:new xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag},toon:{uniforms:Ts([Et.common,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.gradientmap,Et.fog,Et.lights,{emissive:{value:new xt(0)}}]),vertexShader:En.meshtoon_vert,fragmentShader:En.meshtoon_frag},matcap:{uniforms:Ts([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,{matcap:{value:null}}]),vertexShader:En.meshmatcap_vert,fragmentShader:En.meshmatcap_frag},points:{uniforms:Ts([Et.points,Et.fog]),vertexShader:En.points_vert,fragmentShader:En.points_frag},dashed:{uniforms:Ts([Et.common,Et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:En.linedashed_vert,fragmentShader:En.linedashed_frag},depth:{uniforms:Ts([Et.common,Et.displacementmap]),vertexShader:En.depth_vert,fragmentShader:En.depth_frag},normal:{uniforms:Ts([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,{opacity:{value:1}}]),vertexShader:En.meshnormal_vert,fragmentShader:En.meshnormal_frag},sprite:{uniforms:Ts([Et.sprite,Et.fog]),vertexShader:En.sprite_vert,fragmentShader:En.sprite_frag},background:{uniforms:{uvTransform:{value:new vn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:En.background_vert,fragmentShader:En.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new vn}},vertexShader:En.backgroundCube_vert,fragmentShader:En.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:En.cube_vert,fragmentShader:En.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:En.equirect_vert,fragmentShader:En.equirect_frag},distanceRGBA:{uniforms:Ts([Et.common,Et.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:En.distanceRGBA_vert,fragmentShader:En.distanceRGBA_frag},shadow:{uniforms:Ts([Et.lights,Et.fog,{color:{value:new xt(0)},opacity:{value:1}}]),vertexShader:En.shadow_vert,fragmentShader:En.shadow_frag}};Yl.physical={uniforms:Ts([Yl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new vn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new vn},clearcoatNormalScale:{value:new He(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new vn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new vn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new vn},sheen:{value:0},sheenColor:{value:new xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new vn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new vn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new vn},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new vn},attenuationDistance:{value:0},attenuationColor:{value:new xt(0)},specularColor:{value:new xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new vn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new vn},anisotropyVector:{value:new He},anisotropyMap:{value:null},anisotropyMapTransform:{value:new vn}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag};const Fb={r:0,b:0,g:0},Lh=new Oo,yK=new Qt;function xK(i,e,t,r,n,a,s){const l=new xt(0);let f=a===!0?0:1,d,m,g=null,_=0,x=null;function b(B){let D=B.isScene===!0?B.background:null;return D&&D.isTexture&&(D=(B.backgroundBlurriness>0?t:e).get(D)),D}function M(B){let D=!1;const I=b(B);I===null?A(l,f):I&&I.isColor&&(A(I,1),D=!0);const L=i.xr.getEnvironmentBlendMode();L==="additive"?r.buffers.color.setClear(0,0,0,1,s):L==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(i.autoClear||D)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function T(B,D){const I=b(D);I&&(I.isCubeTexture||I.mapping===vv)?(m===void 0&&(m=new _r(new zp(1,1,1),new Hr({name:"BackgroundCubeMaterial",uniforms:uv(Yl.backgroundCube.uniforms),vertexShader:Yl.backgroundCube.vertexShader,fragmentShader:Yl.backgroundCube.fragmentShader,side:ea,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(L,P,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(m)),Lh.copy(D.backgroundRotation),Lh.x*=-1,Lh.y*=-1,Lh.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Lh.y*=-1,Lh.z*=-1),m.material.uniforms.envMap.value=I,m.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(yK.makeRotationFromEuler(Lh)),m.material.toneMapped=qn.getTransfer(I.colorSpace)!==xi,(g!==I||_!==I.version||x!==i.toneMapping)&&(m.material.needsUpdate=!0,g=I,_=I.version,x=i.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):I&&I.isTexture&&(d===void 0&&(d=new _r(new yv(2,2),new Hr({name:"BackgroundMaterial",uniforms:uv(Yl.background.uniforms),vertexShader:Yl.background.vertexShader,fragmentShader:Yl.background.fragmentShader,side:tc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(d)),d.material.uniforms.t2D.value=I,d.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,d.material.toneMapped=qn.getTransfer(I.colorSpace)!==xi,I.matrixAutoUpdate===!0&&I.updateMatrix(),d.material.uniforms.uvTransform.value.copy(I.matrix),(g!==I||_!==I.version||x!==i.toneMapping)&&(d.material.needsUpdate=!0,g=I,_=I.version,x=i.toneMapping),d.layers.enableAll(),B.unshift(d,d.geometry,d.material,0,0,null))}function A(B,D){B.getRGB(Fb,v8(i)),r.buffers.color.setClear(Fb.r,Fb.g,Fb.b,D,s)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return l},setClearColor:function(B,D=1){l.set(B),f=D,A(l,f)},getClearAlpha:function(){return f},setClearAlpha:function(B){f=B,A(l,f)},render:M,addToRenderList:T,dispose:R}}function bK(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),r={},n=_(null);let a=n,s=!1;function l(U,G,X,te,ce){let le=!1;const V=g(te,X,G);a!==V&&(a=V,d(a.object)),le=x(U,te,X,ce),le&&b(U,te,X,ce),ce!==null&&e.update(ce,i.ELEMENT_ARRAY_BUFFER),(le||s)&&(s=!1,D(U,G,X,te),ce!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(ce).buffer))}function f(){return i.createVertexArray()}function d(U){return i.bindVertexArray(U)}function m(U){return i.deleteVertexArray(U)}function g(U,G,X){const te=X.wireframe===!0;let ce=r[U.id];ce===void 0&&(ce={},r[U.id]=ce);let le=ce[G.id];le===void 0&&(le={},ce[G.id]=le);let V=le[te];return V===void 0&&(V=_(f()),le[te]=V),V}function _(U){const G=[],X=[],te=[];for(let ce=0;ce<t;ce++)G[ce]=0,X[ce]=0,te[ce]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:X,attributeDivisors:te,object:U,attributes:{},index:null}}function x(U,G,X,te){const ce=a.attributes,le=G.attributes;let V=0;const q=X.getAttributes();for(const ee in q)if(q[ee].location>=0){const J=ce[ee];let Z=le[ee];if(Z===void 0&&(ee==="instanceMatrix"&&U.instanceMatrix&&(Z=U.instanceMatrix),ee==="instanceColor"&&U.instanceColor&&(Z=U.instanceColor)),J===void 0||J.attribute!==Z||Z&&J.data!==Z.data)return!0;V++}return a.attributesNum!==V||a.index!==te}function b(U,G,X,te){const ce={},le=G.attributes;let V=0;const q=X.getAttributes();for(const ee in q)if(q[ee].location>=0){let J=le[ee];J===void 0&&(ee==="instanceMatrix"&&U.instanceMatrix&&(J=U.instanceMatrix),ee==="instanceColor"&&U.instanceColor&&(J=U.instanceColor));const Z={};Z.attribute=J,J&&J.data&&(Z.data=J.data),ce[ee]=Z,V++}a.attributes=ce,a.attributesNum=V,a.index=te}function M(){const U=a.newAttributes;for(let G=0,X=U.length;G<X;G++)U[G]=0}function T(U){A(U,0)}function A(U,G){const X=a.newAttributes,te=a.enabledAttributes,ce=a.attributeDivisors;X[U]=1,te[U]===0&&(i.enableVertexAttribArray(U),te[U]=1),ce[U]!==G&&(i.vertexAttribDivisor(U,G),ce[U]=G)}function R(){const U=a.newAttributes,G=a.enabledAttributes;for(let X=0,te=G.length;X<te;X++)G[X]!==U[X]&&(i.disableVertexAttribArray(X),G[X]=0)}function B(U,G,X,te,ce,le,V){V===!0?i.vertexAttribIPointer(U,G,X,ce,le):i.vertexAttribPointer(U,G,X,te,ce,le)}function D(U,G,X,te){M();const ce=te.attributes,le=X.getAttributes(),V=G.defaultAttributeValues;for(const q in le){const ee=le[q];if(ee.location>=0){let ve=ce[q];if(ve===void 0&&(q==="instanceMatrix"&&U.instanceMatrix&&(ve=U.instanceMatrix),q==="instanceColor"&&U.instanceColor&&(ve=U.instanceColor)),ve!==void 0){const J=ve.normalized,Z=ve.itemSize,he=e.get(ve);if(he===void 0)continue;const Be=he.buffer,we=he.type,Xe=he.bytesPerElement,_e=we===i.INT||we===i.UNSIGNED_INT||ve.gpuType===bE;if(ve.isInterleavedBufferAttribute){const Ce=ve.data,Ze=Ce.stride,et=ve.offset;if(Ce.isInstancedInterleavedBuffer){for(let mt=0;mt<ee.locationSize;mt++)A(ee.location+mt,Ce.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let mt=0;mt<ee.locationSize;mt++)T(ee.location+mt);i.bindBuffer(i.ARRAY_BUFFER,Be);for(let mt=0;mt<ee.locationSize;mt++)B(ee.location+mt,Z/ee.locationSize,we,J,Ze*Xe,(et+Z/ee.locationSize*mt)*Xe,_e)}else{if(ve.isInstancedBufferAttribute){for(let Ce=0;Ce<ee.locationSize;Ce++)A(ee.location+Ce,ve.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let Ce=0;Ce<ee.locationSize;Ce++)T(ee.location+Ce);i.bindBuffer(i.ARRAY_BUFFER,Be);for(let Ce=0;Ce<ee.locationSize;Ce++)B(ee.location+Ce,Z/ee.locationSize,we,J,Z*Xe,Z/ee.locationSize*Ce*Xe,_e)}}else if(V!==void 0){const J=V[q];if(J!==void 0)switch(J.length){case 2:i.vertexAttrib2fv(ee.location,J);break;case 3:i.vertexAttrib3fv(ee.location,J);break;case 4:i.vertexAttrib4fv(ee.location,J);break;default:i.vertexAttrib1fv(ee.location,J)}}}}R()}function I(){F();for(const U in r){const G=r[U];for(const X in G){const te=G[X];for(const ce in te)m(te[ce].object),delete te[ce];delete G[X]}delete r[U]}}function L(U){if(r[U.id]===void 0)return;const G=r[U.id];for(const X in G){const te=G[X];for(const ce in te)m(te[ce].object),delete te[ce];delete G[X]}delete r[U.id]}function P(U){for(const G in r){const X=r[G];if(X[U.id]===void 0)continue;const te=X[U.id];for(const ce in te)m(te[ce].object),delete te[ce];delete X[U.id]}}function F(){O(),s=!0,a!==n&&(a=n,d(a.object))}function O(){n.geometry=null,n.program=null,n.wireframe=!1}return{setup:l,reset:F,resetDefaultState:O,dispose:I,releaseStatesOfGeometry:L,releaseStatesOfProgram:P,initAttributes:M,enableAttribute:T,disableUnusedAttributes:R}}function SK(i,e,t){let r;function n(d){r=d}function a(d,m){i.drawArrays(r,d,m),t.update(m,r,1)}function s(d,m,g){g!==0&&(i.drawArraysInstanced(r,d,m,g),t.update(m,r,g))}function l(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,d,0,m,0,g);let x=0;for(let b=0;b<g;b++)x+=m[b];t.update(x,r,1)}function f(d,m,g,_){if(g===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let b=0;b<d.length;b++)s(d[b],m[b],_[b]);else{x.multiDrawArraysInstancedWEBGL(r,d,0,m,0,_,0,g);let b=0;for(let M=0;M<g;M++)b+=m[M]*_[M];t.update(b,r,1)}}this.setMode=n,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=f}function AK(i,e,t,r){let n;function a(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(P){return!(P!==Ka&&r.convert(P)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(P){const F=P===Np&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Fr&&r.convert(P)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Ls&&!F)}function f(P){if(P==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const m=f(d);m!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const g=t.logarithmicDepthBuffer===!0,_=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),x=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),b=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=i.getParameter(i.MAX_TEXTURE_SIZE),T=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),A=i.getParameter(i.MAX_VERTEX_ATTRIBS),R=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),B=i.getParameter(i.MAX_VARYING_VECTORS),D=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),I=b>0,L=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:f,textureFormatReadable:s,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:g,reversedDepthBuffer:_,maxTextures:x,maxVertexTextures:b,maxTextureSize:M,maxCubemapSize:T,maxAttributes:A,maxVertexUniforms:R,maxVaryings:B,maxFragmentUniforms:D,vertexTextures:I,maxSamples:L}}function EK(i){const e=this;let t=null,r=0,n=!1,a=!1;const s=new Vu,l=new vn,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,_){const x=g.length!==0||_||r!==0||n;return n=_,r=g.length,x},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,_){t=m(g,_,0)},this.setState=function(g,_,x){const b=g.clippingPlanes,M=g.clipIntersection,T=g.clipShadows,A=i.get(g);if(!n||b===null||b.length===0||a&&!T)a?m(null):d();else{const R=a?0:r,B=R*4;let D=A.clippingState||null;f.value=D,D=m(b,_,B,x);for(let I=0;I!==B;++I)D[I]=t[I];A.clippingState=D,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=R}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function m(g,_,x,b){const M=g!==null?g.length:0;let T=null;if(M!==0){if(T=f.value,b!==!0||T===null){const A=x+M*4,R=_.matrixWorldInverse;l.getNormalMatrix(R),(T===null||T.length<A)&&(T=new Float32Array(A));for(let B=0,D=x;B!==M;++B,D+=4)s.copy(g[B]).applyMatrix4(R,l),s.normal.toArray(T,D),T[D+3]=s.constant}f.value=T,f.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,T}}function MK(i){let e=new WeakMap;function t(s,l){return l===vy?s.mapping=ef:l===_y&&(s.mapping=Ad),s}function r(s){if(s&&s.isTexture){const l=s.mapping;if(l===vy||l===_y)if(e.has(s)){const f=e.get(s).texture;return t(f,s.mapping)}else{const f=s.image;if(f&&f.height>0){const d=new x8(f.height);return d.fromEquirectangularTexture(i,s),e.set(s,d),s.addEventListener("dispose",n),t(d.texture,s.mapping)}else return null}}return s}function n(s){const l=s.target;l.removeEventListener("dispose",n);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const wg=4,IO=[.125,.215,.35,.446,.526,.582],Zh=20,jT=new Wc,zO=new xt;let $T=null,XT=0,ZT=0,YT=!1;const Xh=(1+Math.sqrt(5))/2,vg=1/Xh,LO=[new W(-Xh,vg,0),new W(Xh,vg,0),new W(-vg,0,Xh),new W(vg,0,Xh),new W(0,Xh,-vg),new W(0,Xh,vg),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)],TK=new W;class _C{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,n=100,a={}){const{size:s=256,position:l=TK}=a;$T=this._renderer.getRenderTarget(),XT=this._renderer.getActiveCubeFace(),ZT=this._renderer.getActiveMipmapLevel(),YT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,r,n,f,l),t>0&&this._blur(f,0,0,t),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=HO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=FO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($T,XT,ZT),this._renderer.xr.enabled=YT,e.scissorTest=!1,Hb(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ef||e.mapping===Ad?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$T=this._renderer.getRenderTarget(),XT=this._renderer.getActiveCubeFace(),ZT=this._renderer.getActiveMipmapLevel(),YT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:ki,minFilter:ki,generateMipmaps:!1,type:Np,format:Ka,colorSpace:eu,depthBuffer:!1},n=PO(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=PO(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=CK(a)),this._blurMaterial=wK(a,e,t)}return n}_compileMaterial(e){const t=new _r(this._lodPlanes[0],e);this._renderer.compile(t,jT)}_sceneToCubeUV(e,t,r,n,a){const f=new qi(90,1,t,r),d=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,_=g.autoClear,x=g.toneMapping;g.getClearColor(zO),g.toneMapping=ec,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(n),g.clearDepth(),g.setRenderTarget(null));const M=new wo({name:"PMREM.Background",side:ea,depthWrite:!1,depthTest:!1}),T=new _r(new zp,M);let A=!1;const R=e.background;R?R.isColor&&(M.color.copy(R),e.background=null,A=!0):(M.color.copy(zO),A=!0);for(let B=0;B<6;B++){const D=B%3;D===0?(f.up.set(0,d[B],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x+m[B],a.y,a.z)):D===1?(f.up.set(0,0,d[B]),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y+m[B],a.z)):(f.up.set(0,d[B],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y,a.z+m[B]));const I=this._cubeSize;Hb(n,D*I,B>2?I:0,I,I),g.setRenderTarget(n),A&&g.render(T,f),g.render(e,f)}T.geometry.dispose(),T.material.dispose(),g.toneMapping=x,g.autoClear=_,e.background=R}_textureToCubeUV(e,t){const r=this._renderer,n=e.mapping===ef||e.mapping===Ad;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=HO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=FO());const a=n?this._cubemapMaterial:this._equirectMaterial,s=new _r(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const f=this._cubeSize;Hb(t,0,0,3*f,2*f),r.setRenderTarget(t),r.render(s,jT)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const n=this._lodPlanes.length;for(let a=1;a<n;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=LO[(n-a-1)%LO.length];this._blur(e,a-1,a,s,l)}t.autoClear=r}_blur(e,t,r,n,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,n,"latitudinal",a),this._halfBlur(s,e,r,r,n,"longitudinal",a)}_halfBlur(e,t,r,n,a,s,l){const f=this._renderer,d=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new _r(this._lodPlanes[n],d),_=d.uniforms,x=this._sizeLods[r]-1,b=isFinite(a)?Math.PI/(2*x):2*Math.PI/(2*Zh-1),M=a/b,T=isFinite(a)?1+Math.floor(m*M):Zh;T>Zh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Zh}`);const A=[];let R=0;for(let P=0;P<Zh;++P){const F=P/M,O=Math.exp(-F*F/2);A.push(O),P===0?R+=O:P<T&&(R+=2*O)}for(let P=0;P<A.length;P++)A[P]=A[P]/R;_.envMap.value=e.texture,_.samples.value=T,_.weights.value=A,_.latitudinal.value=s==="latitudinal",l&&(_.poleAxis.value=l);const{_lodMax:B}=this;_.dTheta.value=b,_.mipInt.value=B-r;const D=this._sizeLods[n],I=3*D*(n>B-wg?n-B+wg:0),L=4*(this._cubeSize-D);Hb(t,I,L,3*D,2*D),f.setRenderTarget(t),f.render(g,jT)}}function CK(i){const e=[],t=[],r=[];let n=i;const a=i-wg+1+IO.length;for(let s=0;s<a;s++){const l=Math.pow(2,n);t.push(l);let f=1/l;s>i-wg?f=IO[s-i+wg-1]:s===0&&(f=0),r.push(f);const d=1/(l-2),m=-d,g=1+d,_=[m,m,g,m,g,g,m,m,g,g,m,g],x=6,b=6,M=3,T=2,A=1,R=new Float32Array(M*b*x),B=new Float32Array(T*b*x),D=new Float32Array(A*b*x);for(let L=0;L<x;L++){const P=L%3*2/3-1,F=L>2?0:-1,O=[P,F,0,P+2/3,F,0,P+2/3,F+1,0,P,F,0,P+2/3,F+1,0,P,F+1,0];R.set(O,M*b*L),B.set(_,T*b*L);const U=[L,L,L,L,L,L];D.set(U,A*b*L)}const I=new dn;I.setAttribute("position",new ei(R,M)),I.setAttribute("uv",new ei(B,T)),I.setAttribute("faceIndex",new ei(D,A)),e.push(I),n>wg&&n--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function PO(i,e,t){const r=new yr(i,e,t);return r.texture.mapping=vv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Hb(i,e,t,r,n){i.viewport.set(e,t,r,n),i.scissor.set(e,t,r,n)}function wK(i,e,t){const r=new Float32Array(Zh),n=new W(0,1,0);return new Hr({name:"SphericalGaussianBlur",defines:{n:Zh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:XD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:es,depthTest:!1,depthWrite:!1})}function FO(){return new Hr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:XD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:es,depthTest:!1,depthWrite:!1})}function HO(){return new Hr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:XD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:es,depthTest:!1,depthWrite:!1})}function XD(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function RK(i){let e=new WeakMap,t=null;function r(l){if(l&&l.isTexture){const f=l.mapping,d=f===vy||f===_y,m=f===ef||f===Ad;if(d||m){let g=e.get(l);const _=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==_)return t===null&&(t=new _C(i)),g=d?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const x=l.image;return d&&x&&x.height>0||m&&x&&n(x)?(t===null&&(t=new _C(i)),g=d?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function n(l){let f=0;const d=6;for(let m=0;m<d;m++)l[m]!==void 0&&f++;return f===d}function a(l){const f=l.target;f.removeEventListener("dispose",a);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function DK(i){const e={};function t(r){if(e[r]!==void 0)return e[r];let n;switch(r){case"WEBGL_depth_texture":n=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=i.getExtension(r)}return e[r]=n,n}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const n=t(r);return n===null&&Ay("THREE.WebGLRenderer: "+r+" extension not supported."),n}}}function BK(i,e,t,r){const n={},a=new WeakMap;function s(g){const _=g.target;_.index!==null&&e.remove(_.index);for(const b in _.attributes)e.remove(_.attributes[b]);_.removeEventListener("dispose",s),delete n[_.id];const x=a.get(_);x&&(e.remove(x),a.delete(_)),r.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function l(g,_){return n[_.id]===!0||(_.addEventListener("dispose",s),n[_.id]=!0,t.memory.geometries++),_}function f(g){const _=g.attributes;for(const x in _)e.update(_[x],i.ARRAY_BUFFER)}function d(g){const _=[],x=g.index,b=g.attributes.position;let M=0;if(x!==null){const R=x.array;M=x.version;for(let B=0,D=R.length;B<D;B+=3){const I=R[B+0],L=R[B+1],P=R[B+2];_.push(I,L,L,P,P,I)}}else if(b!==void 0){const R=b.array;M=b.version;for(let B=0,D=R.length/3-1;B<D;B+=3){const I=B+0,L=B+1,P=B+2;_.push(I,L,L,P,P,I)}}else return;const T=new(h8(_)?vD:gD)(_,1);T.version=M;const A=a.get(g);A&&e.remove(A),a.set(g,T)}function m(g){const _=a.get(g);if(_){const x=g.index;x!==null&&_.version<x.version&&d(g)}else d(g);return a.get(g)}return{get:l,update:f,getWireframeAttribute:m}}function UK(i,e,t){let r;function n(_){r=_}let a,s;function l(_){a=_.type,s=_.bytesPerElement}function f(_,x){i.drawElements(r,x,a,_*s),t.update(x,r,1)}function d(_,x,b){b!==0&&(i.drawElementsInstanced(r,x,a,_*s,b),t.update(x,r,b))}function m(_,x,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,x,0,a,_,0,b);let T=0;for(let A=0;A<b;A++)T+=x[A];t.update(T,r,1)}function g(_,x,b,M){if(b===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let A=0;A<_.length;A++)d(_[A]/s,x[A],M[A]);else{T.multiDrawElementsInstancedWEBGL(r,x,0,a,_,0,M,0,b);let A=0;for(let R=0;R<b;R++)A+=x[R]*M[R];t.update(A,r,1)}}this.setMode=n,this.setIndex=l,this.render=f,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function OK(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,l){switch(t.calls++,s){case i.TRIANGLES:t.triangles+=l*(a/3);break;case i.LINES:t.lines+=l*(a/2);break;case i.LINE_STRIP:t.lines+=l*(a-1);break;case i.LINE_LOOP:t.lines+=l*a;break;case i.POINTS:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function n(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:n,update:r}}function NK(i,e,t){const r=new WeakMap,n=new Wn;function a(s,l,f){const d=s.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=m!==void 0?m.length:0;let _=r.get(l);if(_===void 0||_.count!==g){let U=function(){F.dispose(),r.delete(l),l.removeEventListener("dispose",U)};var x=U;_!==void 0&&_.texture.dispose();const b=l.morphAttributes.position!==void 0,M=l.morphAttributes.normal!==void 0,T=l.morphAttributes.color!==void 0,A=l.morphAttributes.position||[],R=l.morphAttributes.normal||[],B=l.morphAttributes.color||[];let D=0;b===!0&&(D=1),M===!0&&(D=2),T===!0&&(D=3);let I=l.attributes.position.count*D,L=1;I>e.maxTextureSize&&(L=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const P=new Float32Array(I*L*4*g),F=new RE(P,I,L,g);F.type=Ls,F.needsUpdate=!0;const O=D*4;for(let G=0;G<g;G++){const X=A[G],te=R[G],ce=B[G],le=I*L*4*G;for(let V=0;V<X.count;V++){const q=V*O;b===!0&&(n.fromBufferAttribute(X,V),P[le+q+0]=n.x,P[le+q+1]=n.y,P[le+q+2]=n.z,P[le+q+3]=0),M===!0&&(n.fromBufferAttribute(te,V),P[le+q+4]=n.x,P[le+q+5]=n.y,P[le+q+6]=n.z,P[le+q+7]=0),T===!0&&(n.fromBufferAttribute(ce,V),P[le+q+8]=n.x,P[le+q+9]=n.y,P[le+q+10]=n.z,P[le+q+11]=ce.itemSize===4?n.w:1)}}_={count:g,texture:F,size:new He(I,L)},r.set(l,_),l.addEventListener("dispose",U)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)f.getUniforms().setValue(i,"morphTexture",s.morphTexture,t);else{let b=0;for(let T=0;T<d.length;T++)b+=d[T];const M=l.morphTargetsRelative?1:1-b;f.getUniforms().setValue(i,"morphTargetBaseInfluence",M),f.getUniforms().setValue(i,"morphTargetInfluences",d)}f.getUniforms().setValue(i,"morphTargetsTexture",_.texture,t),f.getUniforms().setValue(i,"morphTargetsTextureSize",_.size)}return{update:a}}function IK(i,e,t,r){let n=new WeakMap;function a(f){const d=r.render.frame,m=f.geometry,g=e.get(f,m);if(n.get(g)!==d&&(e.update(g),n.set(g,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",l)===!1&&f.addEventListener("dispose",l),n.get(f)!==d&&(t.update(f.instanceMatrix,i.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,i.ARRAY_BUFFER),n.set(f,d))),f.isSkinnedMesh){const _=f.skeleton;n.get(_)!==d&&(_.update(),n.set(_,d))}return g}function s(){n=new WeakMap}function l(f){const d=f.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:a,dispose:s}}const cH=new wi,kO=new PE(1,1),uH=new RE,fH=new DE,dH=new rx,GO=[],VO=[],jO=new Float32Array(16),$O=new Float32Array(9),XO=new Float32Array(4);function Sv(i,e,t){const r=i[0];if(r<=0||r>0)return i;const n=e*t;let a=GO[n];if(a===void 0&&(a=new Float32Array(n),GO[n]=a),e!==0){r.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=t,i[s].toArray(a,l)}return a}function na(i,e){if(i.length!==e.length)return!1;for(let t=0,r=i.length;t<r;t++)if(i[t]!==e[t])return!1;return!0}function ia(i,e){for(let t=0,r=e.length;t<r;t++)i[t]=e[t]}function eM(i,e){let t=VO[e];t===void 0&&(t=new Int32Array(e),VO[e]=t);for(let r=0;r!==e;++r)t[r]=i.allocateTextureUnit();return t}function zK(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function LK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(na(t,e))return;i.uniform2fv(this.addr,e),ia(t,e)}}function PK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(na(t,e))return;i.uniform3fv(this.addr,e),ia(t,e)}}function FK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(na(t,e))return;i.uniform4fv(this.addr,e),ia(t,e)}}function HK(i,e){const t=this.cache,r=e.elements;if(r===void 0){if(na(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),ia(t,e)}else{if(na(t,r))return;XO.set(r),i.uniformMatrix2fv(this.addr,!1,XO),ia(t,r)}}function kK(i,e){const t=this.cache,r=e.elements;if(r===void 0){if(na(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),ia(t,e)}else{if(na(t,r))return;$O.set(r),i.uniformMatrix3fv(this.addr,!1,$O),ia(t,r)}}function GK(i,e){const t=this.cache,r=e.elements;if(r===void 0){if(na(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),ia(t,e)}else{if(na(t,r))return;jO.set(r),i.uniformMatrix4fv(this.addr,!1,jO),ia(t,r)}}function VK(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function jK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(na(t,e))return;i.uniform2iv(this.addr,e),ia(t,e)}}function $K(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(na(t,e))return;i.uniform3iv(this.addr,e),ia(t,e)}}function XK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(na(t,e))return;i.uniform4iv(this.addr,e),ia(t,e)}}function ZK(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function YK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(na(t,e))return;i.uniform2uiv(this.addr,e),ia(t,e)}}function JK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(na(t,e))return;i.uniform3uiv(this.addr,e),ia(t,e)}}function qK(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(na(t,e))return;i.uniform4uiv(this.addr,e),ia(t,e)}}function WK(i,e,t){const r=this.cache,n=t.allocateTextureUnit();r[0]!==n&&(i.uniform1i(this.addr,n),r[0]=n);let a;this.type===i.SAMPLER_2D_SHADOW?(kO.compareFunction=dD,a=kO):a=cH,t.setTexture2D(e||a,n)}function KK(i,e,t){const r=this.cache,n=t.allocateTextureUnit();r[0]!==n&&(i.uniform1i(this.addr,n),r[0]=n),t.setTexture3D(e||fH,n)}function QK(i,e,t){const r=this.cache,n=t.allocateTextureUnit();r[0]!==n&&(i.uniform1i(this.addr,n),r[0]=n),t.setTextureCube(e||dH,n)}function eQ(i,e,t){const r=this.cache,n=t.allocateTextureUnit();r[0]!==n&&(i.uniform1i(this.addr,n),r[0]=n),t.setTexture2DArray(e||uH,n)}function tQ(i){switch(i){case 5126:return zK;case 35664:return LK;case 35665:return PK;case 35666:return FK;case 35674:return HK;case 35675:return kK;case 35676:return GK;case 5124:case 35670:return VK;case 35667:case 35671:return jK;case 35668:case 35672:return $K;case 35669:case 35673:return XK;case 5125:return ZK;case 36294:return YK;case 36295:return JK;case 36296:return qK;case 35678:case 36198:case 36298:case 36306:case 35682:return WK;case 35679:case 36299:case 36307:return KK;case 35680:case 36300:case 36308:case 36293:return QK;case 36289:case 36303:case 36311:case 36292:return eQ}}function nQ(i,e){i.uniform1fv(this.addr,e)}function iQ(i,e){const t=Sv(e,this.size,2);i.uniform2fv(this.addr,t)}function rQ(i,e){const t=Sv(e,this.size,3);i.uniform3fv(this.addr,t)}function aQ(i,e){const t=Sv(e,this.size,4);i.uniform4fv(this.addr,t)}function sQ(i,e){const t=Sv(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function oQ(i,e){const t=Sv(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function lQ(i,e){const t=Sv(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function cQ(i,e){i.uniform1iv(this.addr,e)}function uQ(i,e){i.uniform2iv(this.addr,e)}function fQ(i,e){i.uniform3iv(this.addr,e)}function dQ(i,e){i.uniform4iv(this.addr,e)}function hQ(i,e){i.uniform1uiv(this.addr,e)}function pQ(i,e){i.uniform2uiv(this.addr,e)}function mQ(i,e){i.uniform3uiv(this.addr,e)}function gQ(i,e){i.uniform4uiv(this.addr,e)}function vQ(i,e,t){const r=this.cache,n=e.length,a=eM(t,n);na(r,a)||(i.uniform1iv(this.addr,a),ia(r,a));for(let s=0;s!==n;++s)t.setTexture2D(e[s]||cH,a[s])}function _Q(i,e,t){const r=this.cache,n=e.length,a=eM(t,n);na(r,a)||(i.uniform1iv(this.addr,a),ia(r,a));for(let s=0;s!==n;++s)t.setTexture3D(e[s]||fH,a[s])}function yQ(i,e,t){const r=this.cache,n=e.length,a=eM(t,n);na(r,a)||(i.uniform1iv(this.addr,a),ia(r,a));for(let s=0;s!==n;++s)t.setTextureCube(e[s]||dH,a[s])}function xQ(i,e,t){const r=this.cache,n=e.length,a=eM(t,n);na(r,a)||(i.uniform1iv(this.addr,a),ia(r,a));for(let s=0;s!==n;++s)t.setTexture2DArray(e[s]||uH,a[s])}function bQ(i){switch(i){case 5126:return nQ;case 35664:return iQ;case 35665:return rQ;case 35666:return aQ;case 35674:return sQ;case 35675:return oQ;case 35676:return lQ;case 5124:case 35670:return cQ;case 35667:case 35671:return uQ;case 35668:case 35672:return fQ;case 35669:case 35673:return dQ;case 5125:return hQ;case 36294:return pQ;case 36295:return mQ;case 36296:return gQ;case 35678:case 36198:case 36298:case 36306:case 35682:return vQ;case 35679:case 36299:case 36307:return _Q;case 35680:case 36300:case 36308:case 36293:return yQ;case 36289:case 36303:case 36311:case 36292:return xQ}}class SQ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=tQ(t.type)}}class AQ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=bQ(t.type)}}class EQ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const n=this.seq;for(let a=0,s=n.length;a!==s;++a){const l=n[a];l.setValue(e,t[l.id],r)}}}const JT=/(\w+)(\])?(\[|\.)?/g;function ZO(i,e){i.seq.push(e),i.map[e.id]=e}function MQ(i,e,t){const r=i.name,n=r.length;for(JT.lastIndex=0;;){const a=JT.exec(r),s=JT.lastIndex;let l=a[1];const f=a[2]==="]",d=a[3];if(f&&(l=l|0),d===void 0||d==="["&&s+2===n){ZO(t,d===void 0?new SQ(l,i,e):new AQ(l,i,e));break}else{let g=t.map[l];g===void 0&&(g=new EQ(l),ZO(t,g)),t=g}}}class sS{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<r;++n){const a=e.getActiveUniform(t,n),s=e.getUniformLocation(t,a.name);MQ(a,s,this)}}setValue(e,t,r,n){const a=this.map[t];a!==void 0&&a.setValue(e,r,n)}setOptional(e,t,r){const n=t[r];n!==void 0&&this.setValue(e,r,n)}static upload(e,t,r,n){for(let a=0,s=t.length;a!==s;++a){const l=t[a],f=r[l.id];f.needsUpdate!==!1&&l.setValue(e,f.value,n)}}static seqWithValue(e,t){const r=[];for(let n=0,a=e.length;n!==a;++n){const s=e[n];s.id in t&&r.push(s)}return r}}function YO(i,e,t){const r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),r}const TQ=37297;let CQ=0;function wQ(i,e){const t=i.split(`
`),r=[],n=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=n;s<a;s++){const l=s+1;r.push(`${l===e?">":" "} ${l}: ${t[s]}`)}return r.join(`
`)}const JO=new vn;function RQ(i){qn._getMatrix(JO,qn.workingColorSpace,i);const e=`mat3( ${JO.elements.map(t=>t.toFixed(4))} )`;switch(qn.getTransfer(i)){case xy:return[e,"LinearTransferOETF"];case xi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function qO(i,e,t){const r=i.getShaderParameter(e,i.COMPILE_STATUS),a=(i.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+wQ(i.getShaderSource(e),l)}else return a}function DQ(i,e){const t=RQ(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function BQ(i,e){let t;switch(e){case Y5:t="Linear";break;case J5:t="Reinhard";break;case q5:t="Cineon";break;case nD:t="ACESFilmic";break;case K5:t="AgX";break;case Q5:t="Neutral";break;case W5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const kb=new W;function UQ(){qn.getLuminanceCoefficients(kb);const i=kb.x.toFixed(4),e=kb.y.toFixed(4),t=kb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function OQ(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(T_).join(`
`)}function NQ(i){const e=[];for(const t in i){const r=i[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function IQ(i,e){const t={},r=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let n=0;n<r;n++){const a=i.getActiveAttrib(e,n),s=a.name;let l=1;a.type===i.FLOAT_MAT2&&(l=2),a.type===i.FLOAT_MAT3&&(l=3),a.type===i.FLOAT_MAT4&&(l=4),t[s]={type:a.type,location:i.getAttribLocation(e,s),locationSize:l}}return t}function T_(i){return i!==""}function WO(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function KO(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function yC(i){return i.replace(zQ,PQ)}const LQ=new Map;function PQ(i,e){let t=En[e];if(t===void 0){const r=LQ.get(e);if(r!==void 0)t=En[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return yC(t)}const FQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function QO(i){return i.replace(FQ,HQ)}function HQ(i,e,t,r){let n="";for(let a=parseInt(e);a<parseInt(t);a++)n+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return n}function e4(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function kQ(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===_E?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===V_?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Xl&&(e="SHADOWMAP_TYPE_VSM"),e}function GQ(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case ef:case Ad:e="ENVMAP_TYPE_CUBE";break;case vv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function VQ(i){let e="ENVMAP_MODE_REFLECTION";return i.envMap&&i.envMapMode===Ad&&(e="ENVMAP_MODE_REFRACTION"),e}function jQ(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case nx:e="ENVMAP_BLENDING_MULTIPLY";break;case X5:e="ENVMAP_BLENDING_MIX";break;case Z5:e="ENVMAP_BLENDING_ADD";break}return e}function $Q(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function XQ(i,e,t,r){const n=i.getContext(),a=t.defines;let s=t.vertexShader,l=t.fragmentShader;const f=kQ(t),d=GQ(t),m=VQ(t),g=jQ(t),_=$Q(t),x=OQ(t),b=NQ(a),M=n.createProgram();let T,A,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(T=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(T_).join(`
`),T.length>0&&(T+=`
`),A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(T_).join(`
`),A.length>0&&(A+=`
`)):(T=[e4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(T_).join(`
`),A=[e4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ec?"#define TONE_MAPPING":"",t.toneMapping!==ec?En.tonemapping_pars_fragment:"",t.toneMapping!==ec?BQ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",En.colorspace_pars_fragment,DQ("linearToOutputTexel",t.outputColorSpace),UQ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(T_).join(`
`)),s=yC(s),s=WO(s,t),s=KO(s,t),l=yC(l),l=WO(l,t),l=KO(l,t),s=QO(s),l=QO(l),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,T=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,A=["#define varying in",t.glslVersion===uC?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===uC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const B=R+T+s,D=R+A+l,I=YO(n,n.VERTEX_SHADER,B),L=YO(n,n.FRAGMENT_SHADER,D);n.attachShader(M,I),n.attachShader(M,L),t.index0AttributeName!==void 0?n.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&n.bindAttribLocation(M,0,"position"),n.linkProgram(M);function P(G){if(i.debug.checkShaderErrors){const X=n.getProgramInfoLog(M)||"",te=n.getShaderInfoLog(I)||"",ce=n.getShaderInfoLog(L)||"",le=X.trim(),V=te.trim(),q=ce.trim();let ee=!0,ve=!0;if(n.getProgramParameter(M,n.LINK_STATUS)===!1)if(ee=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(n,M,I,L);else{const J=qO(n,I,"vertex"),Z=qO(n,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(M,n.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+le+`
`+J+`
`+Z)}else le!==""?console.warn("THREE.WebGLProgram: Program Info Log:",le):(V===""||q==="")&&(ve=!1);ve&&(G.diagnostics={runnable:ee,programLog:le,vertexShader:{log:V,prefix:T},fragmentShader:{log:q,prefix:A}})}n.deleteShader(I),n.deleteShader(L),F=new sS(n,M),O=IQ(n,M)}let F;this.getUniforms=function(){return F===void 0&&P(this),F};let O;this.getAttributes=function(){return O===void 0&&P(this),O};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=n.getProgramParameter(M,TQ)),U},this.destroy=function(){r.releaseStatesOfProgram(this),n.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=CQ++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=I,this.fragmentShader=L,this}let ZQ=0;class YQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,n=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(n)===!1&&(s.add(n),n.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new JQ(e),t.set(e,r)),r}}class JQ{constructor(e){this.id=ZQ++,this.code=e,this.usedTimes=0}}function qQ(i,e,t,r,n,a,s){const l=new cv,f=new YQ,d=new Set,m=[],g=n.logarithmicDepthBuffer,_=n.vertexTextures;let x=n.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(O){return d.add(O),O===0?"uv":`uv${O}`}function T(O,U,G,X,te){const ce=X.fog,le=te.geometry,V=O.isMeshStandardMaterial?X.environment:null,q=(O.isMeshStandardMaterial?t:e).get(O.envMap||V),ee=q&&q.mapping===vv?q.image.height:null,ve=b[O.type];O.precision!==null&&(x=n.getMaxPrecision(O.precision),x!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",x,"instead."));const J=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,Z=J!==void 0?J.length:0;let he=0;le.morphAttributes.position!==void 0&&(he=1),le.morphAttributes.normal!==void 0&&(he=2),le.morphAttributes.color!==void 0&&(he=3);let Be,we,Xe,_e;if(ve){const gt=Yl[ve];Be=gt.vertexShader,we=gt.fragmentShader}else Be=O.vertexShader,we=O.fragmentShader,f.update(O),Xe=f.getVertexShaderID(O),_e=f.getFragmentShaderID(O);const Ce=i.getRenderTarget(),Ze=i.state.buffers.depth.getReversed(),et=te.isInstancedMesh===!0,mt=te.isBatchedMesh===!0,Mt=!!O.map,kt=!!O.matcap,Q=!!q,Ie=!!O.aoMap,Le=!!O.lightMap,Fe=!!O.bumpMap,ae=!!O.normalMap,lt=!!O.displacementMap,We=!!O.emissiveMap,rt=!!O.metalnessMap,K=!!O.roughnessMap,de=O.anisotropy>0,k=O.clearcoat>0,H=O.dispersion>0,ie=O.iridescence>0,oe=O.sheen>0,ye=O.transmission>0,xe=de&&!!O.anisotropyMap,at=k&&!!O.clearcoatMap,Je=k&&!!O.clearcoatNormalMap,_t=k&&!!O.clearcoatRoughnessMap,ut=ie&&!!O.iridescenceMap,Ke=ie&&!!O.iridescenceThicknessMap,tt=oe&&!!O.sheenColorMap,St=oe&&!!O.sheenRoughnessMap,se=!!O.specularMap,Te=!!O.specularColorMap,st=!!O.specularIntensityMap,re=ye&&!!O.transmissionMap,je=ye&&!!O.thicknessMap,nt=!!O.gradientMap,ht=!!O.alphaMap,qe=O.alphaTest>0,Ge=!!O.alphaHash,vt=!!O.extensions;let Dt=ec;O.toneMapped&&(Ce===null||Ce.isXRRenderTarget===!0)&&(Dt=i.toneMapping);const on={shaderID:ve,shaderType:O.type,shaderName:O.name,vertexShader:Be,fragmentShader:we,defines:O.defines,customVertexShaderID:Xe,customFragmentShaderID:_e,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:x,batching:mt,batchingColor:mt&&te._colorsTexture!==null,instancing:et,instancingColor:et&&te.instanceColor!==null,instancingMorph:et&&te.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:Ce===null?i.outputColorSpace:Ce.isXRRenderTarget===!0?Ce.texture.colorSpace:eu,alphaToCoverage:!!O.alphaToCoverage,map:Mt,matcap:kt,envMap:Q,envMapMode:Q&&q.mapping,envMapCubeUVHeight:ee,aoMap:Ie,lightMap:Le,bumpMap:Fe,normalMap:ae,displacementMap:_&&lt,emissiveMap:We,normalMapObjectSpace:ae&&O.normalMapType===a8,normalMapTangentSpace:ae&&O.normalMapType===wd,metalnessMap:rt,roughnessMap:K,anisotropy:de,anisotropyMap:xe,clearcoat:k,clearcoatMap:at,clearcoatNormalMap:Je,clearcoatRoughnessMap:_t,dispersion:H,iridescence:ie,iridescenceMap:ut,iridescenceThicknessMap:Ke,sheen:oe,sheenColorMap:tt,sheenRoughnessMap:St,specularMap:se,specularColorMap:Te,specularIntensityMap:st,transmission:ye,transmissionMap:re,thicknessMap:je,gradientMap:nt,opaque:O.transparent===!1&&O.blending===dd&&O.alphaToCoverage===!1,alphaMap:ht,alphaTest:qe,alphaHash:Ge,combine:O.combine,mapUv:Mt&&M(O.map.channel),aoMapUv:Ie&&M(O.aoMap.channel),lightMapUv:Le&&M(O.lightMap.channel),bumpMapUv:Fe&&M(O.bumpMap.channel),normalMapUv:ae&&M(O.normalMap.channel),displacementMapUv:lt&&M(O.displacementMap.channel),emissiveMapUv:We&&M(O.emissiveMap.channel),metalnessMapUv:rt&&M(O.metalnessMap.channel),roughnessMapUv:K&&M(O.roughnessMap.channel),anisotropyMapUv:xe&&M(O.anisotropyMap.channel),clearcoatMapUv:at&&M(O.clearcoatMap.channel),clearcoatNormalMapUv:Je&&M(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:_t&&M(O.clearcoatRoughnessMap.channel),iridescenceMapUv:ut&&M(O.iridescenceMap.channel),iridescenceThicknessMapUv:Ke&&M(O.iridescenceThicknessMap.channel),sheenColorMapUv:tt&&M(O.sheenColorMap.channel),sheenRoughnessMapUv:St&&M(O.sheenRoughnessMap.channel),specularMapUv:se&&M(O.specularMap.channel),specularColorMapUv:Te&&M(O.specularColorMap.channel),specularIntensityMapUv:st&&M(O.specularIntensityMap.channel),transmissionMapUv:re&&M(O.transmissionMap.channel),thicknessMapUv:je&&M(O.thicknessMap.channel),alphaMapUv:ht&&M(O.alphaMap.channel),vertexTangents:!!le.attributes.tangent&&(ae||de),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,pointsUvs:te.isPoints===!0&&!!le.attributes.uv&&(Mt||ht),fog:!!ce,useFog:O.fog===!0,fogExp2:!!ce&&ce.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Ze,skinning:te.isSkinnedMesh===!0,morphTargets:le.morphAttributes.position!==void 0,morphNormals:le.morphAttributes.normal!==void 0,morphColors:le.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:he,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:O.dithering,shadowMapEnabled:i.shadowMap.enabled&&G.length>0,shadowMapType:i.shadowMap.type,toneMapping:Dt,decodeVideoTexture:Mt&&O.map.isVideoTexture===!0&&qn.getTransfer(O.map.colorSpace)===xi,decodeVideoTextureEmissive:We&&O.emissiveMap.isVideoTexture===!0&&qn.getTransfer(O.emissiveMap.colorSpace)===xi,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===Is,flipSided:O.side===ea,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:vt&&O.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(vt&&O.extensions.multiDraw===!0||mt)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return on.vertexUv1s=d.has(1),on.vertexUv2s=d.has(2),on.vertexUv3s=d.has(3),d.clear(),on}function A(O){const U=[];if(O.shaderID?U.push(O.shaderID):(U.push(O.customVertexShaderID),U.push(O.customFragmentShaderID)),O.defines!==void 0)for(const G in O.defines)U.push(G),U.push(O.defines[G]);return O.isRawShaderMaterial===!1&&(R(U,O),B(U,O),U.push(i.outputColorSpace)),U.push(O.customProgramCacheKey),U.join()}function R(O,U){O.push(U.precision),O.push(U.outputColorSpace),O.push(U.envMapMode),O.push(U.envMapCubeUVHeight),O.push(U.mapUv),O.push(U.alphaMapUv),O.push(U.lightMapUv),O.push(U.aoMapUv),O.push(U.bumpMapUv),O.push(U.normalMapUv),O.push(U.displacementMapUv),O.push(U.emissiveMapUv),O.push(U.metalnessMapUv),O.push(U.roughnessMapUv),O.push(U.anisotropyMapUv),O.push(U.clearcoatMapUv),O.push(U.clearcoatNormalMapUv),O.push(U.clearcoatRoughnessMapUv),O.push(U.iridescenceMapUv),O.push(U.iridescenceThicknessMapUv),O.push(U.sheenColorMapUv),O.push(U.sheenRoughnessMapUv),O.push(U.specularMapUv),O.push(U.specularColorMapUv),O.push(U.specularIntensityMapUv),O.push(U.transmissionMapUv),O.push(U.thicknessMapUv),O.push(U.combine),O.push(U.fogExp2),O.push(U.sizeAttenuation),O.push(U.morphTargetsCount),O.push(U.morphAttributeCount),O.push(U.numDirLights),O.push(U.numPointLights),O.push(U.numSpotLights),O.push(U.numSpotLightMaps),O.push(U.numHemiLights),O.push(U.numRectAreaLights),O.push(U.numDirLightShadows),O.push(U.numPointLightShadows),O.push(U.numSpotLightShadows),O.push(U.numSpotLightShadowsWithMaps),O.push(U.numLightProbes),O.push(U.shadowMapType),O.push(U.toneMapping),O.push(U.numClippingPlanes),O.push(U.numClipIntersection),O.push(U.depthPacking)}function B(O,U){l.disableAll(),U.supportsVertexTextures&&l.enable(0),U.instancing&&l.enable(1),U.instancingColor&&l.enable(2),U.instancingMorph&&l.enable(3),U.matcap&&l.enable(4),U.envMap&&l.enable(5),U.normalMapObjectSpace&&l.enable(6),U.normalMapTangentSpace&&l.enable(7),U.clearcoat&&l.enable(8),U.iridescence&&l.enable(9),U.alphaTest&&l.enable(10),U.vertexColors&&l.enable(11),U.vertexAlphas&&l.enable(12),U.vertexUv1s&&l.enable(13),U.vertexUv2s&&l.enable(14),U.vertexUv3s&&l.enable(15),U.vertexTangents&&l.enable(16),U.anisotropy&&l.enable(17),U.alphaHash&&l.enable(18),U.batching&&l.enable(19),U.dispersion&&l.enable(20),U.batchingColor&&l.enable(21),U.gradientMap&&l.enable(22),O.push(l.mask),l.disableAll(),U.fog&&l.enable(0),U.useFog&&l.enable(1),U.flatShading&&l.enable(2),U.logarithmicDepthBuffer&&l.enable(3),U.reversedDepthBuffer&&l.enable(4),U.skinning&&l.enable(5),U.morphTargets&&l.enable(6),U.morphNormals&&l.enable(7),U.morphColors&&l.enable(8),U.premultipliedAlpha&&l.enable(9),U.shadowMapEnabled&&l.enable(10),U.doubleSided&&l.enable(11),U.flipSided&&l.enable(12),U.useDepthPacking&&l.enable(13),U.dithering&&l.enable(14),U.transmission&&l.enable(15),U.sheen&&l.enable(16),U.opaque&&l.enable(17),U.pointsUvs&&l.enable(18),U.decodeVideoTexture&&l.enable(19),U.decodeVideoTextureEmissive&&l.enable(20),U.alphaToCoverage&&l.enable(21),O.push(l.mask)}function D(O){const U=b[O.type];let G;if(U){const X=Yl[U];G=_8.clone(X.uniforms)}else G=O.uniforms;return G}function I(O,U){let G;for(let X=0,te=m.length;X<te;X++){const ce=m[X];if(ce.cacheKey===U){G=ce,++G.usedTimes;break}}return G===void 0&&(G=new XQ(i,U,O,a),m.push(G)),G}function L(O){if(--O.usedTimes===0){const U=m.indexOf(O);m[U]=m[m.length-1],m.pop(),O.destroy()}}function P(O){f.remove(O)}function F(){f.dispose()}return{getParameters:T,getProgramCacheKey:A,getUniforms:D,acquireProgram:I,releaseProgram:L,releaseShaderCache:P,programs:m,dispose:F}}function WQ(){let i=new WeakMap;function e(s){return i.has(s)}function t(s){let l=i.get(s);return l===void 0&&(l={},i.set(s,l)),l}function r(s){i.delete(s)}function n(s,l,f){i.get(s)[l]=f}function a(){i=new WeakMap}return{has:e,get:t,remove:r,update:n,dispose:a}}function KQ(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function t4(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function n4(){const i=[];let e=0;const t=[],r=[],n=[];function a(){e=0,t.length=0,r.length=0,n.length=0}function s(g,_,x,b,M,T){let A=i[e];return A===void 0?(A={id:g.id,object:g,geometry:_,material:x,groupOrder:b,renderOrder:g.renderOrder,z:M,group:T},i[e]=A):(A.id=g.id,A.object=g,A.geometry=_,A.material=x,A.groupOrder=b,A.renderOrder=g.renderOrder,A.z=M,A.group=T),e++,A}function l(g,_,x,b,M,T){const A=s(g,_,x,b,M,T);x.transmission>0?r.push(A):x.transparent===!0?n.push(A):t.push(A)}function f(g,_,x,b,M,T){const A=s(g,_,x,b,M,T);x.transmission>0?r.unshift(A):x.transparent===!0?n.unshift(A):t.unshift(A)}function d(g,_){t.length>1&&t.sort(g||KQ),r.length>1&&r.sort(_||t4),n.length>1&&n.sort(_||t4)}function m(){for(let g=e,_=i.length;g<_;g++){const x=i[g];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:r,transparent:n,init:a,push:l,unshift:f,finish:m,sort:d}}function QQ(){let i=new WeakMap;function e(r,n){const a=i.get(r);let s;return a===void 0?(s=new n4,i.set(r,[s])):n>=a.length?(s=new n4,a.push(s)):s=a[n],s}function t(){i=new WeakMap}return{get:e,dispose:t}}function eee(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new W,color:new xt};break;case"SpotLight":t={position:new W,direction:new W,color:new xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new W,color:new xt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new W,skyColor:new xt,groundColor:new xt};break;case"RectAreaLight":t={color:new xt,position:new W,halfWidth:new W,halfHeight:new W};break}return i[e.id]=t,t}}}function tee(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let nee=0;function iee(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function ree(i){const e=new eee,t=tee(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new W);const n=new W,a=new Qt,s=new Qt;function l(d){let m=0,g=0,_=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let x=0,b=0,M=0,T=0,A=0,R=0,B=0,D=0,I=0,L=0,P=0;d.sort(iee);for(let O=0,U=d.length;O<U;O++){const G=d[O],X=G.color,te=G.intensity,ce=G.distance,le=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)m+=X.r*te,g+=X.g*te,_+=X.b*te;else if(G.isLightProbe){for(let V=0;V<9;V++)r.probe[V].addScaledVector(G.sh.coefficients[V],te);P++}else if(G.isDirectionalLight){const V=e.get(G);if(V.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const q=G.shadow,ee=t.get(G);ee.shadowIntensity=q.intensity,ee.shadowBias=q.bias,ee.shadowNormalBias=q.normalBias,ee.shadowRadius=q.radius,ee.shadowMapSize=q.mapSize,r.directionalShadow[x]=ee,r.directionalShadowMap[x]=le,r.directionalShadowMatrix[x]=G.shadow.matrix,R++}r.directional[x]=V,x++}else if(G.isSpotLight){const V=e.get(G);V.position.setFromMatrixPosition(G.matrixWorld),V.color.copy(X).multiplyScalar(te),V.distance=ce,V.coneCos=Math.cos(G.angle),V.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),V.decay=G.decay,r.spot[M]=V;const q=G.shadow;if(G.map&&(r.spotLightMap[I]=G.map,I++,q.updateMatrices(G),G.castShadow&&L++),r.spotLightMatrix[M]=q.matrix,G.castShadow){const ee=t.get(G);ee.shadowIntensity=q.intensity,ee.shadowBias=q.bias,ee.shadowNormalBias=q.normalBias,ee.shadowRadius=q.radius,ee.shadowMapSize=q.mapSize,r.spotShadow[M]=ee,r.spotShadowMap[M]=le,D++}M++}else if(G.isRectAreaLight){const V=e.get(G);V.color.copy(X).multiplyScalar(te),V.halfWidth.set(G.width*.5,0,0),V.halfHeight.set(0,G.height*.5,0),r.rectArea[T]=V,T++}else if(G.isPointLight){const V=e.get(G);if(V.color.copy(G.color).multiplyScalar(G.intensity),V.distance=G.distance,V.decay=G.decay,G.castShadow){const q=G.shadow,ee=t.get(G);ee.shadowIntensity=q.intensity,ee.shadowBias=q.bias,ee.shadowNormalBias=q.normalBias,ee.shadowRadius=q.radius,ee.shadowMapSize=q.mapSize,ee.shadowCameraNear=q.camera.near,ee.shadowCameraFar=q.camera.far,r.pointShadow[b]=ee,r.pointShadowMap[b]=le,r.pointShadowMatrix[b]=G.shadow.matrix,B++}r.point[b]=V,b++}else if(G.isHemisphereLight){const V=e.get(G);V.skyColor.copy(G.color).multiplyScalar(te),V.groundColor.copy(G.groundColor).multiplyScalar(te),r.hemi[A]=V,A++}}T>0&&(i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Et.LTC_FLOAT_1,r.rectAreaLTC2=Et.LTC_FLOAT_2):(r.rectAreaLTC1=Et.LTC_HALF_1,r.rectAreaLTC2=Et.LTC_HALF_2)),r.ambient[0]=m,r.ambient[1]=g,r.ambient[2]=_;const F=r.hash;(F.directionalLength!==x||F.pointLength!==b||F.spotLength!==M||F.rectAreaLength!==T||F.hemiLength!==A||F.numDirectionalShadows!==R||F.numPointShadows!==B||F.numSpotShadows!==D||F.numSpotMaps!==I||F.numLightProbes!==P)&&(r.directional.length=x,r.spot.length=M,r.rectArea.length=T,r.point.length=b,r.hemi.length=A,r.directionalShadow.length=R,r.directionalShadowMap.length=R,r.pointShadow.length=B,r.pointShadowMap.length=B,r.spotShadow.length=D,r.spotShadowMap.length=D,r.directionalShadowMatrix.length=R,r.pointShadowMatrix.length=B,r.spotLightMatrix.length=D+I-L,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=L,r.numLightProbes=P,F.directionalLength=x,F.pointLength=b,F.spotLength=M,F.rectAreaLength=T,F.hemiLength=A,F.numDirectionalShadows=R,F.numPointShadows=B,F.numSpotShadows=D,F.numSpotMaps=I,F.numLightProbes=P,r.version=nee++)}function f(d,m){let g=0,_=0,x=0,b=0,M=0;const T=m.matrixWorldInverse;for(let A=0,R=d.length;A<R;A++){const B=d[A];if(B.isDirectionalLight){const D=r.directional[g];D.direction.setFromMatrixPosition(B.matrixWorld),n.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(n),D.direction.transformDirection(T),g++}else if(B.isSpotLight){const D=r.spot[x];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(T),D.direction.setFromMatrixPosition(B.matrixWorld),n.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(n),D.direction.transformDirection(T),x++}else if(B.isRectAreaLight){const D=r.rectArea[b];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(T),s.identity(),a.copy(B.matrixWorld),a.premultiply(T),s.extractRotation(a),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),D.halfWidth.applyMatrix4(s),D.halfHeight.applyMatrix4(s),b++}else if(B.isPointLight){const D=r.point[_];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(T),_++}else if(B.isHemisphereLight){const D=r.hemi[M];D.direction.setFromMatrixPosition(B.matrixWorld),D.direction.transformDirection(T),M++}}}return{setup:l,setupView:f,state:r}}function i4(i){const e=new ree(i),t=[],r=[];function n(m){d.camera=m,t.length=0,r.length=0}function a(m){t.push(m)}function s(m){r.push(m)}function l(){e.setup(t)}function f(m){e.setupView(t,m)}const d={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:n,state:d,setupLights:l,setupLightsView:f,pushLight:a,pushShadow:s}}function aee(i){let e=new WeakMap;function t(n,a=0){const s=e.get(n);let l;return s===void 0?(l=new i4(i),e.set(n,[l])):a>=s.length?(l=new i4(i),s.push(l)):l=s[a],l}function r(){e=new WeakMap}return{get:t,dispose:r}}const see=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function lee(i,e,t){let r=new _v;const n=new He,a=new He,s=new Wn,l=new KE({depthPacking:wE}),f=new BD,d={},m=t.maxTextureSize,g={[tc]:ea,[ea]:tc,[Is]:Is},_=new Hr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:see,fragmentShader:oee}),x=_.clone();x.defines.HORIZONTAL_PASS=1;const b=new dn;b.setAttribute("position",new ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new _r(b,_),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_E;let A=this.type;this.render=function(L,P,F){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||L.length===0)return;const O=i.getRenderTarget(),U=i.getActiveCubeFace(),G=i.getActiveMipmapLevel(),X=i.state;X.setBlending(es),X.buffers.depth.getReversed()===!0?X.buffers.color.setClear(0,0,0,0):X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const te=A!==Xl&&this.type===Xl,ce=A===Xl&&this.type!==Xl;for(let le=0,V=L.length;le<V;le++){const q=L[le],ee=q.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;n.copy(ee.mapSize);const ve=ee.getFrameExtents();if(n.multiply(ve),a.copy(ee.mapSize),(n.x>m||n.y>m)&&(n.x>m&&(a.x=Math.floor(m/ve.x),n.x=a.x*ve.x,ee.mapSize.x=a.x),n.y>m&&(a.y=Math.floor(m/ve.y),n.y=a.y*ve.y,ee.mapSize.y=a.y)),ee.map===null||te===!0||ce===!0){const Z=this.type!==Xl?{minFilter:Wi,magFilter:Wi}:{};ee.map!==null&&ee.map.dispose(),ee.map=new yr(n.x,n.y,Z),ee.map.texture.name=q.name+".shadowMap",ee.camera.updateProjectionMatrix()}i.setRenderTarget(ee.map),i.clear();const J=ee.getViewportCount();for(let Z=0;Z<J;Z++){const he=ee.getViewport(Z);s.set(a.x*he.x,a.y*he.y,a.x*he.z,a.y*he.w),X.viewport(s),ee.updateMatrices(q,Z),r=ee.getFrustum(),D(P,F,ee.camera,q,this.type)}ee.isPointLightShadow!==!0&&this.type===Xl&&R(ee,F),ee.needsUpdate=!1}A=this.type,T.needsUpdate=!1,i.setRenderTarget(O,U,G)};function R(L,P){const F=e.update(M);_.defines.VSM_SAMPLES!==L.blurSamples&&(_.defines.VSM_SAMPLES=L.blurSamples,x.defines.VSM_SAMPLES=L.blurSamples,_.needsUpdate=!0,x.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new yr(n.x,n.y)),_.uniforms.shadow_pass.value=L.map.texture,_.uniforms.resolution.value=L.mapSize,_.uniforms.radius.value=L.radius,i.setRenderTarget(L.mapPass),i.clear(),i.renderBufferDirect(P,null,F,_,M,null),x.uniforms.shadow_pass.value=L.mapPass.texture,x.uniforms.resolution.value=L.mapSize,x.uniforms.radius.value=L.radius,i.setRenderTarget(L.map),i.clear(),i.renderBufferDirect(P,null,F,x,M,null)}function B(L,P,F,O){let U=null;const G=F.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(G!==void 0)U=G;else if(U=F.isPointLight===!0?f:l,i.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const X=U.uuid,te=P.uuid;let ce=d[X];ce===void 0&&(ce={},d[X]=ce);let le=ce[te];le===void 0&&(le=U.clone(),ce[te]=le,P.addEventListener("dispose",I)),U=le}if(U.visible=P.visible,U.wireframe=P.wireframe,O===Xl?U.side=P.shadowSide!==null?P.shadowSide:P.side:U.side=P.shadowSide!==null?P.shadowSide:g[P.side],U.alphaMap=P.alphaMap,U.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,U.map=P.map,U.clipShadows=P.clipShadows,U.clippingPlanes=P.clippingPlanes,U.clipIntersection=P.clipIntersection,U.displacementMap=P.displacementMap,U.displacementScale=P.displacementScale,U.displacementBias=P.displacementBias,U.wireframeLinewidth=P.wireframeLinewidth,U.linewidth=P.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const X=i.properties.get(U);X.light=F}return U}function D(L,P,F,O,U){if(L.visible===!1)return;if(L.layers.test(P.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&U===Xl)&&(!L.frustumCulled||r.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,L.matrixWorld);const te=e.update(L),ce=L.material;if(Array.isArray(ce)){const le=te.groups;for(let V=0,q=le.length;V<q;V++){const ee=le[V],ve=ce[ee.materialIndex];if(ve&&ve.visible){const J=B(L,ve,O,U);L.onBeforeShadow(i,L,P,F,te,J,ee),i.renderBufferDirect(F,null,te,J,L,ee),L.onAfterShadow(i,L,P,F,te,J,ee)}}}else if(ce.visible){const le=B(L,ce,O,U);L.onBeforeShadow(i,L,P,F,te,le,null),i.renderBufferDirect(F,null,te,le,L,null),L.onAfterShadow(i,L,P,F,te,le,null)}}const X=L.children;for(let te=0,ce=X.length;te<ce;te++)D(X[te],P,F,O,U)}function I(L){L.target.removeEventListener("dispose",I);for(const F in d){const O=d[F],U=L.target.uuid;U in O&&(O[U].dispose(),delete O[U])}}}const cee={[py]:Qg,[ev]:gy,[xp]:tv,[Sd]:my,[Qg]:py,[gy]:ev,[tv]:xp,[my]:Sd};function uee(i,e){function t(){let re=!1;const je=new Wn;let nt=null;const ht=new Wn(0,0,0,0);return{setMask:function(qe){nt!==qe&&!re&&(i.colorMask(qe,qe,qe,qe),nt=qe)},setLocked:function(qe){re=qe},setClear:function(qe,Ge,vt,Dt,on){on===!0&&(qe*=Dt,Ge*=Dt,vt*=Dt),je.set(qe,Ge,vt,Dt),ht.equals(je)===!1&&(i.clearColor(qe,Ge,vt,Dt),ht.copy(je))},reset:function(){re=!1,nt=null,ht.set(-1,0,0,0)}}}function r(){let re=!1,je=!1,nt=null,ht=null,qe=null;return{setReversed:function(Ge){if(je!==Ge){const vt=e.get("EXT_clip_control");Ge?vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.ZERO_TO_ONE_EXT):vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.NEGATIVE_ONE_TO_ONE_EXT),je=Ge;const Dt=qe;qe=null,this.setClear(Dt)}},getReversed:function(){return je},setTest:function(Ge){Ge?Ce(i.DEPTH_TEST):Ze(i.DEPTH_TEST)},setMask:function(Ge){nt!==Ge&&!re&&(i.depthMask(Ge),nt=Ge)},setFunc:function(Ge){if(je&&(Ge=cee[Ge]),ht!==Ge){switch(Ge){case py:i.depthFunc(i.NEVER);break;case Qg:i.depthFunc(i.ALWAYS);break;case ev:i.depthFunc(i.LESS);break;case Sd:i.depthFunc(i.LEQUAL);break;case xp:i.depthFunc(i.EQUAL);break;case my:i.depthFunc(i.GEQUAL);break;case gy:i.depthFunc(i.GREATER);break;case tv:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}ht=Ge}},setLocked:function(Ge){re=Ge},setClear:function(Ge){qe!==Ge&&(je&&(Ge=1-Ge),i.clearDepth(Ge),qe=Ge)},reset:function(){re=!1,nt=null,ht=null,qe=null,je=!1}}}function n(){let re=!1,je=null,nt=null,ht=null,qe=null,Ge=null,vt=null,Dt=null,on=null;return{setTest:function(gt){re||(gt?Ce(i.STENCIL_TEST):Ze(i.STENCIL_TEST))},setMask:function(gt){je!==gt&&!re&&(i.stencilMask(gt),je=gt)},setFunc:function(gt,Ct,qt){(nt!==gt||ht!==Ct||qe!==qt)&&(i.stencilFunc(gt,Ct,qt),nt=gt,ht=Ct,qe=qt)},setOp:function(gt,Ct,qt){(Ge!==gt||vt!==Ct||Dt!==qt)&&(i.stencilOp(gt,Ct,qt),Ge=gt,vt=Ct,Dt=qt)},setLocked:function(gt){re=gt},setClear:function(gt){on!==gt&&(i.clearStencil(gt),on=gt)},reset:function(){re=!1,je=null,nt=null,ht=null,qe=null,Ge=null,vt=null,Dt=null,on=null}}}const a=new t,s=new r,l=new n,f=new WeakMap,d=new WeakMap;let m={},g={},_=new WeakMap,x=[],b=null,M=!1,T=null,A=null,R=null,B=null,D=null,I=null,L=null,P=new xt(0,0,0),F=0,O=!1,U=null,G=null,X=null,te=null,ce=null;const le=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,q=0;const ee=i.getParameter(i.VERSION);ee.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(ee)[1]),V=q>=1):ee.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),V=q>=2);let ve=null,J={};const Z=i.getParameter(i.SCISSOR_BOX),he=i.getParameter(i.VIEWPORT),Be=new Wn().fromArray(Z),we=new Wn().fromArray(he);function Xe(re,je,nt,ht){const qe=new Uint8Array(4),Ge=i.createTexture();i.bindTexture(re,Ge),i.texParameteri(re,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(re,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let vt=0;vt<nt;vt++)re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY?i.texImage3D(je,0,i.RGBA,1,1,ht,0,i.RGBA,i.UNSIGNED_BYTE,qe):i.texImage2D(je+vt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,qe);return Ge}const _e={};_e[i.TEXTURE_2D]=Xe(i.TEXTURE_2D,i.TEXTURE_2D,1),_e[i.TEXTURE_CUBE_MAP]=Xe(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[i.TEXTURE_2D_ARRAY]=Xe(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),_e[i.TEXTURE_3D]=Xe(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),Ce(i.DEPTH_TEST),s.setFunc(Sd),Fe(!1),ae(rC),Ce(i.CULL_FACE),Ie(es);function Ce(re){m[re]!==!0&&(i.enable(re),m[re]=!0)}function Ze(re){m[re]!==!1&&(i.disable(re),m[re]=!1)}function et(re,je){return g[re]!==je?(i.bindFramebuffer(re,je),g[re]=je,re===i.DRAW_FRAMEBUFFER&&(g[i.FRAMEBUFFER]=je),re===i.FRAMEBUFFER&&(g[i.DRAW_FRAMEBUFFER]=je),!0):!1}function mt(re,je){let nt=x,ht=!1;if(re){nt=_.get(je),nt===void 0&&(nt=[],_.set(je,nt));const qe=re.textures;if(nt.length!==qe.length||nt[0]!==i.COLOR_ATTACHMENT0){for(let Ge=0,vt=qe.length;Ge<vt;Ge++)nt[Ge]=i.COLOR_ATTACHMENT0+Ge;nt.length=qe.length,ht=!0}}else nt[0]!==i.BACK&&(nt[0]=i.BACK,ht=!0);ht&&i.drawBuffers(nt)}function Mt(re){return b!==re?(i.useProgram(re),b=re,!0):!1}const kt={[ed]:i.FUNC_ADD,[R5]:i.FUNC_SUBTRACT,[D5]:i.FUNC_REVERSE_SUBTRACT};kt[B5]=i.MIN,kt[U5]=i.MAX;const Q={[O5]:i.ZERO,[N5]:i.ONE,[I5]:i.SRC_COLOR,[NS]:i.SRC_ALPHA,[k5]:i.SRC_ALPHA_SATURATE,[F5]:i.DST_COLOR,[L5]:i.DST_ALPHA,[z5]:i.ONE_MINUS_SRC_COLOR,[IS]:i.ONE_MINUS_SRC_ALPHA,[H5]:i.ONE_MINUS_DST_COLOR,[P5]:i.ONE_MINUS_DST_ALPHA,[G5]:i.CONSTANT_COLOR,[V5]:i.ONE_MINUS_CONSTANT_COLOR,[j5]:i.CONSTANT_ALPHA,[$5]:i.ONE_MINUS_CONSTANT_ALPHA};function Ie(re,je,nt,ht,qe,Ge,vt,Dt,on,gt){if(re===es){M===!0&&(Ze(i.BLEND),M=!1);return}if(M===!1&&(Ce(i.BLEND),M=!0),re!==w5){if(re!==T||gt!==O){if((A!==ed||D!==ed)&&(i.blendEquation(i.FUNC_ADD),A=ed,D=ed),gt)switch(re){case dd:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case aC:i.blendFunc(i.ONE,i.ONE);break;case sC:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case oC:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case dd:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case aC:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case sC:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case oC:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}R=null,B=null,I=null,L=null,P.set(0,0,0),F=0,T=re,O=gt}return}qe=qe||je,Ge=Ge||nt,vt=vt||ht,(je!==A||qe!==D)&&(i.blendEquationSeparate(kt[je],kt[qe]),A=je,D=qe),(nt!==R||ht!==B||Ge!==I||vt!==L)&&(i.blendFuncSeparate(Q[nt],Q[ht],Q[Ge],Q[vt]),R=nt,B=ht,I=Ge,L=vt),(Dt.equals(P)===!1||on!==F)&&(i.blendColor(Dt.r,Dt.g,Dt.b,on),P.copy(Dt),F=on),T=re,O=!1}function Le(re,je){re.side===Is?Ze(i.CULL_FACE):Ce(i.CULL_FACE);let nt=re.side===ea;je&&(nt=!nt),Fe(nt),re.blending===dd&&re.transparent===!1?Ie(es):Ie(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.blendColor,re.blendAlpha,re.premultipliedAlpha),s.setFunc(re.depthFunc),s.setTest(re.depthTest),s.setMask(re.depthWrite),a.setMask(re.colorWrite);const ht=re.stencilWrite;l.setTest(ht),ht&&(l.setMask(re.stencilWriteMask),l.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),l.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),We(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?Ce(i.SAMPLE_ALPHA_TO_COVERAGE):Ze(i.SAMPLE_ALPHA_TO_COVERAGE)}function Fe(re){U!==re&&(re?i.frontFace(i.CW):i.frontFace(i.CCW),U=re)}function ae(re){re!==M5?(Ce(i.CULL_FACE),re!==G&&(re===rC?i.cullFace(i.BACK):re===T5?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Ze(i.CULL_FACE),G=re}function lt(re){re!==X&&(V&&i.lineWidth(re),X=re)}function We(re,je,nt){re?(Ce(i.POLYGON_OFFSET_FILL),(te!==je||ce!==nt)&&(i.polygonOffset(je,nt),te=je,ce=nt)):Ze(i.POLYGON_OFFSET_FILL)}function rt(re){re?Ce(i.SCISSOR_TEST):Ze(i.SCISSOR_TEST)}function K(re){re===void 0&&(re=i.TEXTURE0+le-1),ve!==re&&(i.activeTexture(re),ve=re)}function de(re,je,nt){nt===void 0&&(ve===null?nt=i.TEXTURE0+le-1:nt=ve);let ht=J[nt];ht===void 0&&(ht={type:void 0,texture:void 0},J[nt]=ht),(ht.type!==re||ht.texture!==je)&&(ve!==nt&&(i.activeTexture(nt),ve=nt),i.bindTexture(re,je||_e[re]),ht.type=re,ht.texture=je)}function k(){const re=J[ve];re!==void 0&&re.type!==void 0&&(i.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function H(){try{i.compressedTexImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ie(){try{i.compressedTexImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function oe(){try{i.texSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ye(){try{i.texSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function xe(){try{i.compressedTexSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function at(){try{i.compressedTexSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Je(){try{i.texStorage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function _t(){try{i.texStorage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ut(){try{i.texImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ke(){try{i.texImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function tt(re){Be.equals(re)===!1&&(i.scissor(re.x,re.y,re.z,re.w),Be.copy(re))}function St(re){we.equals(re)===!1&&(i.viewport(re.x,re.y,re.z,re.w),we.copy(re))}function se(re,je){let nt=d.get(je);nt===void 0&&(nt=new WeakMap,d.set(je,nt));let ht=nt.get(re);ht===void 0&&(ht=i.getUniformBlockIndex(je,re.name),nt.set(re,ht))}function Te(re,je){const ht=d.get(je).get(re);f.get(je)!==ht&&(i.uniformBlockBinding(je,ht,re.__bindingPointIndex),f.set(je,ht))}function st(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),s.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},ve=null,J={},g={},_=new WeakMap,x=[],b=null,M=!1,T=null,A=null,R=null,B=null,D=null,I=null,L=null,P=new xt(0,0,0),F=0,O=!1,U=null,G=null,X=null,te=null,ce=null,Be.set(0,0,i.canvas.width,i.canvas.height),we.set(0,0,i.canvas.width,i.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:Ce,disable:Ze,bindFramebuffer:et,drawBuffers:mt,useProgram:Mt,setBlending:Ie,setMaterial:Le,setFlipSided:Fe,setCullFace:ae,setLineWidth:lt,setPolygonOffset:We,setScissorTest:rt,activeTexture:K,bindTexture:de,unbindTexture:k,compressedTexImage2D:H,compressedTexImage3D:ie,texImage2D:ut,texImage3D:Ke,updateUBOMapping:se,uniformBlockBinding:Te,texStorage2D:Je,texStorage3D:_t,texSubImage2D:oe,texSubImage3D:ye,compressedTexSubImage2D:xe,compressedTexSubImage3D:at,scissor:tt,viewport:St,reset:st}}function fee(i,e,t,r,n,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new He,m=new WeakMap;let g;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(k,H){return x?new OffscreenCanvas(k,H):Sy("canvas")}function M(k,H,ie){let oe=1;const ye=de(k);if((ye.width>ie||ye.height>ie)&&(oe=ie/Math.max(ye.width,ye.height)),oe<1)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap||typeof VideoFrame<"u"&&k instanceof VideoFrame){const xe=Math.floor(oe*ye.width),at=Math.floor(oe*ye.height);g===void 0&&(g=b(xe,at));const Je=H?b(xe,at):g;return Je.width=xe,Je.height=at,Je.getContext("2d").drawImage(k,0,0,xe,at),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ye.width+"x"+ye.height+") to ("+xe+"x"+at+")."),Je}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ye.width+"x"+ye.height+")."),k;return k}function T(k){return k.generateMipmaps}function A(k){i.generateMipmap(k)}function R(k){return k.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:k.isWebGL3DRenderTarget?i.TEXTURE_3D:k.isWebGLArrayRenderTarget||k.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function B(k,H,ie,oe,ye=!1){if(k!==null){if(i[k]!==void 0)return i[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let xe=H;if(H===i.RED&&(ie===i.FLOAT&&(xe=i.R32F),ie===i.HALF_FLOAT&&(xe=i.R16F),ie===i.UNSIGNED_BYTE&&(xe=i.R8)),H===i.RED_INTEGER&&(ie===i.UNSIGNED_BYTE&&(xe=i.R8UI),ie===i.UNSIGNED_SHORT&&(xe=i.R16UI),ie===i.UNSIGNED_INT&&(xe=i.R32UI),ie===i.BYTE&&(xe=i.R8I),ie===i.SHORT&&(xe=i.R16I),ie===i.INT&&(xe=i.R32I)),H===i.RG&&(ie===i.FLOAT&&(xe=i.RG32F),ie===i.HALF_FLOAT&&(xe=i.RG16F),ie===i.UNSIGNED_BYTE&&(xe=i.RG8)),H===i.RG_INTEGER&&(ie===i.UNSIGNED_BYTE&&(xe=i.RG8UI),ie===i.UNSIGNED_SHORT&&(xe=i.RG16UI),ie===i.UNSIGNED_INT&&(xe=i.RG32UI),ie===i.BYTE&&(xe=i.RG8I),ie===i.SHORT&&(xe=i.RG16I),ie===i.INT&&(xe=i.RG32I)),H===i.RGB_INTEGER&&(ie===i.UNSIGNED_BYTE&&(xe=i.RGB8UI),ie===i.UNSIGNED_SHORT&&(xe=i.RGB16UI),ie===i.UNSIGNED_INT&&(xe=i.RGB32UI),ie===i.BYTE&&(xe=i.RGB8I),ie===i.SHORT&&(xe=i.RGB16I),ie===i.INT&&(xe=i.RGB32I)),H===i.RGBA_INTEGER&&(ie===i.UNSIGNED_BYTE&&(xe=i.RGBA8UI),ie===i.UNSIGNED_SHORT&&(xe=i.RGBA16UI),ie===i.UNSIGNED_INT&&(xe=i.RGBA32UI),ie===i.BYTE&&(xe=i.RGBA8I),ie===i.SHORT&&(xe=i.RGBA16I),ie===i.INT&&(xe=i.RGBA32I)),H===i.RGB&&(ie===i.UNSIGNED_INT_5_9_9_9_REV&&(xe=i.RGB9_E5),ie===i.UNSIGNED_INT_10F_11F_11F_REV&&(xe=i.R11F_G11F_B10F)),H===i.RGBA){const at=ye?xy:qn.getTransfer(oe);ie===i.FLOAT&&(xe=i.RGBA32F),ie===i.HALF_FLOAT&&(xe=i.RGBA16F),ie===i.UNSIGNED_BYTE&&(xe=at===xi?i.SRGB8_ALPHA8:i.RGBA8),ie===i.UNSIGNED_SHORT_4_4_4_4&&(xe=i.RGBA4),ie===i.UNSIGNED_SHORT_5_5_5_1&&(xe=i.RGB5_A1)}return(xe===i.R16F||xe===i.R32F||xe===i.RG16F||xe===i.RG32F||xe===i.RGBA16F||xe===i.RGBA32F)&&e.get("EXT_color_buffer_float"),xe}function D(k,H){let ie;return k?H===null||H===Qc||H===bp?ie=i.DEPTH24_STENCIL8:H===Ls?ie=i.DEPTH32F_STENCIL8:H===iv&&(ie=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===Qc||H===bp?ie=i.DEPTH_COMPONENT24:H===Ls?ie=i.DEPTH_COMPONENT32F:H===iv&&(ie=i.DEPTH_COMPONENT16),ie}function I(k,H){return T(k)===!0||k.isFramebufferTexture&&k.minFilter!==Wi&&k.minFilter!==ki?Math.log2(Math.max(H.width,H.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?H.mipmaps.length:1}function L(k){const H=k.target;H.removeEventListener("dispose",L),F(H),H.isVideoTexture&&m.delete(H)}function P(k){const H=k.target;H.removeEventListener("dispose",P),U(H)}function F(k){const H=r.get(k);if(H.__webglInit===void 0)return;const ie=k.source,oe=_.get(ie);if(oe){const ye=oe[H.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&O(k),Object.keys(oe).length===0&&_.delete(ie)}r.remove(k)}function O(k){const H=r.get(k);i.deleteTexture(H.__webglTexture);const ie=k.source,oe=_.get(ie);delete oe[H.__cacheKey],s.memory.textures--}function U(k){const H=r.get(k);if(k.depthTexture&&(k.depthTexture.dispose(),r.remove(k.depthTexture)),k.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++){if(Array.isArray(H.__webglFramebuffer[oe]))for(let ye=0;ye<H.__webglFramebuffer[oe].length;ye++)i.deleteFramebuffer(H.__webglFramebuffer[oe][ye]);else i.deleteFramebuffer(H.__webglFramebuffer[oe]);H.__webglDepthbuffer&&i.deleteRenderbuffer(H.__webglDepthbuffer[oe])}else{if(Array.isArray(H.__webglFramebuffer))for(let oe=0;oe<H.__webglFramebuffer.length;oe++)i.deleteFramebuffer(H.__webglFramebuffer[oe]);else i.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&i.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&i.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let oe=0;oe<H.__webglColorRenderbuffer.length;oe++)H.__webglColorRenderbuffer[oe]&&i.deleteRenderbuffer(H.__webglColorRenderbuffer[oe]);H.__webglDepthRenderbuffer&&i.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const ie=k.textures;for(let oe=0,ye=ie.length;oe<ye;oe++){const xe=r.get(ie[oe]);xe.__webglTexture&&(i.deleteTexture(xe.__webglTexture),s.memory.textures--),r.remove(ie[oe])}r.remove(k)}let G=0;function X(){G=0}function te(){const k=G;return k>=n.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+n.maxTextures),G+=1,k}function ce(k){const H=[];return H.push(k.wrapS),H.push(k.wrapT),H.push(k.wrapR||0),H.push(k.magFilter),H.push(k.minFilter),H.push(k.anisotropy),H.push(k.internalFormat),H.push(k.format),H.push(k.type),H.push(k.generateMipmaps),H.push(k.premultiplyAlpha),H.push(k.flipY),H.push(k.unpackAlignment),H.push(k.colorSpace),H.join()}function le(k,H){const ie=r.get(k);if(k.isVideoTexture&&rt(k),k.isRenderTargetTexture===!1&&k.isExternalTexture!==!0&&k.version>0&&ie.__version!==k.version){const oe=k.image;if(oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_e(ie,k,H);return}}else k.isExternalTexture&&(ie.__webglTexture=k.sourceTexture?k.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,ie.__webglTexture,i.TEXTURE0+H)}function V(k,H){const ie=r.get(k);if(k.isRenderTargetTexture===!1&&k.version>0&&ie.__version!==k.version){_e(ie,k,H);return}t.bindTexture(i.TEXTURE_2D_ARRAY,ie.__webglTexture,i.TEXTURE0+H)}function q(k,H){const ie=r.get(k);if(k.isRenderTargetTexture===!1&&k.version>0&&ie.__version!==k.version){_e(ie,k,H);return}t.bindTexture(i.TEXTURE_3D,ie.__webglTexture,i.TEXTURE0+H)}function ee(k,H){const ie=r.get(k);if(k.version>0&&ie.__version!==k.version){Ce(ie,k,H);return}t.bindTexture(i.TEXTURE_CUBE_MAP,ie.__webglTexture,i.TEXTURE0+H)}const ve={[Ed]:i.REPEAT,[To]:i.CLAMP_TO_EDGE,[nv]:i.MIRRORED_REPEAT},J={[Wi]:i.NEAREST,[xE]:i.NEAREST_MIPMAP_NEAREST,[Kh]:i.NEAREST_MIPMAP_LINEAR,[ki]:i.LINEAR,[Ig]:i.LINEAR_MIPMAP_NEAREST,[hl]:i.LINEAR_MIPMAP_LINEAR},Z={[s8]:i.NEVER,[d8]:i.ALWAYS,[o8]:i.LESS,[dD]:i.LEQUAL,[l8]:i.EQUAL,[f8]:i.GEQUAL,[c8]:i.GREATER,[u8]:i.NOTEQUAL};function he(k,H){if(H.type===Ls&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===ki||H.magFilter===Ig||H.magFilter===Kh||H.magFilter===hl||H.minFilter===ki||H.minFilter===Ig||H.minFilter===Kh||H.minFilter===hl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(k,i.TEXTURE_WRAP_S,ve[H.wrapS]),i.texParameteri(k,i.TEXTURE_WRAP_T,ve[H.wrapT]),(k===i.TEXTURE_3D||k===i.TEXTURE_2D_ARRAY)&&i.texParameteri(k,i.TEXTURE_WRAP_R,ve[H.wrapR]),i.texParameteri(k,i.TEXTURE_MAG_FILTER,J[H.magFilter]),i.texParameteri(k,i.TEXTURE_MIN_FILTER,J[H.minFilter]),H.compareFunction&&(i.texParameteri(k,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(k,i.TEXTURE_COMPARE_FUNC,Z[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===Wi||H.minFilter!==Kh&&H.minFilter!==hl||H.type===Ls&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||r.get(H).__currentAnisotropy){const ie=e.get("EXT_texture_filter_anisotropic");i.texParameterf(k,ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,n.getMaxAnisotropy())),r.get(H).__currentAnisotropy=H.anisotropy}}}function Be(k,H){let ie=!1;k.__webglInit===void 0&&(k.__webglInit=!0,H.addEventListener("dispose",L));const oe=H.source;let ye=_.get(oe);ye===void 0&&(ye={},_.set(oe,ye));const xe=ce(H);if(xe!==k.__cacheKey){ye[xe]===void 0&&(ye[xe]={texture:i.createTexture(),usedTimes:0},s.memory.textures++,ie=!0),ye[xe].usedTimes++;const at=ye[k.__cacheKey];at!==void 0&&(ye[k.__cacheKey].usedTimes--,at.usedTimes===0&&O(H)),k.__cacheKey=xe,k.__webglTexture=ye[xe].texture}return ie}function we(k,H,ie){return Math.floor(Math.floor(k/ie)/H)}function Xe(k,H,ie,oe){const xe=k.updateRanges;if(xe.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,H.width,H.height,ie,oe,H.data);else{xe.sort((Ke,tt)=>Ke.start-tt.start);let at=0;for(let Ke=1;Ke<xe.length;Ke++){const tt=xe[at],St=xe[Ke],se=tt.start+tt.count,Te=we(St.start,H.width,4),st=we(tt.start,H.width,4);St.start<=se+1&&Te===st&&we(St.start+St.count-1,H.width,4)===Te?tt.count=Math.max(tt.count,St.start+St.count-tt.start):(++at,xe[at]=St)}xe.length=at+1;const Je=i.getParameter(i.UNPACK_ROW_LENGTH),_t=i.getParameter(i.UNPACK_SKIP_PIXELS),ut=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,H.width);for(let Ke=0,tt=xe.length;Ke<tt;Ke++){const St=xe[Ke],se=Math.floor(St.start/4),Te=Math.ceil(St.count/4),st=se%H.width,re=Math.floor(se/H.width),je=Te,nt=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,st),i.pixelStorei(i.UNPACK_SKIP_ROWS,re),t.texSubImage2D(i.TEXTURE_2D,0,st,re,je,nt,ie,oe,H.data)}k.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,Je),i.pixelStorei(i.UNPACK_SKIP_PIXELS,_t),i.pixelStorei(i.UNPACK_SKIP_ROWS,ut)}}function _e(k,H,ie){let oe=i.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(oe=i.TEXTURE_2D_ARRAY),H.isData3DTexture&&(oe=i.TEXTURE_3D);const ye=Be(k,H),xe=H.source;t.bindTexture(oe,k.__webglTexture,i.TEXTURE0+ie);const at=r.get(xe);if(xe.version!==at.__version||ye===!0){t.activeTexture(i.TEXTURE0+ie);const Je=qn.getPrimaries(qn.workingColorSpace),_t=H.colorSpace===Wl?null:qn.getPrimaries(H.colorSpace),ut=H.colorSpace===Wl||Je===_t?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ut);let Ke=M(H.image,!1,n.maxTextureSize);Ke=K(H,Ke);const tt=a.convert(H.format,H.colorSpace),St=a.convert(H.type);let se=B(H.internalFormat,tt,St,H.colorSpace,H.isVideoTexture);he(oe,H);let Te;const st=H.mipmaps,re=H.isVideoTexture!==!0,je=at.__version===void 0||ye===!0,nt=xe.dataReady,ht=I(H,Ke);if(H.isDepthTexture)se=D(H.format===Sp,H.type),je&&(re?t.texStorage2D(i.TEXTURE_2D,1,se,Ke.width,Ke.height):t.texImage2D(i.TEXTURE_2D,0,se,Ke.width,Ke.height,0,tt,St,null));else if(H.isDataTexture)if(st.length>0){re&&je&&t.texStorage2D(i.TEXTURE_2D,ht,se,st[0].width,st[0].height);for(let qe=0,Ge=st.length;qe<Ge;qe++)Te=st[qe],re?nt&&t.texSubImage2D(i.TEXTURE_2D,qe,0,0,Te.width,Te.height,tt,St,Te.data):t.texImage2D(i.TEXTURE_2D,qe,se,Te.width,Te.height,0,tt,St,Te.data);H.generateMipmaps=!1}else re?(je&&t.texStorage2D(i.TEXTURE_2D,ht,se,Ke.width,Ke.height),nt&&Xe(H,Ke,tt,St)):t.texImage2D(i.TEXTURE_2D,0,se,Ke.width,Ke.height,0,tt,St,Ke.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){re&&je&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ht,se,st[0].width,st[0].height,Ke.depth);for(let qe=0,Ge=st.length;qe<Ge;qe++)if(Te=st[qe],H.format!==Ka)if(tt!==null)if(re){if(nt)if(H.layerUpdates.size>0){const vt=vC(Te.width,Te.height,H.format,H.type);for(const Dt of H.layerUpdates){const on=Te.data.subarray(Dt*vt/Te.data.BYTES_PER_ELEMENT,(Dt+1)*vt/Te.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,qe,0,0,Dt,Te.width,Te.height,1,tt,on)}H.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,qe,0,0,0,Te.width,Te.height,Ke.depth,tt,Te.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,qe,se,Te.width,Te.height,Ke.depth,0,Te.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else re?nt&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,qe,0,0,0,Te.width,Te.height,Ke.depth,tt,St,Te.data):t.texImage3D(i.TEXTURE_2D_ARRAY,qe,se,Te.width,Te.height,Ke.depth,0,tt,St,Te.data)}else{re&&je&&t.texStorage2D(i.TEXTURE_2D,ht,se,st[0].width,st[0].height);for(let qe=0,Ge=st.length;qe<Ge;qe++)Te=st[qe],H.format!==Ka?tt!==null?re?nt&&t.compressedTexSubImage2D(i.TEXTURE_2D,qe,0,0,Te.width,Te.height,tt,Te.data):t.compressedTexImage2D(i.TEXTURE_2D,qe,se,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):re?nt&&t.texSubImage2D(i.TEXTURE_2D,qe,0,0,Te.width,Te.height,tt,St,Te.data):t.texImage2D(i.TEXTURE_2D,qe,se,Te.width,Te.height,0,tt,St,Te.data)}else if(H.isDataArrayTexture)if(re){if(je&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ht,se,Ke.width,Ke.height,Ke.depth),nt)if(H.layerUpdates.size>0){const qe=vC(Ke.width,Ke.height,H.format,H.type);for(const Ge of H.layerUpdates){const vt=Ke.data.subarray(Ge*qe/Ke.data.BYTES_PER_ELEMENT,(Ge+1)*qe/Ke.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ge,Ke.width,Ke.height,1,tt,St,vt)}H.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ke.width,Ke.height,Ke.depth,tt,St,Ke.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,se,Ke.width,Ke.height,Ke.depth,0,tt,St,Ke.data);else if(H.isData3DTexture)re?(je&&t.texStorage3D(i.TEXTURE_3D,ht,se,Ke.width,Ke.height,Ke.depth),nt&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ke.width,Ke.height,Ke.depth,tt,St,Ke.data)):t.texImage3D(i.TEXTURE_3D,0,se,Ke.width,Ke.height,Ke.depth,0,tt,St,Ke.data);else if(H.isFramebufferTexture){if(je)if(re)t.texStorage2D(i.TEXTURE_2D,ht,se,Ke.width,Ke.height);else{let qe=Ke.width,Ge=Ke.height;for(let vt=0;vt<ht;vt++)t.texImage2D(i.TEXTURE_2D,vt,se,qe,Ge,0,tt,St,null),qe>>=1,Ge>>=1}}else if(st.length>0){if(re&&je){const qe=de(st[0]);t.texStorage2D(i.TEXTURE_2D,ht,se,qe.width,qe.height)}for(let qe=0,Ge=st.length;qe<Ge;qe++)Te=st[qe],re?nt&&t.texSubImage2D(i.TEXTURE_2D,qe,0,0,tt,St,Te):t.texImage2D(i.TEXTURE_2D,qe,se,tt,St,Te);H.generateMipmaps=!1}else if(re){if(je){const qe=de(Ke);t.texStorage2D(i.TEXTURE_2D,ht,se,qe.width,qe.height)}nt&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,tt,St,Ke)}else t.texImage2D(i.TEXTURE_2D,0,se,tt,St,Ke);T(H)&&A(oe),at.__version=xe.version,H.onUpdate&&H.onUpdate(H)}k.__version=H.version}function Ce(k,H,ie){if(H.image.length!==6)return;const oe=Be(k,H),ye=H.source;t.bindTexture(i.TEXTURE_CUBE_MAP,k.__webglTexture,i.TEXTURE0+ie);const xe=r.get(ye);if(ye.version!==xe.__version||oe===!0){t.activeTexture(i.TEXTURE0+ie);const at=qn.getPrimaries(qn.workingColorSpace),Je=H.colorSpace===Wl?null:qn.getPrimaries(H.colorSpace),_t=H.colorSpace===Wl||at===Je?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);const ut=H.isCompressedTexture||H.image[0].isCompressedTexture,Ke=H.image[0]&&H.image[0].isDataTexture,tt=[];for(let Ge=0;Ge<6;Ge++)!ut&&!Ke?tt[Ge]=M(H.image[Ge],!0,n.maxCubemapSize):tt[Ge]=Ke?H.image[Ge].image:H.image[Ge],tt[Ge]=K(H,tt[Ge]);const St=tt[0],se=a.convert(H.format,H.colorSpace),Te=a.convert(H.type),st=B(H.internalFormat,se,Te,H.colorSpace),re=H.isVideoTexture!==!0,je=xe.__version===void 0||oe===!0,nt=ye.dataReady;let ht=I(H,St);he(i.TEXTURE_CUBE_MAP,H);let qe;if(ut){re&&je&&t.texStorage2D(i.TEXTURE_CUBE_MAP,ht,st,St.width,St.height);for(let Ge=0;Ge<6;Ge++){qe=tt[Ge].mipmaps;for(let vt=0;vt<qe.length;vt++){const Dt=qe[vt];H.format!==Ka?se!==null?re?nt&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt,0,0,Dt.width,Dt.height,se,Dt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt,st,Dt.width,Dt.height,0,Dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):re?nt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt,0,0,Dt.width,Dt.height,se,Te,Dt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt,st,Dt.width,Dt.height,0,se,Te,Dt.data)}}}else{if(qe=H.mipmaps,re&&je){qe.length>0&&ht++;const Ge=de(tt[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,ht,st,Ge.width,Ge.height)}for(let Ge=0;Ge<6;Ge++)if(Ke){re?nt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,tt[Ge].width,tt[Ge].height,se,Te,tt[Ge].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,st,tt[Ge].width,tt[Ge].height,0,se,Te,tt[Ge].data);for(let vt=0;vt<qe.length;vt++){const on=qe[vt].image[Ge].image;re?nt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt+1,0,0,on.width,on.height,se,Te,on.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt+1,st,on.width,on.height,0,se,Te,on.data)}}else{re?nt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,se,Te,tt[Ge]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,st,se,Te,tt[Ge]);for(let vt=0;vt<qe.length;vt++){const Dt=qe[vt];re?nt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt+1,0,0,se,Te,Dt.image[Ge]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,vt+1,st,se,Te,Dt.image[Ge])}}}T(H)&&A(i.TEXTURE_CUBE_MAP),xe.__version=ye.version,H.onUpdate&&H.onUpdate(H)}k.__version=H.version}function Ze(k,H,ie,oe,ye,xe){const at=a.convert(ie.format,ie.colorSpace),Je=a.convert(ie.type),_t=B(ie.internalFormat,at,Je,ie.colorSpace),ut=r.get(H),Ke=r.get(ie);if(Ke.__renderTarget=H,!ut.__hasExternalTextures){const tt=Math.max(1,H.width>>xe),St=Math.max(1,H.height>>xe);ye===i.TEXTURE_3D||ye===i.TEXTURE_2D_ARRAY?t.texImage3D(ye,xe,_t,tt,St,H.depth,0,at,Je,null):t.texImage2D(ye,xe,_t,tt,St,0,at,Je,null)}t.bindFramebuffer(i.FRAMEBUFFER,k),We(H)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,oe,ye,Ke.__webglTexture,0,lt(H)):(ye===i.TEXTURE_2D||ye>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,oe,ye,Ke.__webglTexture,xe),t.bindFramebuffer(i.FRAMEBUFFER,null)}function et(k,H,ie){if(i.bindRenderbuffer(i.RENDERBUFFER,k),H.depthBuffer){const oe=H.depthTexture,ye=oe&&oe.isDepthTexture?oe.type:null,xe=D(H.stencilBuffer,ye),at=H.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Je=lt(H);We(H)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Je,xe,H.width,H.height):ie?i.renderbufferStorageMultisample(i.RENDERBUFFER,Je,xe,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,xe,H.width,H.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,at,i.RENDERBUFFER,k)}else{const oe=H.textures;for(let ye=0;ye<oe.length;ye++){const xe=oe[ye],at=a.convert(xe.format,xe.colorSpace),Je=a.convert(xe.type),_t=B(xe.internalFormat,at,Je,xe.colorSpace),ut=lt(H);ie&&We(H)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,ut,_t,H.width,H.height):We(H)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ut,_t,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,_t,H.width,H.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function mt(k,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,k),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const oe=r.get(H.depthTexture);oe.__renderTarget=H,(!oe.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),le(H.depthTexture,0);const ye=oe.__webglTexture,xe=lt(H);if(H.depthTexture.format===rv)We(H)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ye,0,xe):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ye,0);else if(H.depthTexture.format===Sp)We(H)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ye,0,xe):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ye,0);else throw new Error("Unknown depthTexture format")}function Mt(k){const H=r.get(k),ie=k.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==k.depthTexture){const oe=k.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),oe){const ye=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,oe.removeEventListener("dispose",ye)};oe.addEventListener("dispose",ye),H.__depthDisposeCallback=ye}H.__boundDepthTexture=oe}if(k.depthTexture&&!H.__autoAllocateDepthBuffer){if(ie)throw new Error("target.depthTexture not supported in Cube render targets");const oe=k.texture.mipmaps;oe&&oe.length>0?mt(H.__webglFramebuffer[0],k):mt(H.__webglFramebuffer,k)}else if(ie){H.__webglDepthbuffer=[];for(let oe=0;oe<6;oe++)if(t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer[oe]),H.__webglDepthbuffer[oe]===void 0)H.__webglDepthbuffer[oe]=i.createRenderbuffer(),et(H.__webglDepthbuffer[oe],k,!1);else{const ye=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,xe=H.__webglDepthbuffer[oe];i.bindRenderbuffer(i.RENDERBUFFER,xe),i.framebufferRenderbuffer(i.FRAMEBUFFER,ye,i.RENDERBUFFER,xe)}}else{const oe=k.texture.mipmaps;if(oe&&oe.length>0?t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=i.createRenderbuffer(),et(H.__webglDepthbuffer,k,!1);else{const ye=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,xe=H.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,xe),i.framebufferRenderbuffer(i.FRAMEBUFFER,ye,i.RENDERBUFFER,xe)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function kt(k,H,ie){const oe=r.get(k);H!==void 0&&Ze(oe.__webglFramebuffer,k,k.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ie!==void 0&&Mt(k)}function Q(k){const H=k.texture,ie=r.get(k),oe=r.get(H);k.addEventListener("dispose",P);const ye=k.textures,xe=k.isWebGLCubeRenderTarget===!0,at=ye.length>1;if(at||(oe.__webglTexture===void 0&&(oe.__webglTexture=i.createTexture()),oe.__version=H.version,s.memory.textures++),xe){ie.__webglFramebuffer=[];for(let Je=0;Je<6;Je++)if(H.mipmaps&&H.mipmaps.length>0){ie.__webglFramebuffer[Je]=[];for(let _t=0;_t<H.mipmaps.length;_t++)ie.__webglFramebuffer[Je][_t]=i.createFramebuffer()}else ie.__webglFramebuffer[Je]=i.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){ie.__webglFramebuffer=[];for(let Je=0;Je<H.mipmaps.length;Je++)ie.__webglFramebuffer[Je]=i.createFramebuffer()}else ie.__webglFramebuffer=i.createFramebuffer();if(at)for(let Je=0,_t=ye.length;Je<_t;Je++){const ut=r.get(ye[Je]);ut.__webglTexture===void 0&&(ut.__webglTexture=i.createTexture(),s.memory.textures++)}if(k.samples>0&&We(k)===!1){ie.__webglMultisampledFramebuffer=i.createFramebuffer(),ie.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,ie.__webglMultisampledFramebuffer);for(let Je=0;Je<ye.length;Je++){const _t=ye[Je];ie.__webglColorRenderbuffer[Je]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ie.__webglColorRenderbuffer[Je]);const ut=a.convert(_t.format,_t.colorSpace),Ke=a.convert(_t.type),tt=B(_t.internalFormat,ut,Ke,_t.colorSpace,k.isXRRenderTarget===!0),St=lt(k);i.renderbufferStorageMultisample(i.RENDERBUFFER,St,tt,k.width,k.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Je,i.RENDERBUFFER,ie.__webglColorRenderbuffer[Je])}i.bindRenderbuffer(i.RENDERBUFFER,null),k.depthBuffer&&(ie.__webglDepthRenderbuffer=i.createRenderbuffer(),et(ie.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(xe){t.bindTexture(i.TEXTURE_CUBE_MAP,oe.__webglTexture),he(i.TEXTURE_CUBE_MAP,H);for(let Je=0;Je<6;Je++)if(H.mipmaps&&H.mipmaps.length>0)for(let _t=0;_t<H.mipmaps.length;_t++)Ze(ie.__webglFramebuffer[Je][_t],k,H,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Je,_t);else Ze(ie.__webglFramebuffer[Je],k,H,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0);T(H)&&A(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(at){for(let Je=0,_t=ye.length;Je<_t;Je++){const ut=ye[Je],Ke=r.get(ut);let tt=i.TEXTURE_2D;(k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(tt=k.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(tt,Ke.__webglTexture),he(tt,ut),Ze(ie.__webglFramebuffer,k,ut,i.COLOR_ATTACHMENT0+Je,tt,0),T(ut)&&A(tt)}t.unbindTexture()}else{let Je=i.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(Je=k.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(Je,oe.__webglTexture),he(Je,H),H.mipmaps&&H.mipmaps.length>0)for(let _t=0;_t<H.mipmaps.length;_t++)Ze(ie.__webglFramebuffer[_t],k,H,i.COLOR_ATTACHMENT0,Je,_t);else Ze(ie.__webglFramebuffer,k,H,i.COLOR_ATTACHMENT0,Je,0);T(H)&&A(Je),t.unbindTexture()}k.depthBuffer&&Mt(k)}function Ie(k){const H=k.textures;for(let ie=0,oe=H.length;ie<oe;ie++){const ye=H[ie];if(T(ye)){const xe=R(k),at=r.get(ye).__webglTexture;t.bindTexture(xe,at),A(xe),t.unbindTexture()}}}const Le=[],Fe=[];function ae(k){if(k.samples>0){if(We(k)===!1){const H=k.textures,ie=k.width,oe=k.height;let ye=i.COLOR_BUFFER_BIT;const xe=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,at=r.get(k),Je=H.length>1;if(Je)for(let ut=0;ut<H.length;ut++)t.bindFramebuffer(i.FRAMEBUFFER,at.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ut,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,at.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ut,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer);const _t=k.texture.mipmaps;_t&&_t.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,at.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let ut=0;ut<H.length;ut++){if(k.resolveDepthBuffer&&(k.depthBuffer&&(ye|=i.DEPTH_BUFFER_BIT),k.stencilBuffer&&k.resolveStencilBuffer&&(ye|=i.STENCIL_BUFFER_BIT)),Je){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,at.__webglColorRenderbuffer[ut]);const Ke=r.get(H[ut]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Ke,0)}i.blitFramebuffer(0,0,ie,oe,0,0,ie,oe,ye,i.NEAREST),f===!0&&(Le.length=0,Fe.length=0,Le.push(i.COLOR_ATTACHMENT0+ut),k.depthBuffer&&k.resolveDepthBuffer===!1&&(Le.push(xe),Fe.push(xe),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Fe)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Le))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Je)for(let ut=0;ut<H.length;ut++){t.bindFramebuffer(i.FRAMEBUFFER,at.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ut,i.RENDERBUFFER,at.__webglColorRenderbuffer[ut]);const Ke=r.get(H[ut]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,at.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ut,i.TEXTURE_2D,Ke,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}else if(k.depthBuffer&&k.resolveDepthBuffer===!1&&f){const H=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[H])}}}function lt(k){return Math.min(n.maxSamples,k.samples)}function We(k){const H=r.get(k);return k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function rt(k){const H=s.render.frame;m.get(k)!==H&&(m.set(k,H),k.update())}function K(k,H){const ie=k.colorSpace,oe=k.format,ye=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||ie!==eu&&ie!==Wl&&(qn.getTransfer(ie)===xi?(oe!==Ka||ye!==Fr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ie)),H}function de(k){return typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement?(d.width=k.naturalWidth||k.width,d.height=k.naturalHeight||k.height):typeof VideoFrame<"u"&&k instanceof VideoFrame?(d.width=k.displayWidth,d.height=k.displayHeight):(d.width=k.width,d.height=k.height),d}this.allocateTextureUnit=te,this.resetTextureUnits=X,this.setTexture2D=le,this.setTexture2DArray=V,this.setTexture3D=q,this.setTextureCube=ee,this.rebindTextures=kt,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=ae,this.setupDepthRenderbuffer=Mt,this.setupFrameBufferTexture=Ze,this.useMultisampledRTT=We}function hH(i,e){function t(r,n=Wl){let a;const s=qn.getTransfer(n);if(r===Fr)return i.UNSIGNED_BYTE;if(r===SE)return i.UNSIGNED_SHORT_4_4_4_4;if(r===AE)return i.UNSIGNED_SHORT_5_5_5_1;if(r===aD)return i.UNSIGNED_INT_5_9_9_9_REV;if(r===sD)return i.UNSIGNED_INT_10F_11F_11F_REV;if(r===iD)return i.BYTE;if(r===rD)return i.SHORT;if(r===iv)return i.UNSIGNED_SHORT;if(r===bE)return i.INT;if(r===Qc)return i.UNSIGNED_INT;if(r===Ls)return i.FLOAT;if(r===Np)return i.HALF_FLOAT;if(r===oD)return i.ALPHA;if(r===lD)return i.RGB;if(r===Ka)return i.RGBA;if(r===rv)return i.DEPTH_COMPONENT;if(r===Sp)return i.DEPTH_STENCIL;if(r===EE)return i.RED;if(r===ix)return i.RED_INTEGER;if(r===cD)return i.RG;if(r===ME)return i.RG_INTEGER;if(r===TE)return i.RGBA_INTEGER;if(r===j_||r===$_||r===X_||r===Z_)if(s===xi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===j_)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===$_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===X_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Z_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===j_)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===$_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===X_)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Z_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===zS||r===LS||r===PS||r===FS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===zS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===LS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===PS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===FS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===HS||r===kS||r===GS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===HS||r===kS)return s===xi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===GS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===VS||r===jS||r===$S||r===XS||r===ZS||r===YS||r===JS||r===qS||r===WS||r===KS||r===QS||r===eA||r===tA||r===nA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===VS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===jS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===$S)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===XS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===ZS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===YS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===JS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===qS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===WS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===KS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===QS)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===eA)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===tA)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===nA)return s===xi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===iA||r===rA||r===aA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===iA)return s===xi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===rA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===aA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===sA||r===oA||r===lA||r===cA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===sA)return a.COMPRESSED_RED_RGTC1_EXT;if(r===oA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===lA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===cA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===bp?i.UNSIGNED_INT_24_8:i[r]!==void 0?i[r]:null}return{convert:t}}const dee=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,hee=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class pee{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new AD(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Hr({vertexShader:dee,fragmentShader:hee,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new _r(new yv(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class mee extends Lo{constructor(e,t){super();const r=this;let n=null,a=1,s=null,l="local-floor",f=1,d=null,m=null,g=null,_=null,x=null,b=null;const M=typeof XRWebGLBinding<"u",T=new pee,A={},R=t.getContextAttributes();let B=null,D=null;const I=[],L=[],P=new He;let F=null;const O=new qi;O.viewport=new Wn;const U=new qi;U.viewport=new Wn;const G=[O,U],X=new nH;let te=null,ce=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(_e){let Ce=I[_e];return Ce===void 0&&(Ce=new aS,I[_e]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(_e){let Ce=I[_e];return Ce===void 0&&(Ce=new aS,I[_e]=Ce),Ce.getGripSpace()},this.getHand=function(_e){let Ce=I[_e];return Ce===void 0&&(Ce=new aS,I[_e]=Ce),Ce.getHandSpace()};function le(_e){const Ce=L.indexOf(_e.inputSource);if(Ce===-1)return;const Ze=I[Ce];Ze!==void 0&&(Ze.update(_e.inputSource,_e.frame,d||s),Ze.dispatchEvent({type:_e.type,data:_e.inputSource}))}function V(){n.removeEventListener("select",le),n.removeEventListener("selectstart",le),n.removeEventListener("selectend",le),n.removeEventListener("squeeze",le),n.removeEventListener("squeezestart",le),n.removeEventListener("squeezeend",le),n.removeEventListener("end",V),n.removeEventListener("inputsourceschange",q);for(let _e=0;_e<I.length;_e++){const Ce=L[_e];Ce!==null&&(L[_e]=null,I[_e].disconnect(Ce))}te=null,ce=null,T.reset();for(const _e in A)delete A[_e];e.setRenderTarget(B),x=null,_=null,g=null,n=null,D=null,Xe.stop(),r.isPresenting=!1,e.setPixelRatio(F),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(_e){a=_e,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(_e){l=_e,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||s},this.setReferenceSpace=function(_e){d=_e},this.getBaseLayer=function(){return _!==null?_:x},this.getBinding=function(){return g===null&&M&&(g=new XRWebGLBinding(n,t)),g},this.getFrame=function(){return b},this.getSession=function(){return n},this.setSession=async function(_e){if(n=_e,n!==null){if(B=e.getRenderTarget(),n.addEventListener("select",le),n.addEventListener("selectstart",le),n.addEventListener("selectend",le),n.addEventListener("squeeze",le),n.addEventListener("squeezestart",le),n.addEventListener("squeezeend",le),n.addEventListener("end",V),n.addEventListener("inputsourceschange",q),R.xrCompatible!==!0&&await t.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(P),M&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ze=null,et=null,mt=null;R.depth&&(mt=R.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ze=R.stencil?Sp:rv,et=R.stencil?bp:Qc);const Mt={colorFormat:t.RGBA8,depthFormat:mt,scaleFactor:a};g=this.getBinding(),_=g.createProjectionLayer(Mt),n.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),D=new yr(_.textureWidth,_.textureHeight,{format:Ka,type:Fr,depthTexture:new PE(_.textureWidth,_.textureHeight,et,void 0,void 0,void 0,void 0,void 0,void 0,Ze),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const Ze={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:a};x=new XRWebGLLayer(n,t,Ze),n.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),D=new yr(x.framebufferWidth,x.framebufferHeight,{format:Ka,type:Fr,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}D.isXRRenderTarget=!0,this.setFoveation(f),d=null,s=await n.requestReferenceSpace(l),Xe.setContext(n),Xe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(n!==null)return n.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function q(_e){for(let Ce=0;Ce<_e.removed.length;Ce++){const Ze=_e.removed[Ce],et=L.indexOf(Ze);et>=0&&(L[et]=null,I[et].disconnect(Ze))}for(let Ce=0;Ce<_e.added.length;Ce++){const Ze=_e.added[Ce];let et=L.indexOf(Ze);if(et===-1){for(let Mt=0;Mt<I.length;Mt++)if(Mt>=L.length){L.push(Ze),et=Mt;break}else if(L[Mt]===null){L[Mt]=Ze,et=Mt;break}if(et===-1)break}const mt=I[et];mt&&mt.connect(Ze)}}const ee=new W,ve=new W;function J(_e,Ce,Ze){ee.setFromMatrixPosition(Ce.matrixWorld),ve.setFromMatrixPosition(Ze.matrixWorld);const et=ee.distanceTo(ve),mt=Ce.projectionMatrix.elements,Mt=Ze.projectionMatrix.elements,kt=mt[14]/(mt[10]-1),Q=mt[14]/(mt[10]+1),Ie=(mt[9]+1)/mt[5],Le=(mt[9]-1)/mt[5],Fe=(mt[8]-1)/mt[0],ae=(Mt[8]+1)/Mt[0],lt=kt*Fe,We=kt*ae,rt=et/(-Fe+ae),K=rt*-Fe;if(Ce.matrixWorld.decompose(_e.position,_e.quaternion,_e.scale),_e.translateX(K),_e.translateZ(rt),_e.matrixWorld.compose(_e.position,_e.quaternion,_e.scale),_e.matrixWorldInverse.copy(_e.matrixWorld).invert(),mt[10]===-1)_e.projectionMatrix.copy(Ce.projectionMatrix),_e.projectionMatrixInverse.copy(Ce.projectionMatrixInverse);else{const de=kt+rt,k=Q+rt,H=lt-K,ie=We+(et-K),oe=Ie*Q/k*de,ye=Le*Q/k*de;_e.projectionMatrix.makePerspective(H,ie,oe,ye,de,k),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert()}}function Z(_e,Ce){Ce===null?_e.matrixWorld.copy(_e.matrix):_e.matrixWorld.multiplyMatrices(Ce.matrixWorld,_e.matrix),_e.matrixWorldInverse.copy(_e.matrixWorld).invert()}this.updateCamera=function(_e){if(n===null)return;let Ce=_e.near,Ze=_e.far;T.texture!==null&&(T.depthNear>0&&(Ce=T.depthNear),T.depthFar>0&&(Ze=T.depthFar)),X.near=U.near=O.near=Ce,X.far=U.far=O.far=Ze,(te!==X.near||ce!==X.far)&&(n.updateRenderState({depthNear:X.near,depthFar:X.far}),te=X.near,ce=X.far),X.layers.mask=_e.layers.mask|6,O.layers.mask=X.layers.mask&3,U.layers.mask=X.layers.mask&5;const et=_e.parent,mt=X.cameras;Z(X,et);for(let Mt=0;Mt<mt.length;Mt++)Z(mt[Mt],et);mt.length===2?J(X,O,U):X.projectionMatrix.copy(O.projectionMatrix),he(_e,X,et)};function he(_e,Ce,Ze){Ze===null?_e.matrix.copy(Ce.matrixWorld):(_e.matrix.copy(Ze.matrixWorld),_e.matrix.invert(),_e.matrix.multiply(Ce.matrixWorld)),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.updateMatrixWorld(!0),_e.projectionMatrix.copy(Ce.projectionMatrix),_e.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),_e.isPerspectiveCamera&&(_e.fov=lv*2*Math.atan(1/_e.projectionMatrix.elements[5]),_e.zoom=1)}this.getCamera=function(){return X},this.getFoveation=function(){if(!(_===null&&x===null))return f},this.setFoveation=function(_e){f=_e,_!==null&&(_.fixedFoveation=_e),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=_e)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(X)},this.getCameraTexture=function(_e){return A[_e]};let Be=null;function we(_e,Ce){if(m=Ce.getViewerPose(d||s),b=Ce,m!==null){const Ze=m.views;x!==null&&(e.setRenderTargetFramebuffer(D,x.framebuffer),e.setRenderTarget(D));let et=!1;Ze.length!==X.cameras.length&&(X.cameras.length=0,et=!0);for(let Q=0;Q<Ze.length;Q++){const Ie=Ze[Q];let Le=null;if(x!==null)Le=x.getViewport(Ie);else{const ae=g.getViewSubImage(_,Ie);Le=ae.viewport,Q===0&&(e.setRenderTargetTextures(D,ae.colorTexture,ae.depthStencilTexture),e.setRenderTarget(D))}let Fe=G[Q];Fe===void 0&&(Fe=new qi,Fe.layers.enable(Q),Fe.viewport=new Wn,G[Q]=Fe),Fe.matrix.fromArray(Ie.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(Ie.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(Le.x,Le.y,Le.width,Le.height),Q===0&&(X.matrix.copy(Fe.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale)),et===!0&&X.cameras.push(Fe)}const mt=n.enabledFeatures;if(mt&&mt.includes("depth-sensing")&&n.depthUsage=="gpu-optimized"&&M){g=r.getBinding();const Q=g.getDepthInformation(Ze[0]);Q&&Q.isValid&&Q.texture&&T.init(Q,n.renderState)}if(mt&&mt.includes("camera-access")&&M){e.state.unbindTexture(),g=r.getBinding();for(let Q=0;Q<Ze.length;Q++){const Ie=Ze[Q].camera;if(Ie){let Le=A[Ie];Le||(Le=new AD,A[Ie]=Le);const Fe=g.getCameraImage(Ie);Le.sourceTexture=Fe}}}}for(let Ze=0;Ze<I.length;Ze++){const et=L[Ze],mt=I[Ze];et!==null&&mt!==void 0&&mt.update(et,Ce,d||s)}Be&&Be(_e,Ce),Ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ce}),b=null}const Xe=new lH;Xe.setAnimationLoop(we),this.setAnimationLoop=function(_e){Be=_e},this.dispose=function(){}}}const Ph=new Oo,gee=new Qt;function vee(i,e){function t(T,A){T.matrixAutoUpdate===!0&&T.updateMatrix(),A.value.copy(T.matrix)}function r(T,A){A.color.getRGB(T.fogColor.value,v8(i)),A.isFog?(T.fogNear.value=A.near,T.fogFar.value=A.far):A.isFogExp2&&(T.fogDensity.value=A.density)}function n(T,A,R,B,D){A.isMeshBasicMaterial||A.isMeshLambertMaterial?a(T,A):A.isMeshToonMaterial?(a(T,A),g(T,A)):A.isMeshPhongMaterial?(a(T,A),m(T,A)):A.isMeshStandardMaterial?(a(T,A),_(T,A),A.isMeshPhysicalMaterial&&x(T,A,D)):A.isMeshMatcapMaterial?(a(T,A),b(T,A)):A.isMeshDepthMaterial?a(T,A):A.isMeshDistanceMaterial?(a(T,A),M(T,A)):A.isMeshNormalMaterial?a(T,A):A.isLineBasicMaterial?(s(T,A),A.isLineDashedMaterial&&l(T,A)):A.isPointsMaterial?f(T,A,R,B):A.isSpriteMaterial?d(T,A):A.isShadowMaterial?(T.color.value.copy(A.color),T.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function a(T,A){T.opacity.value=A.opacity,A.color&&T.diffuse.value.copy(A.color),A.emissive&&T.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(T.map.value=A.map,t(A.map,T.mapTransform)),A.alphaMap&&(T.alphaMap.value=A.alphaMap,t(A.alphaMap,T.alphaMapTransform)),A.bumpMap&&(T.bumpMap.value=A.bumpMap,t(A.bumpMap,T.bumpMapTransform),T.bumpScale.value=A.bumpScale,A.side===ea&&(T.bumpScale.value*=-1)),A.normalMap&&(T.normalMap.value=A.normalMap,t(A.normalMap,T.normalMapTransform),T.normalScale.value.copy(A.normalScale),A.side===ea&&T.normalScale.value.negate()),A.displacementMap&&(T.displacementMap.value=A.displacementMap,t(A.displacementMap,T.displacementMapTransform),T.displacementScale.value=A.displacementScale,T.displacementBias.value=A.displacementBias),A.emissiveMap&&(T.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,T.emissiveMapTransform)),A.specularMap&&(T.specularMap.value=A.specularMap,t(A.specularMap,T.specularMapTransform)),A.alphaTest>0&&(T.alphaTest.value=A.alphaTest);const R=e.get(A),B=R.envMap,D=R.envMapRotation;B&&(T.envMap.value=B,Ph.copy(D),Ph.x*=-1,Ph.y*=-1,Ph.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Ph.y*=-1,Ph.z*=-1),T.envMapRotation.value.setFromMatrix4(gee.makeRotationFromEuler(Ph)),T.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=A.reflectivity,T.ior.value=A.ior,T.refractionRatio.value=A.refractionRatio),A.lightMap&&(T.lightMap.value=A.lightMap,T.lightMapIntensity.value=A.lightMapIntensity,t(A.lightMap,T.lightMapTransform)),A.aoMap&&(T.aoMap.value=A.aoMap,T.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,T.aoMapTransform))}function s(T,A){T.diffuse.value.copy(A.color),T.opacity.value=A.opacity,A.map&&(T.map.value=A.map,t(A.map,T.mapTransform))}function l(T,A){T.dashSize.value=A.dashSize,T.totalSize.value=A.dashSize+A.gapSize,T.scale.value=A.scale}function f(T,A,R,B){T.diffuse.value.copy(A.color),T.opacity.value=A.opacity,T.size.value=A.size*R,T.scale.value=B*.5,A.map&&(T.map.value=A.map,t(A.map,T.uvTransform)),A.alphaMap&&(T.alphaMap.value=A.alphaMap,t(A.alphaMap,T.alphaMapTransform)),A.alphaTest>0&&(T.alphaTest.value=A.alphaTest)}function d(T,A){T.diffuse.value.copy(A.color),T.opacity.value=A.opacity,T.rotation.value=A.rotation,A.map&&(T.map.value=A.map,t(A.map,T.mapTransform)),A.alphaMap&&(T.alphaMap.value=A.alphaMap,t(A.alphaMap,T.alphaMapTransform)),A.alphaTest>0&&(T.alphaTest.value=A.alphaTest)}function m(T,A){T.specular.value.copy(A.specular),T.shininess.value=Math.max(A.shininess,1e-4)}function g(T,A){A.gradientMap&&(T.gradientMap.value=A.gradientMap)}function _(T,A){T.metalness.value=A.metalness,A.metalnessMap&&(T.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,T.metalnessMapTransform)),T.roughness.value=A.roughness,A.roughnessMap&&(T.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,T.roughnessMapTransform)),A.envMap&&(T.envMapIntensity.value=A.envMapIntensity)}function x(T,A,R){T.ior.value=A.ior,A.sheen>0&&(T.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),T.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(T.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,T.sheenColorMapTransform)),A.sheenRoughnessMap&&(T.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,T.sheenRoughnessMapTransform))),A.clearcoat>0&&(T.clearcoat.value=A.clearcoat,T.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(T.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,T.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(T.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===ea&&T.clearcoatNormalScale.value.negate())),A.dispersion>0&&(T.dispersion.value=A.dispersion),A.iridescence>0&&(T.iridescence.value=A.iridescence,T.iridescenceIOR.value=A.iridescenceIOR,T.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(T.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,T.iridescenceMapTransform)),A.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),A.transmission>0&&(T.transmission.value=A.transmission,T.transmissionSamplerMap.value=R.texture,T.transmissionSamplerSize.value.set(R.width,R.height),A.transmissionMap&&(T.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,T.transmissionMapTransform)),T.thickness.value=A.thickness,A.thicknessMap&&(T.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=A.attenuationDistance,T.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(T.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(T.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=A.specularIntensity,T.specularColor.value.copy(A.specularColor),A.specularColorMap&&(T.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,T.specularColorMapTransform)),A.specularIntensityMap&&(T.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,T.specularIntensityMapTransform))}function b(T,A){A.matcap&&(T.matcap.value=A.matcap)}function M(T,A){const R=e.get(A).light;T.referencePosition.value.setFromMatrixPosition(R.matrixWorld),T.nearDistance.value=R.shadow.camera.near,T.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:n}}function _ee(i,e,t,r){let n={},a={},s=[];const l=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function f(R,B){const D=B.program;r.uniformBlockBinding(R,D)}function d(R,B){let D=n[R.id];D===void 0&&(b(R),D=m(R),n[R.id]=D,R.addEventListener("dispose",T));const I=B.program;r.updateUBOMapping(R,I);const L=e.render.frame;a[R.id]!==L&&(_(R),a[R.id]=L)}function m(R){const B=g();R.__bindingPointIndex=B;const D=i.createBuffer(),I=R.__size,L=R.usage;return i.bindBuffer(i.UNIFORM_BUFFER,D),i.bufferData(i.UNIFORM_BUFFER,I,L),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,B,D),D}function g(){for(let R=0;R<l;R++)if(s.indexOf(R)===-1)return s.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(R){const B=n[R.id],D=R.uniforms,I=R.__cache;i.bindBuffer(i.UNIFORM_BUFFER,B);for(let L=0,P=D.length;L<P;L++){const F=Array.isArray(D[L])?D[L]:[D[L]];for(let O=0,U=F.length;O<U;O++){const G=F[O];if(x(G,L,O,I)===!0){const X=G.__offset,te=Array.isArray(G.value)?G.value:[G.value];let ce=0;for(let le=0;le<te.length;le++){const V=te[le],q=M(V);typeof V=="number"||typeof V=="boolean"?(G.__data[0]=V,i.bufferSubData(i.UNIFORM_BUFFER,X+ce,G.__data)):V.isMatrix3?(G.__data[0]=V.elements[0],G.__data[1]=V.elements[1],G.__data[2]=V.elements[2],G.__data[3]=0,G.__data[4]=V.elements[3],G.__data[5]=V.elements[4],G.__data[6]=V.elements[5],G.__data[7]=0,G.__data[8]=V.elements[6],G.__data[9]=V.elements[7],G.__data[10]=V.elements[8],G.__data[11]=0):(V.toArray(G.__data,ce),ce+=q.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,X,G.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function x(R,B,D,I){const L=R.value,P=B+"_"+D;if(I[P]===void 0)return typeof L=="number"||typeof L=="boolean"?I[P]=L:I[P]=L.clone(),!0;{const F=I[P];if(typeof L=="number"||typeof L=="boolean"){if(F!==L)return I[P]=L,!0}else if(F.equals(L)===!1)return F.copy(L),!0}return!1}function b(R){const B=R.uniforms;let D=0;const I=16;for(let P=0,F=B.length;P<F;P++){const O=Array.isArray(B[P])?B[P]:[B[P]];for(let U=0,G=O.length;U<G;U++){const X=O[U],te=Array.isArray(X.value)?X.value:[X.value];for(let ce=0,le=te.length;ce<le;ce++){const V=te[ce],q=M(V),ee=D%I,ve=ee%q.boundary,J=ee+ve;D+=ve,J!==0&&I-J<q.storage&&(D+=I-J),X.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=D,D+=q.storage}}}const L=D%I;return L>0&&(D+=I-L),R.__size=D,R.__cache={},this}function M(R){const B={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(B.boundary=4,B.storage=4):R.isVector2?(B.boundary=8,B.storage=8):R.isVector3||R.isColor?(B.boundary=16,B.storage=12):R.isVector4?(B.boundary=16,B.storage=16):R.isMatrix3?(B.boundary=48,B.storage=48):R.isMatrix4?(B.boundary=64,B.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),B}function T(R){const B=R.target;B.removeEventListener("dispose",T);const D=s.indexOf(B.__bindingPointIndex);s.splice(D,1),i.deleteBuffer(n[B.id]),delete n[B.id],delete a[B.id]}function A(){for(const R in n)i.deleteBuffer(n[R]);s=[],n={},a={}}return{bind:f,update:d,dispose:A}}class pH{constructor(e={}){const{canvas:t=p8(),context:r=null,depth:n=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:_=!1}=e;this.isWebGLRenderer=!0;let x;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=r.getContextAttributes().alpha}else x=s;const b=new Uint32Array(4),M=new Int32Array(4);let T=null,A=null;const R=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ec,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let I=!1;this._outputColorSpace=ni;let L=0,P=0,F=null,O=-1,U=null;const G=new Wn,X=new Wn;let te=null;const ce=new xt(0);let le=0,V=t.width,q=t.height,ee=1,ve=null,J=null;const Z=new Wn(0,0,V,q),he=new Wn(0,0,V,q);let Be=!1;const we=new _v;let Xe=!1,_e=!1;const Ce=new Qt,Ze=new W,et=new Wn,mt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Mt=!1;function kt(){return F===null?ee:1}let Q=r;function Ie(j,pe){return t.getContext(j,pe)}try{const j={alpha:!0,depth:n,stencil:a,antialias:l,premultipliedAlpha:f,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Op}`),t.addEventListener("webglcontextlost",nt,!1),t.addEventListener("webglcontextrestored",ht,!1),t.addEventListener("webglcontextcreationerror",qe,!1),Q===null){const pe="webgl2";if(Q=Ie(pe,j),Q===null)throw Ie(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let Le,Fe,ae,lt,We,rt,K,de,k,H,ie,oe,ye,xe,at,Je,_t,ut,Ke,tt,St,se,Te,st;function re(){Le=new DK(Q),Le.init(),se=new hH(Q,Le),Fe=new AK(Q,Le,e,se),ae=new uee(Q,Le),Fe.reversedDepthBuffer&&_&&ae.buffers.depth.setReversed(!0),lt=new OK(Q),We=new WQ,rt=new fee(Q,Le,ae,We,Fe,se,lt),K=new MK(D),de=new RK(D),k=new FJ(Q),Te=new bK(Q,k),H=new BK(Q,k,lt,Te),ie=new IK(Q,H,k,lt),Ke=new NK(Q,Fe,rt),Je=new EK(We),oe=new qQ(D,K,de,Le,Fe,Te,Je),ye=new vee(D,We),xe=new QQ,at=new aee(Le),ut=new xK(D,K,de,ae,ie,x,f),_t=new lee(D,ie,Fe),st=new _ee(Q,lt,Fe,ae),tt=new SK(Q,Le,lt),St=new UK(Q,Le,lt),lt.programs=oe.programs,D.capabilities=Fe,D.extensions=Le,D.properties=We,D.renderLists=xe,D.shadowMap=_t,D.state=ae,D.info=lt}re();const je=new mee(D,Q);this.xr=je,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const j=Le.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=Le.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(j){j!==void 0&&(ee=j,this.setSize(V,q,!1))},this.getSize=function(j){return j.set(V,q)},this.setSize=function(j,pe,Ae=!0){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}V=j,q=pe,t.width=Math.floor(j*ee),t.height=Math.floor(pe*ee),Ae===!0&&(t.style.width=j+"px",t.style.height=pe+"px"),this.setViewport(0,0,j,pe)},this.getDrawingBufferSize=function(j){return j.set(V*ee,q*ee).floor()},this.setDrawingBufferSize=function(j,pe,Ae){V=j,q=pe,ee=Ae,t.width=Math.floor(j*Ae),t.height=Math.floor(pe*Ae),this.setViewport(0,0,j,pe)},this.getCurrentViewport=function(j){return j.copy(G)},this.getViewport=function(j){return j.copy(Z)},this.setViewport=function(j,pe,Ae,Ue){j.isVector4?Z.set(j.x,j.y,j.z,j.w):Z.set(j,pe,Ae,Ue),ae.viewport(G.copy(Z).multiplyScalar(ee).round())},this.getScissor=function(j){return j.copy(he)},this.setScissor=function(j,pe,Ae,Ue){j.isVector4?he.set(j.x,j.y,j.z,j.w):he.set(j,pe,Ae,Ue),ae.scissor(X.copy(he).multiplyScalar(ee).round())},this.getScissorTest=function(){return Be},this.setScissorTest=function(j){ae.setScissorTest(Be=j)},this.setOpaqueSort=function(j){ve=j},this.setTransparentSort=function(j){J=j},this.getClearColor=function(j){return j.copy(ut.getClearColor())},this.setClearColor=function(){ut.setClearColor(...arguments)},this.getClearAlpha=function(){return ut.getClearAlpha()},this.setClearAlpha=function(){ut.setClearAlpha(...arguments)},this.clear=function(j=!0,pe=!0,Ae=!0){let Ue=0;if(j){let ge=!1;if(F!==null){const ke=F.texture.format;ge=ke===TE||ke===ME||ke===ix}if(ge){const ke=F.texture.type,ft=ke===Fr||ke===Qc||ke===iv||ke===bp||ke===SE||ke===AE,wt=ut.getClearColor(),bt=ut.getClearAlpha(),Ut=wt.r,Ht=wt.g,Nt=wt.b;ft?(b[0]=Ut,b[1]=Ht,b[2]=Nt,b[3]=bt,Q.clearBufferuiv(Q.COLOR,0,b)):(M[0]=Ut,M[1]=Ht,M[2]=Nt,M[3]=bt,Q.clearBufferiv(Q.COLOR,0,M))}else Ue|=Q.COLOR_BUFFER_BIT}pe&&(Ue|=Q.DEPTH_BUFFER_BIT),Ae&&(Ue|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",nt,!1),t.removeEventListener("webglcontextrestored",ht,!1),t.removeEventListener("webglcontextcreationerror",qe,!1),ut.dispose(),xe.dispose(),at.dispose(),We.dispose(),K.dispose(),de.dispose(),ie.dispose(),Te.dispose(),st.dispose(),oe.dispose(),je.dispose(),je.removeEventListener("sessionstart",qt),je.removeEventListener("sessionend",yt),$t.stop()};function nt(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function ht(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const j=lt.autoReset,pe=_t.enabled,Ae=_t.autoUpdate,Ue=_t.needsUpdate,ge=_t.type;re(),lt.autoReset=j,_t.enabled=pe,_t.autoUpdate=Ae,_t.needsUpdate=Ue,_t.type=ge}function qe(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function Ge(j){const pe=j.target;pe.removeEventListener("dispose",Ge),vt(pe)}function vt(j){Dt(j),We.remove(j)}function Dt(j){const pe=We.get(j).programs;pe!==void 0&&(pe.forEach(function(Ae){oe.releaseProgram(Ae)}),j.isShaderMaterial&&oe.releaseShaderCache(j))}this.renderBufferDirect=function(j,pe,Ae,Ue,ge,ke){pe===null&&(pe=mt);const ft=ge.isMesh&&ge.matrixWorld.determinant()<0,wt=Mn(j,pe,Ae,Ue,ge);ae.setMaterial(Ue,ft);let bt=Ae.index,Ut=1;if(Ue.wireframe===!0){if(bt=H.getWireframeAttribute(Ae),bt===void 0)return;Ut=2}const Ht=Ae.drawRange,Nt=Ae.attributes.position;let ln=Ht.start*Ut,_n=(Ht.start+Ht.count)*Ut;ke!==null&&(ln=Math.max(ln,ke.start*Ut),_n=Math.min(_n,(ke.start+ke.count)*Ut)),bt!==null?(ln=Math.max(ln,0),_n=Math.min(_n,bt.count)):Nt!=null&&(ln=Math.max(ln,0),_n=Math.min(_n,Nt.count));const pi=_n-ln;if(pi<0||pi===1/0)return;Te.setup(ge,Ue,wt,Ae,bt);let ii,bn=tt;if(bt!==null&&(ii=k.get(bt),bn=St,bn.setIndex(ii)),ge.isMesh)Ue.wireframe===!0?(ae.setLineWidth(Ue.wireframeLinewidth*kt()),bn.setMode(Q.LINES)):bn.setMode(Q.TRIANGLES);else if(ge.isLine){let Bt=Ue.linewidth;Bt===void 0&&(Bt=1),ae.setLineWidth(Bt*kt()),ge.isLineSegments?bn.setMode(Q.LINES):ge.isLineLoop?bn.setMode(Q.LINE_LOOP):bn.setMode(Q.LINE_STRIP)}else ge.isPoints?bn.setMode(Q.POINTS):ge.isSprite&&bn.setMode(Q.TRIANGLES);if(ge.isBatchedMesh)if(ge._multiDrawInstances!==null)Ay("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),bn.renderMultiDrawInstances(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount,ge._multiDrawInstances);else if(Le.get("WEBGL_multi_draw"))bn.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else{const Bt=ge._multiDrawStarts,Si=ge._multiDrawCounts,zn=ge._multiDrawCount,wr=bt?k.get(bt).bytesPerElement:1,Po=We.get(Ue).currentProgram.getUniforms();for(let fr=0;fr<zn;fr++)Po.setValue(Q,"_gl_DrawID",fr),bn.render(Bt[fr]/wr,Si[fr])}else if(ge.isInstancedMesh)bn.renderInstances(ln,pi,ge.count);else if(Ae.isInstancedBufferGeometry){const Bt=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,Si=Math.min(Ae.instanceCount,Bt);bn.renderInstances(ln,pi,Si)}else bn.render(ln,pi)};function on(j,pe,Ae){j.transparent===!0&&j.side===Is&&j.forceSinglePass===!1?(j.side=ea,j.needsUpdate=!0,$n(j,pe,Ae),j.side=tc,j.needsUpdate=!0,$n(j,pe,Ae),j.side=Is):$n(j,pe,Ae)}this.compile=function(j,pe,Ae=null){Ae===null&&(Ae=j),A=at.get(Ae),A.init(pe),B.push(A),Ae.traverseVisible(function(ge){ge.isLight&&ge.layers.test(pe.layers)&&(A.pushLight(ge),ge.castShadow&&A.pushShadow(ge))}),j!==Ae&&j.traverseVisible(function(ge){ge.isLight&&ge.layers.test(pe.layers)&&(A.pushLight(ge),ge.castShadow&&A.pushShadow(ge))}),A.setupLights();const Ue=new Set;return j.traverse(function(ge){if(!(ge.isMesh||ge.isPoints||ge.isLine||ge.isSprite))return;const ke=ge.material;if(ke)if(Array.isArray(ke))for(let ft=0;ft<ke.length;ft++){const wt=ke[ft];on(wt,Ae,ge),Ue.add(wt)}else on(ke,Ae,ge),Ue.add(ke)}),A=B.pop(),Ue},this.compileAsync=function(j,pe,Ae=null){const Ue=this.compile(j,pe,Ae);return new Promise(ge=>{function ke(){if(Ue.forEach(function(ft){We.get(ft).currentProgram.isReady()&&Ue.delete(ft)}),Ue.size===0){ge(j);return}setTimeout(ke,10)}Le.get("KHR_parallel_shader_compile")!==null?ke():setTimeout(ke,10)})};let gt=null;function Ct(j){gt&&gt(j)}function qt(){$t.stop()}function yt(){$t.start()}const $t=new lH;$t.setAnimationLoop(Ct),typeof self<"u"&&$t.setContext(self),this.setAnimationLoop=function(j){gt=j,je.setAnimationLoop(j),j===null?$t.stop():$t.start()},je.addEventListener("sessionstart",qt),je.addEventListener("sessionend",yt),this.render=function(j,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(pe),pe=je.getCamera()),j.isScene===!0&&j.onBeforeRender(D,j,pe,F),A=at.get(j,B.length),A.init(pe),B.push(A),Ce.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),we.setFromProjectionMatrix(Ce,Co,pe.reversedDepth),_e=this.localClippingEnabled,Xe=Je.init(this.clippingPlanes,_e),T=xe.get(j,R.length),T.init(),R.push(T),je.enabled===!0&&je.isPresenting===!0){const ke=D.xr.getDepthSensingMesh();ke!==null&&Ft(ke,pe,-1/0,D.sortObjects)}Ft(j,pe,0,D.sortObjects),T.finish(),D.sortObjects===!0&&T.sort(ve,J),Mt=je.enabled===!1||je.isPresenting===!1||je.hasDepthSensing()===!1,Mt&&ut.addToRenderList(T,j),this.info.render.frame++,Xe===!0&&Je.beginShadows();const Ae=A.state.shadowsArray;_t.render(Ae,j,pe),Xe===!0&&Je.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ue=T.opaque,ge=T.transmissive;if(A.setupLights(),pe.isArrayCamera){const ke=pe.cameras;if(ge.length>0)for(let ft=0,wt=ke.length;ft<wt;ft++){const bt=ke[ft];bi(Ue,ge,j,bt)}Mt&&ut.render(j);for(let ft=0,wt=ke.length;ft<wt;ft++){const bt=ke[ft];jt(T,j,bt,bt.viewport)}}else ge.length>0&&bi(Ue,ge,j,pe),Mt&&ut.render(j),jt(T,j,pe);F!==null&&P===0&&(rt.updateMultisampleRenderTarget(F),rt.updateRenderTargetMipmap(F)),j.isScene===!0&&j.onAfterRender(D,j,pe),Te.resetDefaultState(),O=-1,U=null,B.pop(),B.length>0?(A=B[B.length-1],Xe===!0&&Je.setGlobalState(D.clippingPlanes,A.state.camera)):A=null,R.pop(),R.length>0?T=R[R.length-1]:T=null};function Ft(j,pe,Ae,Ue){if(j.visible===!1)return;if(j.layers.test(pe.layers)){if(j.isGroup)Ae=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(pe);else if(j.isLight)A.pushLight(j),j.castShadow&&A.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||we.intersectsSprite(j)){Ue&&et.setFromMatrixPosition(j.matrixWorld).applyMatrix4(Ce);const ft=ie.update(j),wt=j.material;wt.visible&&T.push(j,ft,wt,Ae,et.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||we.intersectsObject(j))){const ft=ie.update(j),wt=j.material;if(Ue&&(j.boundingSphere!==void 0?(j.boundingSphere===null&&j.computeBoundingSphere(),et.copy(j.boundingSphere.center)):(ft.boundingSphere===null&&ft.computeBoundingSphere(),et.copy(ft.boundingSphere.center)),et.applyMatrix4(j.matrixWorld).applyMatrix4(Ce)),Array.isArray(wt)){const bt=ft.groups;for(let Ut=0,Ht=bt.length;Ut<Ht;Ut++){const Nt=bt[Ut],ln=wt[Nt.materialIndex];ln&&ln.visible&&T.push(j,ft,ln,Ae,et.z,Nt)}}else wt.visible&&T.push(j,ft,wt,Ae,et.z,null)}}const ke=j.children;for(let ft=0,wt=ke.length;ft<wt;ft++)Ft(ke[ft],pe,Ae,Ue)}function jt(j,pe,Ae,Ue){const ge=j.opaque,ke=j.transmissive,ft=j.transparent;A.setupLightsView(Ae),Xe===!0&&Je.setGlobalState(D.clippingPlanes,Ae),Ue&&ae.viewport(G.copy(Ue)),ge.length>0&&Wt(ge,pe,Ae),ke.length>0&&Wt(ke,pe,Ae),ft.length>0&&Wt(ft,pe,Ae),ae.buffers.depth.setTest(!0),ae.buffers.depth.setMask(!0),ae.buffers.color.setMask(!0),ae.setPolygonOffset(!1)}function bi(j,pe,Ae,Ue){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;A.state.transmissionRenderTarget[Ue.id]===void 0&&(A.state.transmissionRenderTarget[Ue.id]=new yr(1,1,{generateMipmaps:!0,type:Le.has("EXT_color_buffer_half_float")||Le.has("EXT_color_buffer_float")?Np:Fr,minFilter:hl,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:qn.workingColorSpace}));const ke=A.state.transmissionRenderTarget[Ue.id],ft=Ue.viewport||G;ke.setSize(ft.z*D.transmissionResolutionScale,ft.w*D.transmissionResolutionScale);const wt=D.getRenderTarget(),bt=D.getActiveCubeFace(),Ut=D.getActiveMipmapLevel();D.setRenderTarget(ke),D.getClearColor(ce),le=D.getClearAlpha(),le<1&&D.setClearColor(16777215,.5),D.clear(),Mt&&ut.render(Ae);const Ht=D.toneMapping;D.toneMapping=ec;const Nt=Ue.viewport;if(Ue.viewport!==void 0&&(Ue.viewport=void 0),A.setupLightsView(Ue),Xe===!0&&Je.setGlobalState(D.clippingPlanes,Ue),Wt(j,Ae,Ue),rt.updateMultisampleRenderTarget(ke),rt.updateRenderTargetMipmap(ke),Le.has("WEBGL_multisampled_render_to_texture")===!1){let ln=!1;for(let _n=0,pi=pe.length;_n<pi;_n++){const ii=pe[_n],bn=ii.object,Bt=ii.geometry,Si=ii.material,zn=ii.group;if(Si.side===Is&&bn.layers.test(Ue.layers)){const wr=Si.side;Si.side=ea,Si.needsUpdate=!0,In(bn,Ae,Ue,Bt,Si,zn),Si.side=wr,Si.needsUpdate=!0,ln=!0}}ln===!0&&(rt.updateMultisampleRenderTarget(ke),rt.updateRenderTargetMipmap(ke))}D.setRenderTarget(wt,bt,Ut),D.setClearColor(ce,le),Nt!==void 0&&(Ue.viewport=Nt),D.toneMapping=Ht}function Wt(j,pe,Ae){const Ue=pe.isScene===!0?pe.overrideMaterial:null;for(let ge=0,ke=j.length;ge<ke;ge++){const ft=j[ge],wt=ft.object,bt=ft.geometry,Ut=ft.group;let Ht=ft.material;Ht.allowOverride===!0&&Ue!==null&&(Ht=Ue),wt.layers.test(Ae.layers)&&In(wt,pe,Ae,bt,Ht,Ut)}}function In(j,pe,Ae,Ue,ge,ke){j.onBeforeRender(D,pe,Ae,Ue,ge,ke),j.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),ge.onBeforeRender(D,pe,Ae,Ue,j,ke),ge.transparent===!0&&ge.side===Is&&ge.forceSinglePass===!1?(ge.side=ea,ge.needsUpdate=!0,D.renderBufferDirect(Ae,pe,Ue,ge,j,ke),ge.side=tc,ge.needsUpdate=!0,D.renderBufferDirect(Ae,pe,Ue,ge,j,ke),ge.side=Is):D.renderBufferDirect(Ae,pe,Ue,ge,j,ke),j.onAfterRender(D,pe,Ae,Ue,ge,ke)}function $n(j,pe,Ae){pe.isScene!==!0&&(pe=mt);const Ue=We.get(j),ge=A.state.lights,ke=A.state.shadowsArray,ft=ge.state.version,wt=oe.getParameters(j,ge.state,ke,pe,Ae),bt=oe.getProgramCacheKey(wt);let Ut=Ue.programs;Ue.environment=j.isMeshStandardMaterial?pe.environment:null,Ue.fog=pe.fog,Ue.envMap=(j.isMeshStandardMaterial?de:K).get(j.envMap||Ue.environment),Ue.envMapRotation=Ue.environment!==null&&j.envMap===null?pe.environmentRotation:j.envMapRotation,Ut===void 0&&(j.addEventListener("dispose",Ge),Ut=new Map,Ue.programs=Ut);let Ht=Ut.get(bt);if(Ht!==void 0){if(Ue.currentProgram===Ht&&Ue.lightsStateVersion===ft)return un(j,wt),Ht}else wt.uniforms=oe.getUniforms(j),j.onBeforeCompile(wt,D),Ht=oe.acquireProgram(wt,bt),Ut.set(bt,Ht),Ue.uniforms=wt.uniforms;const Nt=Ue.uniforms;return(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(Nt.clippingPlanes=Je.uniform),un(j,wt),Ue.needsLights=hi(j),Ue.lightsStateVersion=ft,Ue.needsLights&&(Nt.ambientLightColor.value=ge.state.ambient,Nt.lightProbe.value=ge.state.probe,Nt.directionalLights.value=ge.state.directional,Nt.directionalLightShadows.value=ge.state.directionalShadow,Nt.spotLights.value=ge.state.spot,Nt.spotLightShadows.value=ge.state.spotShadow,Nt.rectAreaLights.value=ge.state.rectArea,Nt.ltc_1.value=ge.state.rectAreaLTC1,Nt.ltc_2.value=ge.state.rectAreaLTC2,Nt.pointLights.value=ge.state.point,Nt.pointLightShadows.value=ge.state.pointShadow,Nt.hemisphereLights.value=ge.state.hemi,Nt.directionalShadowMap.value=ge.state.directionalShadowMap,Nt.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Nt.spotShadowMap.value=ge.state.spotShadowMap,Nt.spotLightMatrix.value=ge.state.spotLightMatrix,Nt.spotLightMap.value=ge.state.spotLightMap,Nt.pointShadowMap.value=ge.state.pointShadowMap,Nt.pointShadowMatrix.value=ge.state.pointShadowMatrix),Ue.currentProgram=Ht,Ue.uniformsList=null,Ht}function Ot(j){if(j.uniformsList===null){const pe=j.currentProgram.getUniforms();j.uniformsList=sS.seqWithValue(pe.seq,j.uniforms)}return j.uniformsList}function un(j,pe){const Ae=We.get(j);Ae.outputColorSpace=pe.outputColorSpace,Ae.batching=pe.batching,Ae.batchingColor=pe.batchingColor,Ae.instancing=pe.instancing,Ae.instancingColor=pe.instancingColor,Ae.instancingMorph=pe.instancingMorph,Ae.skinning=pe.skinning,Ae.morphTargets=pe.morphTargets,Ae.morphNormals=pe.morphNormals,Ae.morphColors=pe.morphColors,Ae.morphTargetsCount=pe.morphTargetsCount,Ae.numClippingPlanes=pe.numClippingPlanes,Ae.numIntersection=pe.numClipIntersection,Ae.vertexAlphas=pe.vertexAlphas,Ae.vertexTangents=pe.vertexTangents,Ae.toneMapping=pe.toneMapping}function Mn(j,pe,Ae,Ue,ge){pe.isScene!==!0&&(pe=mt),rt.resetTextureUnits();const ke=pe.fog,ft=Ue.isMeshStandardMaterial?pe.environment:null,wt=F===null?D.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:eu,bt=(Ue.isMeshStandardMaterial?de:K).get(Ue.envMap||ft),Ut=Ue.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,Ht=!!Ae.attributes.tangent&&(!!Ue.normalMap||Ue.anisotropy>0),Nt=!!Ae.morphAttributes.position,ln=!!Ae.morphAttributes.normal,_n=!!Ae.morphAttributes.color;let pi=ec;Ue.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(pi=D.toneMapping);const ii=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,bn=ii!==void 0?ii.length:0,Bt=We.get(Ue),Si=A.state.lights;if(Xe===!0&&(_e===!0||j!==U)){const dr=j===U&&Ue.id===O;Je.setState(Ue,j,dr)}let zn=!1;Ue.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==Si.state.version||Bt.outputColorSpace!==wt||ge.isBatchedMesh&&Bt.batching===!1||!ge.isBatchedMesh&&Bt.batching===!0||ge.isBatchedMesh&&Bt.batchingColor===!0&&ge.colorTexture===null||ge.isBatchedMesh&&Bt.batchingColor===!1&&ge.colorTexture!==null||ge.isInstancedMesh&&Bt.instancing===!1||!ge.isInstancedMesh&&Bt.instancing===!0||ge.isSkinnedMesh&&Bt.skinning===!1||!ge.isSkinnedMesh&&Bt.skinning===!0||ge.isInstancedMesh&&Bt.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&Bt.instancingColor===!1&&ge.instanceColor!==null||ge.isInstancedMesh&&Bt.instancingMorph===!0&&ge.morphTexture===null||ge.isInstancedMesh&&Bt.instancingMorph===!1&&ge.morphTexture!==null||Bt.envMap!==bt||Ue.fog===!0&&Bt.fog!==ke||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==Je.numPlanes||Bt.numIntersection!==Je.numIntersection)||Bt.vertexAlphas!==Ut||Bt.vertexTangents!==Ht||Bt.morphTargets!==Nt||Bt.morphNormals!==ln||Bt.morphColors!==_n||Bt.toneMapping!==pi||Bt.morphTargetsCount!==bn)&&(zn=!0):(zn=!0,Bt.__version=Ue.version);let wr=Bt.currentProgram;zn===!0&&(wr=$n(Ue,pe,ge));let Po=!1,fr=!1,sc=!1;const wn=wr.getUniforms(),Vr=Bt.uniforms;if(ae.useProgram(wr.program)&&(Po=!0,fr=!0,sc=!0),Ue.id!==O&&(O=Ue.id,fr=!0),Po||U!==j){ae.buffers.depth.getReversed()&&j.reversedDepth!==!0&&(j._reversedDepth=!0,j.updateProjectionMatrix()),wn.setValue(Q,"projectionMatrix",j.projectionMatrix),wn.setValue(Q,"viewMatrix",j.matrixWorldInverse);const Qi=wn.map.cameraPosition;Qi!==void 0&&Qi.setValue(Q,Ze.setFromMatrixPosition(j.matrixWorld)),Fe.logarithmicDepthBuffer&&wn.setValue(Q,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial)&&wn.setValue(Q,"isOrthographic",j.isOrthographicCamera===!0),U!==j&&(U=j,fr=!0,sc=!0)}if(ge.isSkinnedMesh){wn.setOptional(Q,ge,"bindMatrix"),wn.setOptional(Q,ge,"bindMatrixInverse");const dr=ge.skeleton;dr&&(dr.boneTexture===null&&dr.computeBoneTexture(),wn.setValue(Q,"boneTexture",dr.boneTexture,rt))}ge.isBatchedMesh&&(wn.setOptional(Q,ge,"batchingTexture"),wn.setValue(Q,"batchingTexture",ge._matricesTexture,rt),wn.setOptional(Q,ge,"batchingIdTexture"),wn.setValue(Q,"batchingIdTexture",ge._indirectTexture,rt),wn.setOptional(Q,ge,"batchingColorTexture"),ge._colorsTexture!==null&&wn.setValue(Q,"batchingColorTexture",ge._colorsTexture,rt));const ra=Ae.morphAttributes;if((ra.position!==void 0||ra.normal!==void 0||ra.color!==void 0)&&Ke.update(ge,Ae,wr),(fr||Bt.receiveShadow!==ge.receiveShadow)&&(Bt.receiveShadow=ge.receiveShadow,wn.setValue(Q,"receiveShadow",ge.receiveShadow)),Ue.isMeshGouraudMaterial&&Ue.envMap!==null&&(Vr.envMap.value=bt,Vr.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),Ue.isMeshStandardMaterial&&Ue.envMap===null&&pe.environment!==null&&(Vr.envMapIntensity.value=pe.environmentIntensity),fr&&(wn.setValue(Q,"toneMappingExposure",D.toneMappingExposure),Bt.needsLights&&Cr(Vr,sc),ke&&Ue.fog===!0&&ye.refreshFogUniforms(Vr,ke),ye.refreshMaterialUniforms(Vr,Ue,ee,q,A.state.transmissionRenderTarget[j.id]),sS.upload(Q,Ot(Bt),Vr,rt)),Ue.isShaderMaterial&&Ue.uniformsNeedUpdate===!0&&(sS.upload(Q,Ot(Bt),Vr,rt),Ue.uniformsNeedUpdate=!1),Ue.isSpriteMaterial&&wn.setValue(Q,"center",ge.center),wn.setValue(Q,"modelViewMatrix",ge.modelViewMatrix),wn.setValue(Q,"normalMatrix",ge.normalMatrix),wn.setValue(Q,"modelMatrix",ge.matrixWorld),Ue.isShaderMaterial||Ue.isRawShaderMaterial){const dr=Ue.uniformsGroups;for(let Qi=0,nu=dr.length;Qi<nu;Qi++){const xa=dr[Qi];st.update(xa,wr),st.bind(xa,wr)}}return wr}function Cr(j,pe){j.ambientLightColor.needsUpdate=pe,j.lightProbe.needsUpdate=pe,j.directionalLights.needsUpdate=pe,j.directionalLightShadows.needsUpdate=pe,j.pointLights.needsUpdate=pe,j.pointLightShadows.needsUpdate=pe,j.spotLights.needsUpdate=pe,j.spotLightShadows.needsUpdate=pe,j.rectAreaLights.needsUpdate=pe,j.hemisphereLights.needsUpdate=pe}function hi(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(j,pe,Ae){const Ue=We.get(j);Ue.__autoAllocateDepthBuffer=j.resolveDepthBuffer===!1,Ue.__autoAllocateDepthBuffer===!1&&(Ue.__useRenderToTexture=!1),We.get(j.texture).__webglTexture=pe,We.get(j.depthTexture).__webglTexture=Ue.__autoAllocateDepthBuffer?void 0:Ae,Ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(j,pe){const Ae=We.get(j);Ae.__webglFramebuffer=pe,Ae.__useDefaultFramebuffer=pe===void 0};const kr=Q.createFramebuffer();this.setRenderTarget=function(j,pe=0,Ae=0){F=j,L=pe,P=Ae;let Ue=!0,ge=null,ke=!1,ft=!1;if(j){const bt=We.get(j);if(bt.__useDefaultFramebuffer!==void 0)ae.bindFramebuffer(Q.FRAMEBUFFER,null),Ue=!1;else if(bt.__webglFramebuffer===void 0)rt.setupRenderTarget(j);else if(bt.__hasExternalTextures)rt.rebindTextures(j,We.get(j.texture).__webglTexture,We.get(j.depthTexture).__webglTexture);else if(j.depthBuffer){const Nt=j.depthTexture;if(bt.__boundDepthTexture!==Nt){if(Nt!==null&&We.has(Nt)&&(j.width!==Nt.image.width||j.height!==Nt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");rt.setupDepthRenderbuffer(j)}}const Ut=j.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(ft=!0);const Ht=We.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Array.isArray(Ht[pe])?ge=Ht[pe][Ae]:ge=Ht[pe],ke=!0):j.samples>0&&rt.useMultisampledRTT(j)===!1?ge=We.get(j).__webglMultisampledFramebuffer:Array.isArray(Ht)?ge=Ht[Ae]:ge=Ht,G.copy(j.viewport),X.copy(j.scissor),te=j.scissorTest}else G.copy(Z).multiplyScalar(ee).floor(),X.copy(he).multiplyScalar(ee).floor(),te=Be;if(Ae!==0&&(ge=kr),ae.bindFramebuffer(Q.FRAMEBUFFER,ge)&&Ue&&ae.drawBuffers(j,ge),ae.viewport(G),ae.scissor(X),ae.setScissorTest(te),ke){const bt=We.get(j.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+pe,bt.__webglTexture,Ae)}else if(ft){const bt=pe;for(let Ut=0;Ut<j.textures.length;Ut++){const Ht=We.get(j.textures[Ut]);Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0+Ut,Ht.__webglTexture,Ae,bt)}}else if(j!==null&&Ae!==0){const bt=We.get(j.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,bt.__webglTexture,Ae)}O=-1},this.readRenderTargetPixels=function(j,pe,Ae,Ue,ge,ke,ft,wt=0){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let bt=We.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&ft!==void 0&&(bt=bt[ft]),bt){ae.bindFramebuffer(Q.FRAMEBUFFER,bt);try{const Ut=j.textures[wt],Ht=Ut.format,Nt=Ut.type;if(!Fe.textureFormatReadable(Ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Fe.textureTypeReadable(Nt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=j.width-Ue&&Ae>=0&&Ae<=j.height-ge&&(j.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+wt),Q.readPixels(pe,Ae,Ue,ge,se.convert(Ht),se.convert(Nt),ke))}finally{const Ut=F!==null?We.get(F).__webglFramebuffer:null;ae.bindFramebuffer(Q.FRAMEBUFFER,Ut)}}},this.readRenderTargetPixelsAsync=async function(j,pe,Ae,Ue,ge,ke,ft,wt=0){if(!(j&&j.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let bt=We.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&ft!==void 0&&(bt=bt[ft]),bt)if(pe>=0&&pe<=j.width-Ue&&Ae>=0&&Ae<=j.height-ge){ae.bindFramebuffer(Q.FRAMEBUFFER,bt);const Ut=j.textures[wt],Ht=Ut.format,Nt=Ut.type;if(!Fe.textureFormatReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Fe.textureTypeReadable(Nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ln=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,ln),Q.bufferData(Q.PIXEL_PACK_BUFFER,ke.byteLength,Q.STREAM_READ),j.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+wt),Q.readPixels(pe,Ae,Ue,ge,se.convert(Ht),se.convert(Nt),0);const _n=F!==null?We.get(F).__webglFramebuffer:null;ae.bindFramebuffer(Q.FRAMEBUFFER,_n);const pi=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await aZ(Q,pi,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,ln),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,ke),Q.deleteBuffer(ln),Q.deleteSync(pi),ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(j,pe=null,Ae=0){const Ue=Math.pow(2,-Ae),ge=Math.floor(j.image.width*Ue),ke=Math.floor(j.image.height*Ue),ft=pe!==null?pe.x:0,wt=pe!==null?pe.y:0;rt.setTexture2D(j,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,Ae,0,0,ft,wt,ge,ke),ae.unbindTexture()};const Gr=Q.createFramebuffer(),_i=Q.createFramebuffer();this.copyTextureToTexture=function(j,pe,Ae=null,Ue=null,ge=0,ke=null){ke===null&&(ge!==0?(Ay("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ke=ge,ge=0):ke=0);let ft,wt,bt,Ut,Ht,Nt,ln,_n,pi;const ii=j.isCompressedTexture?j.mipmaps[ke]:j.image;if(Ae!==null)ft=Ae.max.x-Ae.min.x,wt=Ae.max.y-Ae.min.y,bt=Ae.isBox3?Ae.max.z-Ae.min.z:1,Ut=Ae.min.x,Ht=Ae.min.y,Nt=Ae.isBox3?Ae.min.z:0;else{const ra=Math.pow(2,-ge);ft=Math.floor(ii.width*ra),wt=Math.floor(ii.height*ra),j.isDataArrayTexture?bt=ii.depth:j.isData3DTexture?bt=Math.floor(ii.depth*ra):bt=1,Ut=0,Ht=0,Nt=0}Ue!==null?(ln=Ue.x,_n=Ue.y,pi=Ue.z):(ln=0,_n=0,pi=0);const bn=se.convert(pe.format),Bt=se.convert(pe.type);let Si;pe.isData3DTexture?(rt.setTexture3D(pe,0),Si=Q.TEXTURE_3D):pe.isDataArrayTexture||pe.isCompressedArrayTexture?(rt.setTexture2DArray(pe,0),Si=Q.TEXTURE_2D_ARRAY):(rt.setTexture2D(pe,0),Si=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,pe.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,pe.unpackAlignment);const zn=Q.getParameter(Q.UNPACK_ROW_LENGTH),wr=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Po=Q.getParameter(Q.UNPACK_SKIP_PIXELS),fr=Q.getParameter(Q.UNPACK_SKIP_ROWS),sc=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,ii.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,ii.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Ut),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,Ht),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Nt);const wn=j.isDataArrayTexture||j.isData3DTexture,Vr=pe.isDataArrayTexture||pe.isData3DTexture;if(j.isDepthTexture){const ra=We.get(j),dr=We.get(pe),Qi=We.get(ra.__renderTarget),nu=We.get(dr.__renderTarget);ae.bindFramebuffer(Q.READ_FRAMEBUFFER,Qi.__webglFramebuffer),ae.bindFramebuffer(Q.DRAW_FRAMEBUFFER,nu.__webglFramebuffer);for(let xa=0;xa<bt;xa++)wn&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,We.get(j).__webglTexture,ge,Nt+xa),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,We.get(pe).__webglTexture,ke,pi+xa)),Q.blitFramebuffer(Ut,Ht,ft,wt,ln,_n,ft,wt,Q.DEPTH_BUFFER_BIT,Q.NEAREST);ae.bindFramebuffer(Q.READ_FRAMEBUFFER,null),ae.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(ge!==0||j.isRenderTargetTexture||We.has(j)){const ra=We.get(j),dr=We.get(pe);ae.bindFramebuffer(Q.READ_FRAMEBUFFER,Gr),ae.bindFramebuffer(Q.DRAW_FRAMEBUFFER,_i);for(let Qi=0;Qi<bt;Qi++)wn?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,ra.__webglTexture,ge,Nt+Qi):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,ra.__webglTexture,ge),Vr?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,dr.__webglTexture,ke,pi+Qi):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,dr.__webglTexture,ke),ge!==0?Q.blitFramebuffer(Ut,Ht,ft,wt,ln,_n,ft,wt,Q.COLOR_BUFFER_BIT,Q.NEAREST):Vr?Q.copyTexSubImage3D(Si,ke,ln,_n,pi+Qi,Ut,Ht,ft,wt):Q.copyTexSubImage2D(Si,ke,ln,_n,Ut,Ht,ft,wt);ae.bindFramebuffer(Q.READ_FRAMEBUFFER,null),ae.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else Vr?j.isDataTexture||j.isData3DTexture?Q.texSubImage3D(Si,ke,ln,_n,pi,ft,wt,bt,bn,Bt,ii.data):pe.isCompressedArrayTexture?Q.compressedTexSubImage3D(Si,ke,ln,_n,pi,ft,wt,bt,bn,ii.data):Q.texSubImage3D(Si,ke,ln,_n,pi,ft,wt,bt,bn,Bt,ii):j.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,ke,ln,_n,ft,wt,bn,Bt,ii.data):j.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,ke,ln,_n,ii.width,ii.height,bn,ii.data):Q.texSubImage2D(Q.TEXTURE_2D,ke,ln,_n,ft,wt,bn,Bt,ii);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,zn),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,wr),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Po),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,fr),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,sc),ke===0&&pe.generateMipmaps&&Q.generateMipmap(Si),ae.unbindTexture()},this.initRenderTarget=function(j){We.get(j).__webglFramebuffer===void 0&&rt.setupRenderTarget(j)},this.initTexture=function(j){j.isCubeTexture?rt.setTextureCube(j,0):j.isData3DTexture?rt.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?rt.setTexture2DArray(j,0):rt.setTexture2D(j,0),ae.unbindTexture()},this.resetState=function(){L=0,P=0,F=null,ae.reset(),Te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Co}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=qn._getDrawingBufferColorSpace(e),t.unpackColorSpace=qn._getUnpackColorSpace()}}const yee=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:nD,AddEquation:ed,AddOperation:Z5,AdditiveAnimationBlendMode:uD,AdditiveBlending:aC,AgXToneMapping:K5,AlphaFormat:oD,AlwaysCompare:d8,AlwaysDepth:Qg,AlwaysStencilFunc:cC,AmbientLight:q8,AnimationAction:aH,AnimationClip:dv,AnimationLoader:UY,AnimationMixer:aJ,AnimationObjectGroup:iJ,AnimationUtils:wY,ArcCurve:C8,ArrayCamera:nH,ArrowHelper:DJ,AttachedBindMode:lC,Audio:iH,AudioAnalyser:ZY,AudioContext:kD,AudioListener:jY,AudioLoader:kY,AxesHelper:BJ,BackSide:ea,BasicDepthPacking:nc,BasicShadowMap:C5,BatchedMesh:E8,Bone:NE,BooleanKeyframeTrack:Lp,Box2:pJ,Box3:Ba,Box3Helper:wJ,BoxGeometry:zp,BoxHelper:CJ,BufferAttribute:ei,BufferGeometry:dn,BufferGeometryLoader:eH,ByteType:iD,Cache:Yc,Camera:BE,CameraHelper:TJ,CanvasTexture:WZ,CapsuleGeometry:FE,CatmullRomCurve3:w8,CineonToneMapping:q5,CircleGeometry:HE,ClampToEdgeWrapping:To,Clock:GD,Color:xt,ColorKeyframeTrack:ND,ColorManagement:qn,CompressedArrayTexture:JZ,CompressedCubeTexture:qZ,CompressedTexture:LE,CompressedTextureLoader:OY,ConeGeometry:lx,ConstantAlphaFactor:j5,ConstantColorFactor:G5,Controls:OJ,CubeCamera:y8,CubeReflectionMapping:ef,CubeRefractionMapping:Ad,CubeTexture:rx,CubeTextureLoader:NY,CubeUVReflectionMapping:vv,CubicBezierCurve:MD,CubicBezierCurve3:R8,CubicInterpolant:$8,CullFaceBack:rC,CullFaceFront:T5,CullFaceFrontBack:lX,CullFaceNone:M5,Curve:ac,CurvePath:B8,CustomBlending:w5,CustomToneMapping:W5,CylinderGeometry:ox,Cylindrical:hJ,Data3DTexture:DE,DataArrayTexture:RE,DataTexture:qc,DataTextureLoader:IY,DataUtils:xZ,DecrementStencilOp:yX,DecrementWrapStencilOp:bX,DefaultLoadingManager:Y8,DepthFormat:rv,DepthStencilFormat:Sp,DepthTexture:PE,DetachedBindMode:e8,DirectionalLight:FD,DirectionalLightHelper:MJ,DiscreteInterpolant:X8,DodecahedronGeometry:kE,DoubleSide:Is,DstAlphaFactor:L5,DstColorFactor:F5,DynamicCopyUsage:zX,DynamicDrawUsage:DX,DynamicReadUsage:OX,EdgesGeometry:T8,EllipseCurve:GE,EqualCompare:l8,EqualDepth:xp,EqualStencilFunc:MX,EquirectangularReflectionMapping:vy,EquirectangularRefractionMapping:_y,Euler:Oo,EventDispatcher:Lo,ExternalTexture:AD,ExtrudeGeometry:VE,FileLoader:No,Float16BufferAttribute:CZ,Float32BufferAttribute:Pt,FloatType:Ls,Fog:OE,FogExp2:UE,FramebufferTexture:YZ,FrontSide:tc,Frustum:_v,FrustumArray:IE,GLBufferAttribute:uJ,GLSL1:PX,GLSL3:uC,GreaterCompare:c8,GreaterDepth:gy,GreaterEqualCompare:f8,GreaterEqualDepth:my,GreaterEqualStencilFunc:RX,GreaterStencilFunc:CX,GridHelper:AJ,Group:Zu,HalfFloatType:Np,HemisphereLight:J8,HemisphereLightHelper:SJ,IcosahedronGeometry:jE,ImageBitmapLoader:tH,ImageLoader:wy,ImageUtils:m8,IncrementStencilOp:_X,IncrementWrapStencilOp:xX,InstancedBufferAttribute:Ap,InstancedBufferGeometry:Q8,InstancedInterleavedBuffer:cJ,InstancedMesh:xD,Int16BufferAttribute:MZ,Int32BufferAttribute:TZ,Int8BufferAttribute:SZ,IntType:bE,InterleavedBuffer:ax,InterleavedBufferAttribute:Md,Interpolant:bv,InterpolateDiscrete:av,InterpolateLinear:sv,InterpolateSmooth:rS,InterpolationSamplingMode:kX,InterpolationSamplingType:HX,InvertStencilOp:SX,KeepStencilOp:$h,KeyframeTrack:yl,LOD:A8,LatheGeometry:$E,Layers:cv,LessCompare:o8,LessDepth:ev,LessEqualCompare:dD,LessEqualDepth:Sd,LessEqualStencilFunc:TX,LessStencilFunc:EX,Light:Dd,LightProbe:K8,Line:tf,Line3:vJ,LineBasicMaterial:ns,LineCurve:TD,LineCurve3:D8,LineDashedMaterial:G8,LineLoop:bD,LineSegments:rc,LinearFilter:ki,LinearInterpolant:OD,LinearMipMapLinearFilter:dX,LinearMipMapNearestFilter:fX,LinearMipmapLinearFilter:hl,LinearMipmapNearestFilter:Ig,LinearSRGBColorSpace:eu,LinearToneMapping:Y5,LinearTransfer:xy,Loader:is,LoaderUtils:hd,LoadingManager:ID,LoopOnce:t8,LoopPingPong:i8,LoopRepeat:n8,MOUSE:Vh,Material:Tr,MaterialLoader:QE,MathUtils:pD,Matrix2:$D,Matrix3:vn,Matrix4:Qt,MaxEquation:U5,Mesh:_r,MeshBasicMaterial:wo,MeshDepthMaterial:KE,MeshDistanceMaterial:BD,MeshLambertMaterial:H8,MeshMatcapMaterial:k8,MeshNormalMaterial:DD,MeshPhongMaterial:Kf,MeshPhysicalMaterial:_l,MeshStandardMaterial:xv,MeshToonMaterial:F8,MinEquation:B5,MirroredRepeatWrapping:nv,MixOperation:X5,MultiplyBlending:oC,MultiplyOperation:nx,NearestFilter:Wi,NearestMipMapLinearFilter:uX,NearestMipMapNearestFilter:cX,NearestMipmapLinearFilter:Kh,NearestMipmapNearestFilter:xE,NeutralToneMapping:Q5,NeverCompare:s8,NeverDepth:py,NeverStencilFunc:AX,NoBlending:es,NoColorSpace:Wl,NoToneMapping:ec,NormalAnimationBlendMode:CE,NormalBlending:dd,NotEqualCompare:u8,NotEqualDepth:tv,NotEqualStencilFunc:wX,NumberKeyframeTrack:Mp,Object3D:Qn,ObjectLoader:FY,ObjectSpaceNormalMap:a8,OctahedronGeometry:cx,OneFactor:N5,OneMinusConstantAlphaFactor:$5,OneMinusConstantColorFactor:V5,OneMinusDstAlphaFactor:P5,OneMinusDstColorFactor:H5,OneMinusSrcAlphaFactor:IS,OneMinusSrcColorFactor:z5,OrthographicCamera:Wc,PCFShadowMap:_E,PCFSoftShadowMap:V_,PMREMGenerator:_C,Path:pA,PerspectiveCamera:qi,Plane:Vu,PlaneGeometry:yv,PlaneHelper:RJ,PointLight:PD,PointLightHelper:xJ,Points:SD,PointsMaterial:zE,PolarGridHelper:EJ,PolyhedronGeometry:Rd,PositionalAudio:XY,PropertyBinding:ti,PropertyMixer:rH,QuadraticBezierCurve:CD,QuadraticBezierCurve3:wD,Quaternion:va,QuaternionKeyframeTrack:Tp,QuaternionLinearInterpolant:Z8,RED_GREEN_RGTC2_Format:lA,RED_RGTC1_Format:sA,REVISION:Op,RGBADepthPacking:wE,RGBAFormat:Ka,RGBAIntegerFormat:TE,RGBA_ASTC_10x10_Format:eA,RGBA_ASTC_10x5_Format:WS,RGBA_ASTC_10x6_Format:KS,RGBA_ASTC_10x8_Format:QS,RGBA_ASTC_12x10_Format:tA,RGBA_ASTC_12x12_Format:nA,RGBA_ASTC_4x4_Format:VS,RGBA_ASTC_5x4_Format:jS,RGBA_ASTC_5x5_Format:$S,RGBA_ASTC_6x5_Format:XS,RGBA_ASTC_6x6_Format:ZS,RGBA_ASTC_8x5_Format:YS,RGBA_ASTC_8x6_Format:JS,RGBA_ASTC_8x8_Format:qS,RGBA_BPTC_Format:iA,RGBA_ETC2_EAC_Format:GS,RGBA_PVRTC_2BPPV1_Format:FS,RGBA_PVRTC_4BPPV1_Format:PS,RGBA_S3TC_DXT1_Format:$_,RGBA_S3TC_DXT3_Format:X_,RGBA_S3TC_DXT5_Format:Z_,RGBDepthPacking:pX,RGBFormat:lD,RGBIntegerFormat:hX,RGB_BPTC_SIGNED_Format:rA,RGB_BPTC_UNSIGNED_Format:aA,RGB_ETC1_Format:HS,RGB_ETC2_Format:kS,RGB_PVRTC_2BPPV1_Format:LS,RGB_PVRTC_4BPPV1_Format:zS,RGB_S3TC_DXT1_Format:j_,RGDepthPacking:mX,RGFormat:cD,RGIntegerFormat:ME,RawShaderMaterial:P8,Ray:Ip,Raycaster:sH,RectAreaLight:HD,RedFormat:EE,RedIntegerFormat:ix,ReinhardToneMapping:J5,RenderTarget:mD,RenderTarget3D:sJ,RepeatWrapping:Ed,ReplaceStencilOp:vX,ReverseSubtractEquation:D5,RingGeometry:XE,SIGNED_RED_GREEN_RGTC2_Format:cA,SIGNED_RED_RGTC1_Format:oA,SRGBColorSpace:ni,SRGBTransfer:xi,Scene:Ey,ShaderChunk:En,ShaderLib:Yl,ShaderMaterial:Hr,ShadowMaterial:L8,Shape:hp,ShapeGeometry:ZE,ShapePath:UJ,ShapeUtils:Ql,ShortType:rD,Skeleton:sx,SkeletonHelper:yJ,SkinnedMesh:yD,Source:od,Sphere:_a,SphereGeometry:ux,Spherical:gC,SphericalHarmonics3:W8,SplineCurve:RD,SpotLight:LD,SpotLightHelper:_J,Sprite:S8,SpriteMaterial:_D,SrcAlphaFactor:NS,SrcAlphaSaturateFactor:k5,SrcColorFactor:I5,StaticCopyUsage:IX,StaticDrawUsage:by,StaticReadUsage:UX,StereoCamera:GY,StreamCopyUsage:LX,StreamDrawUsage:BX,StreamReadUsage:NX,StringKeyframeTrack:Pp,SubtractEquation:R5,SubtractiveBlending:sC,TOUCH:jh,TangentSpaceNormalMap:wd,TetrahedronGeometry:YE,Texture:wi,TextureLoader:fx,TextureUtils:PJ,Timer:fJ,TimestampQuery:FX,TorusGeometry:JE,TorusKnotGeometry:qE,Triangle:Ws,TriangleFanDrawMode:uA,TriangleStripDrawMode:fD,TrianglesDrawMode:r8,TubeGeometry:WE,UVMapping:yE,Uint16BufferAttribute:gD,Uint32BufferAttribute:vD,Uint8BufferAttribute:AZ,Uint8ClampedBufferAttribute:EZ,Uniform:Dn,UniformsGroup:lJ,UniformsLib:Et,UniformsUtils:_8,UnsignedByteType:Fr,UnsignedInt101111Type:sD,UnsignedInt248Type:bp,UnsignedInt5999Type:aD,UnsignedIntType:Qc,UnsignedShort4444Type:SE,UnsignedShort5551Type:AE,UnsignedShortType:iv,VSMShadowMap:Xl,Vector2:He,Vector3:W,Vector4:Wn,VectorKeyframeTrack:Cp,VideoFrameTexture:ZZ,VideoTexture:M8,WebGL3DRenderTarget:uZ,WebGLArrayRenderTarget:cZ,WebGLCoordinateSystem:Co,WebGLCubeRenderTarget:x8,WebGLRenderTarget:yr,WebGLRenderer:pH,WebGLUtils:hH,WebGPUCoordinateSystem:ov,WebXRController:aS,WireframeGeometry:z8,WrapAroundEnding:yy,ZeroCurvatureEnding:Qh,ZeroFactor:O5,ZeroSlopeEnding:ep,ZeroStencilOp:gX,createCanvasElement:p8},Symbol.toStringTag,{value:"Module"}));var qT={exports:{}},Fu={};var r4;function xee(){return r4||(r4=1,Fu.ConcurrentRoot=1,Fu.ContinuousEventPriority=8,Fu.DefaultEventPriority=32,Fu.DiscreteEventPriority=2,Fu.IdleEventPriority=268435456,Fu.LegacyRoot=0,Fu.NoEventPriority=0),Fu}var a4;function bee(){return a4||(a4=1,qT.exports=xee()),qT.exports}var oS=bee(),WT={exports:{}},KT={},QT={exports:{}},e2={};var s4;function See(){if(s4)return e2;s4=1;var i=Rp();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var t=typeof Object.is=="function"?Object.is:e,r=i.useState,n=i.useEffect,a=i.useLayoutEffect,s=i.useDebugValue;function l(g,_){var x=_(),b=r({inst:{value:x,getSnapshot:_}}),M=b[0].inst,T=b[1];return a(function(){M.value=x,M.getSnapshot=_,f(M)&&T({inst:M})},[g,x,_]),n(function(){return f(M)&&T({inst:M}),g(function(){f(M)&&T({inst:M})})},[g]),s(x),x}function f(g){var _=g.getSnapshot;g=g.value;try{var x=_();return!t(g,x)}catch{return!0}}function d(g,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return e2.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,e2}var o4;function Aee(){return o4||(o4=1,QT.exports=See()),QT.exports}var l4;function Eee(){if(l4)return KT;l4=1;var i=Rp(),e=Aee();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=i.useRef,s=i.useEffect,l=i.useMemo,f=i.useDebugValue;return KT.useSyncExternalStoreWithSelector=function(d,m,g,_,x){var b=a(null);if(b.current===null){var M={hasValue:!1,value:null};b.current=M}else M=b.current;b=l(function(){function A(L){if(!R){if(R=!0,B=L,L=_(L),x!==void 0&&M.hasValue){var P=M.value;if(x(P,L))return D=P}return D=L}if(P=D,r(B,L))return P;var F=_(L);return x!==void 0&&x(P,F)?(B=L,P):(B=L,D=F)}var R=!1,B,D,I=g===void 0?null:g;return[function(){return A(m())},I===null?void 0:function(){return A(I())}]},[m,g,_,x]);var T=n(d,b[0],b[1]);return s(function(){M.hasValue=!0,M.value=T},[T]),f(T),T},KT}var c4;function Mee(){return c4||(c4=1,WT.exports=Eee()),WT.exports}var Tee=Mee();const Cee=pv(Tee),u4=i=>{let e;const t=new Set,r=(d,m)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const _=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(x=>x(e,_))}},n=()=>e,l={setState:r,getState:n,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=i(r,n,l);return l},wee=(i=>i?u4(i):u4),{useSyncExternalStoreWithSelector:Ree}=Cee,Dee=i=>i;function Bee(i,e=Dee,t){const r=Ree(i.subscribe,i.getState,i.getInitialState,e,t);return ar.useDebugValue(r),r}const f4=(i,e)=>{const t=wee(i),r=(n,a=e)=>Bee(t,n,a);return Object.assign(r,t),r},Uee=((i,e)=>i?f4(i,e):f4),Oee=i=>typeof i=="object"&&typeof i.then=="function",np=[];function mH(i,e,t=(r,n)=>r===n){if(i===e)return!0;if(!i||!e)return!1;const r=i.length;if(e.length!==r)return!1;for(let n=0;n<r;n++)if(!t(i[n],e[n]))return!1;return!0}function gH(i,e=null,t=!1,r={}){e===null&&(e=[i]);for(const a of np)if(mH(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!t)throw a.promise}const n={keys:e,equal:r.equal,remove:()=>{const a=np.indexOf(n);a!==-1&&np.splice(a,1)},promise:(Oee(i)?i:i(...e)).then(a=>{n.response=a,r.lifespan&&r.lifespan>0&&(n.timeout=setTimeout(n.remove,r.lifespan))}).catch(a=>n.error=a)};if(np.push(n),!t)throw n.promise}const Nee=(i,e,t)=>gH(i,e,!1,t),Iee=(i,e,t)=>{gH(i,e,!0,t)},zee=i=>{if(i===void 0||i.length===0)np.splice(0,np.length);else{const e=np.find(t=>mH(i,t.keys,t.equal));e&&e.remove()}};var t2={exports:{}},n2={exports:{}},i2={exports:{}},r2={};var d4;function Lee(){return d4||(d4=1,(function(i){function e(V,q){var ee=V.length;V.push(q);e:for(;0<ee;){var ve=ee-1>>>1,J=V[ve];if(0<n(J,q))V[ve]=q,V[ee]=J,ee=ve;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],ee=V.pop();if(ee!==q){V[0]=ee;e:for(var ve=0,J=V.length,Z=J>>>1;ve<Z;){var he=2*(ve+1)-1,Be=V[he],we=he+1,Xe=V[we];if(0>n(Be,ee))we<J&&0>n(Xe,Be)?(V[ve]=Xe,V[we]=ee,ve=we):(V[ve]=Be,V[he]=ee,ve=he);else if(we<J&&0>n(Xe,ee))V[ve]=Xe,V[we]=ee,ve=we;else break e}}return q}function n(V,q){var ee=V.sortIndex-q.sortIndex;return ee!==0?ee:V.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();i.unstable_now=function(){return s.now()-l}}var f=[],d=[],m=1,g=null,_=3,x=!1,b=!1,M=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(V){for(var q=t(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=V)r(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function D(V){if(M=!1,B(V),!b)if(t(f)!==null)b=!0,ce();else{var q=t(d);q!==null&&le(D,q.startTime-V)}}var I=!1,L=-1,P=5,F=-1;function O(){return!(i.unstable_now()-F<P)}function U(){if(I){var V=i.unstable_now();F=V;var q=!0;try{e:{b=!1,M&&(M=!1,A(L),L=-1),x=!0;var ee=_;try{t:{for(B(V),g=t(f);g!==null&&!(g.expirationTime>V&&O());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,_=g.priorityLevel;var J=ve(g.expirationTime<=V);if(V=i.unstable_now(),typeof J=="function"){g.callback=J,B(V),q=!0;break t}g===t(f)&&r(f),B(V)}else r(f);g=t(f)}if(g!==null)q=!0;else{var Z=t(d);Z!==null&&le(D,Z.startTime-V),q=!1}}break e}finally{g=null,_=ee,x=!1}q=void 0}}finally{q?G():I=!1}}}var G;if(typeof R=="function")G=function(){R(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=U,G=function(){te.postMessage(null)}}else G=function(){T(U,0)};function ce(){I||(I=!0,G())}function le(V,q){L=T(function(){V(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){b||x||(b=!0,ce())},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return t(f)},i.unstable_next=function(V){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var ee=_;_=q;try{return V()}finally{_=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=_;_=V;try{return q()}finally{_=ee}},i.unstable_scheduleCallback=function(V,q,ee){var ve=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,V={id:m++,callback:q,priorityLevel:V,startTime:ee,expirationTime:J,sortIndex:-1},ee>ve?(V.sortIndex=ee,e(d,V),t(f)===null&&V===t(d)&&(M?(A(L),L=-1):M=!0,le(D,ee-ve))):(V.sortIndex=J,e(f,V),b||x||(b=!0,ce())),V},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(V){var q=_;return function(){var ee=_;_=q;try{return V.apply(this,arguments)}finally{_=ee}}}})(r2)),r2}var h4;function vH(){return h4||(h4=1,i2.exports=Lee()),i2.exports}var p4;function Pee(){return p4||(p4=1,(function(i){i.exports=function(e){function t(u,h,y,E){return new qv(u,h,y,E)}function r(){}function n(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return u===null||typeof u!="object"?null:(u=i0&&u[i0]||u["@@iterator"],typeof u=="function"?u:null)}function s(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===vu?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case yf:return"Fragment";case so:return"Portal";case n0:return"Profiler";case t0:return"StrictMode";case fm:return"Suspense";case Mc:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Xo:return(u.displayName||"Context")+".Provider";case Ec:return(u._context.displayName||"Context")+".Consumer";case xf:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Qd:return h=u.displayName||null,h!==null?h:s(u.type)||"Memo";case oo:h=u._payload,u=u._init;try{return s(u(h))}catch{}}return null}function l(u){if(dm===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);dm=h&&h[1]||"",r0=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dm+u+r0}function f(u,h){if(!u||Tc)return"";Tc=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(h){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(cn){var Rt=cn}Reflect.construct(u,[],At)}else{try{At.call()}catch(cn){Rt=cn}u.call(At.prototype)}}else{try{throw Error()}catch(cn){Rt=cn}(At=u())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(cn){if(cn&&Rt&&typeof cn.stack=="string")return[cn.stack,Rt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=E.DetermineComponentFrameRoot(),Y=N[0],ue=N[1];if(Y&&ue){var Ee=Y.split(`
`),$e=ue.split(`
`);for(w=E=0;E<Ee.length&&!Ee[E].includes("DetermineComponentFrameRoot");)E++;for(;w<$e.length&&!$e[w].includes("DetermineComponentFrameRoot");)w++;if(E===Ee.length||w===$e.length)for(E=Ee.length-1,w=$e.length-1;1<=E&&0<=w&&Ee[E]!==$e[w];)w--;for(;1<=E&&0<=w;E--,w--)if(Ee[E]!==$e[w]){if(E!==1||w!==1)do if(E--,w--,0>w||Ee[E]!==$e[w]){var pt=`
`+Ee[E].replace(" at new "," at ");return u.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",u.displayName)),pt}while(1<=E&&0<=w);break}}}finally{Tc=!1,Error.prepareStackTrace=y}return(y=u?u.displayName||u.name:"")?l(y):""}function d(u){switch(u.tag){case 26:case 27:case 5:return l(u.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return u=f(u.type,!1),u;case 11:return u=f(u.type.render,!1),u;case 1:return u=f(u.type,!0),u;default:return""}}function m(u){try{var h="";do h+=d(u),u=u.return;while(u);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function g(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function _(u){if(g(u)!==u)throw Error(n(188))}function x(u){var h=u.alternate;if(!h){if(h=g(u),h===null)throw Error(n(188));return h!==u?null:u}for(var y=u,E=h;;){var w=y.return;if(w===null)break;var N=w.alternate;if(N===null){if(E=w.return,E!==null){y=E;continue}break}if(w.child===N.child){for(N=w.child;N;){if(N===y)return _(w),u;if(N===E)return _(w),h;N=N.sibling}throw Error(n(188))}if(y.return!==E.return)y=w,E=N;else{for(var Y=!1,ue=w.child;ue;){if(ue===y){Y=!0,y=w,E=N;break}if(ue===E){Y=!0,E=w,y=N;break}ue=ue.sibling}if(!Y){for(ue=N.child;ue;){if(ue===y){Y=!0,y=N,E=w;break}if(ue===E){Y=!0,E=N,y=w;break}ue=ue.sibling}if(!Y)throw Error(n(189))}}if(y.alternate!==E)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?u:h}function b(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=b(u),h!==null)return h;u=u.sibling}return null}function M(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(h=M(u),h!==null))return h;u=u.sibling}return null}function T(u){return{current:u}}function A(u){0>Ol||(u.current=lh[Ol],lh[Ol]=null,Ol--)}function R(u,h){Ol++,lh[Ol]=u.current,u.current=h}function B(u){return u>>>=0,u===0?32:31-(ch(u)/s1|0)|0}function D(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function I(u,h){var y=u.pendingLanes;if(y===0)return 0;var E=0,w=u.suspendedLanes,N=u.pingedLanes,Y=u.warmLanes;u=u.finishedLanes!==0;var ue=y&134217727;return ue!==0?(y=ue&~w,y!==0?E=D(y):(N&=ue,N!==0?E=D(N):u||(Y=ue&~Y,Y!==0&&(E=D(Y))))):(ue=y&~w,ue!==0?E=D(ue):N!==0?E=D(N):u||(Y=y&~Y,Y!==0&&(E=D(Y)))),E===0?0:h!==0&&h!==E&&(h&w)===0&&(w=E&-E,Y=h&-h,w>=Y||w===32&&(Y&4194176)!==0)?h:E}function L(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function P(u,h){switch(u){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var u=Ef;return Ef<<=1,(Ef&4194176)===0&&(Ef=128),u}function O(){var u=uh;return uh<<=1,(uh&62914560)===0&&(uh=4194304),u}function U(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function G(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function X(u,h,y,E,w,N){var Y=u.pendingLanes;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=y,u.entangledLanes&=y,u.errorRecoveryDisabledLanes&=y,u.shellSuspendCounter=0;var ue=u.entanglements,Ee=u.expirationTimes,$e=u.hiddenUpdates;for(y=Y&~y;0<y;){var pt=31-za(y),At=1<<pt;ue[pt]=0,Ee[pt]=-1;var Rt=$e[pt];if(Rt!==null)for($e[pt]=null,pt=0;pt<Rt.length;pt++){var cn=Rt[pt];cn!==null&&(cn.lane&=-536870913)}y&=~At}E!==0&&te(u,E,0),N!==0&&w===0&&u.tag!==0&&(u.suspendedLanes|=N&~(Y&~h))}function te(u,h,y){u.pendingLanes|=h,u.suspendedLanes&=~h;var E=31-za(h);u.entangledLanes|=h,u.entanglements[E]=u.entanglements[E]|1073741824|y&4194218}function ce(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var E=31-za(y),w=1<<E;w&h|u[E]&h&&(u[E]|=h),y&=~w}}function le(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function V(u){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Tf,u,void 0,(u.current.flags&128)===128)}catch{}}function q(u){if(typeof u1=="function"&&I0(u),La&&typeof La.setStrictMode=="function")try{La.setStrictMode(Tf,u)}catch{}}function ee(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}function ve(u,h){if(typeof u=="object"&&u!==null){var y=Rm.get(u);return y!==void 0?y:(h={value:u,source:h,stack:m(h)},Rm.set(u,h),h)}return{value:u,source:h,stack:m(h)}}function J(u,h){Bi[ji++]=hh,Bi[ji++]=dh,dh=u,hh=h}function Z(u,h,y){ds[hs++]=Wo,ds[hs++]=Hs,ds[hs++]=lo,lo=u;var E=Wo;u=Hs;var w=32-za(E)-1;E&=~(1<<w),y+=1;var N=32-za(h)+w;if(30<N){var Y=w-w%5;N=(E&(1<<Y)-1).toString(32),E>>=Y,w-=Y,Wo=1<<32-za(h)+w|y<<w|E,Hs=N+u}else Wo=1<<N|y<<w|E,Hs=u}function he(u){u.return!==null&&(J(u,1),Z(u,1,0))}function Be(u){for(;u===dh;)dh=Bi[--ji],Bi[ji]=null,hh=Bi[--ji],Bi[ji]=null;for(;u===lo;)lo=ds[--hs],ds[hs]=null,Hs=ds[--hs],ds[hs]=null,Wo=ds[--hs],ds[hs]=null}function we(u,h){R(co,h),R(ph,u),R(Or,null),u=_u(h),A(Or),R(Or,u)}function Xe(){A(Or),A(ph),A(co)}function _e(u){u.memoizedState!==null&&R(Cf,u);var h=Or.current,y=Fx(h,u.type);h!==y&&(R(ph,u),R(Or,y))}function Ce(u){ph.current===u&&(A(Or),A(ph)),Cf.current===u&&(A(Cf),Yo?tn._currentValue=Ia:tn._currentValue2=Ia)}function Ze(u){var h=Error(n(418,""));throw Q(ve(h,u)),mh}function et(u,h){if(!Ea)throw Error(n(175));oM(u.stateNode,u.type,u.memoizedProps,h,u)||Ze(u)}function mt(u){for(ua=u.return;ua;)switch(ua.tag){case 3:case 27:ks=!0;return;case 5:case 13:ks=!1;return;default:ua=ua.return}}function Mt(u){if(!Ea||u!==ua)return!1;if(!Xn)return mt(u),Xn=!0,!1;var h=!1;if(Yr?u.tag!==3&&u.tag!==27&&(u.tag!==5||t1(u.type)&&!Rc(u.type,u.memoizedProps))&&(h=!0):u.tag!==3&&(u.tag!==5||t1(u.type)&&!Rc(u.type,u.memoizedProps))&&(h=!0),h&&qr&&Ze(u),mt(u),u.tag===13){if(!Ea)throw Error(n(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));qr=Qx(u)}else qr=ua?S0(u.stateNode):null;return!0}function kt(){Ea&&(qr=ua=null,Xn=!1)}function Q(u){ps===null?ps=[u]:ps.push(u)}function Ie(){for(var u=Bc,h=wf=Bc=0;h<u;){var y=ms[h];ms[h++]=null;var E=ms[h];ms[h++]=null;var w=ms[h];ms[h++]=null;var N=ms[h];if(ms[h++]=null,E!==null&&w!==null){var Y=E.pending;Y===null?w.next=w:(w.next=Y.next,Y.next=w),E.pending=w}N!==0&&lt(y,w,N)}}function Le(u,h,y,E){ms[Bc++]=u,ms[Bc++]=h,ms[Bc++]=y,ms[Bc++]=E,wf|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function Fe(u,h,y,E){return Le(u,h,y,E),We(u)}function ae(u,h){return Le(u,null,null,h),We(u)}function lt(u,h,y){u.lanes|=y;var E=u.alternate;E!==null&&(E.lanes|=y);for(var w=!1,N=u.return;N!==null;)N.childLanes|=y,E=N.alternate,E!==null&&(E.childLanes|=y),N.tag===22&&(u=N.stateNode,u===null||u._visibility&1||(w=!0)),u=N,N=N.return;w&&h!==null&&u.tag===3&&(N=u.stateNode,w=31-za(y),N=N.hiddenUpdates,u=N[w],u===null?N[w]=[h]:u.push(h),h.lane=y|536870912)}function We(u){if(50<Ru)throw Ru=0,Ca=null,Error(n(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}function rt(u){u!==Su&&u.next===null&&(Su===null?Rf=Su=u:Su=Su.next=u),vh=!0,gh||(gh=!0,oe(de))}function K(u,h){if(!uo&&vh){uo=!0;do for(var y=!1,E=Rf;E!==null;){if(u!==0){var w=E.pendingLanes;if(w===0)var N=0;else{var Y=E.suspendedLanes,ue=E.pingedLanes;N=(1<<31-za(42|u)+1)-1,N&=w&~(Y&~ue),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(y=!0,ie(E,N))}else N=Sn,N=I(E,E===Tn?N:0),(N&3)===0||L(E,N)||(y=!0,ie(E,N));E=E.next}while(y);uo=!1}}function de(){vh=gh=!1;var u=0;Uc!==0&&(Dc()&&(u=Uc),Uc=0);for(var h=Jr(),y=null,E=Rf;E!==null;){var w=E.next,N=k(E,h);N===0?(E.next=null,y===null?Rf=w:y.next=w,w===null&&(Su=y)):(y=E,(u!==0||(N&3)!==0)&&(vh=!0)),E=w}K(u)}function k(u,h){for(var y=u.suspendedLanes,E=u.pingedLanes,w=u.expirationTimes,N=u.pendingLanes&-62914561;0<N;){var Y=31-za(N),ue=1<<Y,Ee=w[Y];Ee===-1?((ue&y)===0||(ue&E)!==0)&&(w[Y]=P(ue,h)):Ee<=h&&(u.expiredLanes|=ue),N&=~ue}if(h=Tn,y=Sn,y=I(u,u===h?y:0),E=u.callbackNode,y===0||u===h&&gi===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&fh(E),u.callbackNode=null,u.callbackPriority=0;if((y&3)===0||L(u,y)){if(h=y&-y,h===u.callbackPriority)return h;switch(E!==null&&fh(E),le(y)){case 2:case 8:y=c1;break;case 32:y=Cm;break;case 268435456:y=wm;break;default:y=Cm}return E=H.bind(null,u),y=Mf(y,E),u.callbackPriority=h,u.callbackNode=y,h}return E!==null&&E!==null&&fh(E),u.callbackPriority=2,u.callbackNode=null,2}function H(u,h){var y=u.callbackNode;if(Br()&&u.callbackNode!==y)return null;var E=Sn;return E=I(u,u===Tn?E:0),E===0?null:(Yd(u,E,h),k(u,Jr()),u.callbackNode!=null&&u.callbackNode===y?H.bind(null,u):null)}function ie(u,h){if(Br())return null;Yd(u,h,!0)}function oe(u){hr?gm(function(){(Zt&6)!==0?Mf(N0,u):u()}):Mf(N0,u)}function ye(){return Uc===0&&(Uc=F()),Uc}function xe(u,h){if(_h===null){var y=_h=[];Dm=0,Pa=ye(),Oc={status:"pending",value:void 0,then:function(E){y.push(E)}}}return Dm++,h.then(at,at),h}function at(){if(--Dm===0&&_h!==null){Oc!==null&&(Oc.status="fulfilled");var u=_h;_h=null,Pa=0,Oc=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function Je(u,h){var y=[],E={status:"pending",value:null,reason:null,then:function(w){y.push(w)}};return u.then(function(){E.status="fulfilled",E.value=h;for(var w=0;w<y.length;w++)(0,y[w])(h)},function(w){for(E.status="rejected",E.reason=w,w=0;w<y.length;w++)(0,y[w])(void 0)}),E}function _t(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ut(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Ke(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function tt(u,h,y){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,(Zt&2)!==0){var w=E.pending;return w===null?h.next=h:(h.next=w.next,w.next=h),E.pending=h,h=We(u),lt(u,null,y),h}return Le(u,E,h,y),We(u)}function St(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194176)!==0)){var E=h.lanes;E&=u.pendingLanes,y|=E,h.lanes=y,ce(u,y)}}function se(u,h){var y=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var w=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var Y={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};N===null?w=N=Y:N=N.next=Y,y=y.next}while(y!==null);N===null?w=N=h:N=N.next=h}else w=N=h;y={baseState:E.baseState,firstBaseUpdate:w,lastBaseUpdate:N,shared:E.shared,callbacks:E.callbacks},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function Te(){if(Df){var u=Oc;if(u!==null)throw u}}function st(u,h,y,E){Df=!1;var w=u.updateQueue;Nl=!1;var N=w.firstBaseUpdate,Y=w.lastBaseUpdate,ue=w.shared.pending;if(ue!==null){w.shared.pending=null;var Ee=ue,$e=Ee.next;Ee.next=null,Y===null?N=$e:Y.next=$e,Y=Ee;var pt=u.alternate;pt!==null&&(pt=pt.updateQueue,ue=pt.lastBaseUpdate,ue!==Y&&(ue===null?pt.firstBaseUpdate=$e:ue.next=$e,pt.lastBaseUpdate=Ee))}if(N!==null){var At=w.baseState;Y=0,pt=$e=Ee=null,ue=N;do{var Rt=ue.lane&-536870913,cn=Rt!==ue.lane;if(cn?(Sn&Rt)===Rt:(E&Rt)===Rt){Rt!==0&&Rt===Pa&&(Df=!0),pt!==null&&(pt=pt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Ga=u,Sh=ue;Rt=h;var Du=y;switch(Sh.tag){case 1:if(Ga=Sh.payload,typeof Ga=="function"){At=Ga.call(Du,At,Rt);break e}At=Ga;break e;case 3:Ga.flags=Ga.flags&-65537|128;case 0:if(Ga=Sh.payload,Rt=typeof Ga=="function"?Ga.call(Du,At,Rt):Ga,Rt==null)break e;At=gu({},At,Rt);break e;case 2:Nl=!0}}Rt=ue.callback,Rt!==null&&(u.flags|=64,cn&&(u.flags|=8192),cn=w.callbacks,cn===null?w.callbacks=[Rt]:cn.push(Rt))}else cn={lane:Rt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},pt===null?($e=pt=cn,Ee=At):pt=pt.next=cn,Y|=Rt;if(ue=ue.next,ue===null){if(ue=w.shared.pending,ue===null)break;cn=ue,ue=cn.next,cn.next=null,w.lastBaseUpdate=cn,w.shared.pending=null}}while(!0);pt===null&&(Ee=At),w.baseState=Ee,w.firstBaseUpdate=$e,w.lastBaseUpdate=pt,N===null&&(w.shared.lanes=0),ys|=Y,u.lanes=Y,u.memoizedState=At}}function re(u,h){if(typeof u!="function")throw Error(n(191,u));u.call(h)}function je(u,h){var y=u.callbacks;if(y!==null)for(u.callbacks=null,u=0;u<y.length;u++)re(y[u],h)}function nt(u,h){if(fs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),E=Object.keys(h);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var w=y[E];if(!yh.call(h,w)||!fs(u[w],h[w]))return!1}return!0}function ht(u){return u=u.status,u==="fulfilled"||u==="rejected"}function qe(){}function Ge(u,h,y){switch(y=u[y],y===void 0?u.push(h):y!==h&&(h.then(qe,qe),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===fi?Error(n(483)):u;default:if(typeof h.status=="string")h.then(qe,qe);else{if(u=Tn,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=h,u.status="pending",u.then(function(E){if(h.status==="pending"){var w=h;w.status="fulfilled",w.value=E}},function(E){if(h.status==="pending"){var w=h;w.status="rejected",w.reason=E}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===fi?Error(n(483)):u}throw Au=h,fi}}function vt(){if(Au===null)throw Error(n(459));var u=Au;return Au=null,u}function Dt(u){var h=Gs;return Gs+=1,Ko===null&&(Ko=[]),Ge(Ko,u,h)}function on(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function gt(u,h){throw h.$$typeof===e0?Error(n(525)):(u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function Ct(u){var h=u._init;return h(u._payload)}function qt(u){function h(Oe,be){if(u){var ze=Oe.deletions;ze===null?(Oe.deletions=[be],Oe.flags|=16):ze.push(be)}}function y(Oe,be){if(!u)return null;for(;be!==null;)h(Oe,be),be=be.sibling;return null}function E(Oe){for(var be=new Map;Oe!==null;)Oe.key!==null?be.set(Oe.key,Oe):be.set(Oe.index,Oe),Oe=Oe.sibling;return be}function w(Oe,be){return Oe=la(Oe,be),Oe.index=0,Oe.sibling=null,Oe}function N(Oe,be,ze){return Oe.index=ze,u?(ze=Oe.alternate,ze!==null?(ze=ze.index,ze<be?(Oe.flags|=33554434,be):ze):(Oe.flags|=33554434,be)):(Oe.flags|=1048576,be)}function Y(Oe){return u&&Oe.alternate===null&&(Oe.flags|=33554434),Oe}function ue(Oe,be,ze,ct){return be===null||be.tag!==6?(be=Ac(ze,Oe.mode,ct),be.return=Oe,be):(be=w(be,ze),be.return=Oe,be)}function Ee(Oe,be,ze,ct){var Vt=ze.type;return Vt===yf?pt(Oe,be,ze.props.children,ct,ze.key):be!==null&&(be.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===oo&&Ct(Vt)===be.type)?(be=w(be,ze.props),on(be,ze),be.return=Oe,be):(be=Ps(ze.type,ze.key,ze.props,null,Oe.mode,ct),on(be,ze),be.return=Oe,be)}function $e(Oe,be,ze,ct){return be===null||be.tag!==4||be.stateNode.containerInfo!==ze.containerInfo||be.stateNode.implementation!==ze.implementation?(be=_f(ze,Oe.mode,ct),be.return=Oe,be):(be=w(be,ze.children||[]),be.return=Oe,be)}function pt(Oe,be,ze,ct,Vt){return be===null||be.tag!==7?(be=wl(ze,Oe.mode,ct,Vt),be.return=Oe,be):(be=w(be,ze),be.return=Oe,be)}function At(Oe,be,ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Ac(""+be,Oe.mode,ze),be.return=Oe,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case Rl:return ze=Ps(be.type,be.key,be.props,null,Oe.mode,ze),on(ze,be),ze.return=Oe,ze;case so:return be=_f(be,Oe.mode,ze),be.return=Oe,be;case oo:var ct=be._init;return be=ct(be._payload),At(Oe,be,ze)}if(Cc(be)||a(be))return be=wl(be,Oe.mode,ze,null),be.return=Oe,be;if(typeof be.then=="function")return At(Oe,Dt(be),ze);if(be.$$typeof===Xo)return At(Oe,Vd(Oe,be),ze);gt(Oe,be)}return null}function Rt(Oe,be,ze,ct){var Vt=be!==null?be.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Vt!==null?null:ue(Oe,be,""+ze,ct);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case Rl:return ze.key===Vt?Ee(Oe,be,ze,ct):null;case so:return ze.key===Vt?$e(Oe,be,ze,ct):null;case oo:return Vt=ze._init,ze=Vt(ze._payload),Rt(Oe,be,ze,ct)}if(Cc(ze)||a(ze))return Vt!==null?null:pt(Oe,be,ze,ct,null);if(typeof ze.then=="function")return Rt(Oe,be,Dt(ze),ct);if(ze.$$typeof===Xo)return Rt(Oe,be,Vd(Oe,ze),ct);gt(Oe,ze)}return null}function cn(Oe,be,ze,ct,Vt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Oe=Oe.get(ze)||null,ue(be,Oe,""+ct,Vt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case Rl:return Oe=Oe.get(ct.key===null?ze:ct.key)||null,Ee(be,Oe,ct,Vt);case so:return Oe=Oe.get(ct.key===null?ze:ct.key)||null,$e(be,Oe,ct,Vt);case oo:var Ei=ct._init;return ct=Ei(ct._payload),cn(Oe,be,ze,ct,Vt)}if(Cc(ct)||a(ct))return Oe=Oe.get(ze)||null,pt(be,Oe,ct,Vt,null);if(typeof ct.then=="function")return cn(Oe,be,ze,Dt(ct),Vt);if(ct.$$typeof===Xo)return cn(Oe,be,ze,Vd(be,ct),Vt);gt(be,ct)}return null}function Ga(Oe,be,ze,ct){for(var Vt=null,Ei=null,nn=be,Yn=be=0,Sr=null;nn!==null&&Yn<ze.length;Yn++){nn.index>Yn?(Sr=nn,nn=null):Sr=nn.sibling;var Jn=Rt(Oe,nn,ze[Yn],ct);if(Jn===null){nn===null&&(nn=Sr);break}u&&nn&&Jn.alternate===null&&h(Oe,nn),be=N(Jn,be,Yn),Ei===null?Vt=Jn:Ei.sibling=Jn,Ei=Jn,nn=Sr}if(Yn===ze.length)return y(Oe,nn),Xn&&J(Oe,Yn),Vt;if(nn===null){for(;Yn<ze.length;Yn++)nn=At(Oe,ze[Yn],ct),nn!==null&&(be=N(nn,be,Yn),Ei===null?Vt=nn:Ei.sibling=nn,Ei=nn);return Xn&&J(Oe,Yn),Vt}for(nn=E(nn);Yn<ze.length;Yn++)Sr=cn(nn,Oe,Yn,ze[Yn],ct),Sr!==null&&(u&&Sr.alternate!==null&&nn.delete(Sr.key===null?Yn:Sr.key),be=N(Sr,be,Yn),Ei===null?Vt=Sr:Ei.sibling=Sr,Ei=Sr);return u&&nn.forEach(function(kl){return h(Oe,kl)}),Xn&&J(Oe,Yn),Vt}function Sh(Oe,be,ze,ct){if(ze==null)throw Error(n(151));for(var Vt=null,Ei=null,nn=be,Yn=be=0,Sr=null,Jn=ze.next();nn!==null&&!Jn.done;Yn++,Jn=ze.next()){nn.index>Yn?(Sr=nn,nn=null):Sr=nn.sibling;var kl=Rt(Oe,nn,Jn.value,ct);if(kl===null){nn===null&&(nn=Sr);break}u&&nn&&kl.alternate===null&&h(Oe,nn),be=N(kl,be,Yn),Ei===null?Vt=kl:Ei.sibling=kl,Ei=kl,nn=Sr}if(Jn.done)return y(Oe,nn),Xn&&J(Oe,Yn),Vt;if(nn===null){for(;!Jn.done;Yn++,Jn=ze.next())Jn=At(Oe,Jn.value,ct),Jn!==null&&(be=N(Jn,be,Yn),Ei===null?Vt=Jn:Ei.sibling=Jn,Ei=Jn);return Xn&&J(Oe,Yn),Vt}for(nn=E(nn);!Jn.done;Yn++,Jn=ze.next())Jn=cn(nn,Oe,Yn,Jn.value,ct),Jn!==null&&(u&&Jn.alternate!==null&&nn.delete(Jn.key===null?Yn:Jn.key),be=N(Jn,be,Yn),Ei===null?Vt=Jn:Ei.sibling=Jn,Ei=Jn);return u&&nn.forEach(function(Fm){return h(Oe,Fm)}),Xn&&J(Oe,Yn),Vt}function Du(Oe,be,ze,ct){if(typeof ze=="object"&&ze!==null&&ze.type===yf&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case Rl:e:{for(var Vt=ze.key;be!==null;){if(be.key===Vt){if(Vt=ze.type,Vt===yf){if(be.tag===7){y(Oe,be.sibling),ct=w(be,ze.props.children),ct.return=Oe,Oe=ct;break e}}else if(be.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===oo&&Ct(Vt)===be.type){y(Oe,be.sibling),ct=w(be,ze.props),on(ct,ze),ct.return=Oe,Oe=ct;break e}y(Oe,be);break}else h(Oe,be);be=be.sibling}ze.type===yf?(ct=wl(ze.props.children,Oe.mode,ct,ze.key),ct.return=Oe,Oe=ct):(ct=Ps(ze.type,ze.key,ze.props,null,Oe.mode,ct),on(ct,ze),ct.return=Oe,Oe=ct)}return Y(Oe);case so:e:{for(Vt=ze.key;be!==null;){if(be.key===Vt)if(be.tag===4&&be.stateNode.containerInfo===ze.containerInfo&&be.stateNode.implementation===ze.implementation){y(Oe,be.sibling),ct=w(be,ze.children||[]),ct.return=Oe,Oe=ct;break e}else{y(Oe,be);break}else h(Oe,be);be=be.sibling}ct=_f(ze,Oe.mode,ct),ct.return=Oe,Oe=ct}return Y(Oe);case oo:return Vt=ze._init,ze=Vt(ze._payload),Du(Oe,be,ze,ct)}if(Cc(ze))return Ga(Oe,be,ze,ct);if(a(ze)){if(Vt=a(ze),typeof Vt!="function")throw Error(n(150));return ze=Vt.call(ze),Sh(Oe,be,ze,ct)}if(typeof ze.then=="function")return Du(Oe,be,Dt(ze),ct);if(ze.$$typeof===Xo)return Du(Oe,be,Vd(Oe,ze),ct);gt(Oe,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,be!==null&&be.tag===6?(y(Oe,be.sibling),ct=w(be,ze),ct.return=Oe,Oe=ct):(y(Oe,be),ct=Ac(ze,Oe.mode,ct),ct.return=Oe,Oe=ct),Y(Oe)):y(Oe,be)}return function(Oe,be,ze,ct){try{Gs=0;var Vt=Du(Oe,be,ze,ct);return Ko=null,Vt}catch(nn){if(nn===fi)throw nn;var Ei=t(29,nn,null,Oe.mode);return Ei.lanes=ct,Ei.return=Oe,Ei}}}function yt(u,h){u=fo,R(gs,u),R(Qo,h),fo=u|h.baseLanes}function $t(){R(gs,fo),R(Qo,Qo.current)}function Ft(){fo=gs.current,A(Qo),A(gs)}function jt(u){var h=u.alternate;R(pr,pr.current&1),R(vs,u),Vs===null&&(h===null||Qo.current!==null||h.memoizedState!==null)&&(Vs=u)}function bi(u){if(u.tag===22){if(R(pr,pr.current),R(vs,u),Vs===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(Vs=u)}}else Wt()}function Wt(){R(pr,pr.current),R(vs,vs.current)}function In(u){A(vs),Vs===u&&(Vs=null),A(pr)}function $n(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||bm(y)||oh(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Ot(){throw Error(n(321))}function un(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!fs(u[y],h[y]))return!1;return!0}function Mn(u,h,y,E,w,N){return el=N,mn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Jt.H=u===null||u.memoizedState===null?mr:fa,Il=!1,N=y(E,w),Il=!1,Ui&&(N=hi(h,y,E,w)),Cr(u),N}function Cr(u){Jt.H=Zn;var h=ri!==null&&ri.next!==null;if(el=0,tr=ri=mn=null,js=!1,$i=0,Bf=null,h)throw Error(n(300));u===null||nr||(u=u.dependencies,u!==null&&dc(u)&&(nr=!0))}function hi(u,h,y,E){mn=u;var w=0;do{if(Ui&&(Bf=null),$i=0,Ui=!1,25<=w)throw Error(n(301));if(w+=1,tr=ri=null,u.updateQueue!=null){var N=u.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Jt.H=Ic,N=h(y,E)}while(Ui);return N}function kr(){var u=Jt.H,h=u.useState()[0];return h=typeof h.then=="function"?Ue(h):h,u=u.useState()[0],(ri!==null?ri.memoizedState:null)!==u&&(mn.flags|=1024),h}function Gr(){var u=xh!==0;return xh=0,u}function _i(u,h,y){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~y}function j(u){if(js){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}js=!1}el=0,tr=ri=mn=null,Ui=!1,$i=xh=0,Bf=null}function pe(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?mn.memoizedState=tr=u:tr=tr.next=u,tr}function Ae(){if(ri===null){var u=mn.alternate;u=u!==null?u.memoizedState:null}else u=ri.next;var h=tr===null?mn.memoizedState:tr.next;if(h!==null)tr=h,ri=u;else{if(u===null)throw mn.alternate===null?Error(n(467)):Error(n(310));ri=u,u={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},tr===null?mn.memoizedState=tr=u:tr=tr.next=u}return tr}function Ue(u){var h=$i;return $i+=1,Bf===null&&(Bf=[]),u=Ge(Bf,u,h),h=mn,(tr===null?h.memoizedState:tr.next)===null&&(h=h.alternate,Jt.H=h===null||h.memoizedState===null?mr:fa),u}function ge(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Ue(u);if(u.$$typeof===Xo)return $r(u)}throw Error(n(438,String(u)))}function ke(u){var h=null,y=mn.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var E=mn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(h={data:E.data.map(function(w){return w.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=Um(),mn.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(u),E=0;E<u;E++)y[E]=Px;return h.index++,y}function ft(u,h){return typeof h=="function"?h(u):h}function wt(u){var h=Ae();return bt(h,ri,u)}function bt(u,h,y){var E=u.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=y;var w=u.baseQueue,N=E.pending;if(N!==null){if(w!==null){var Y=w.next;w.next=N.next,N.next=Y}h.baseQueue=w=N,E.pending=null}if(N=u.baseState,w===null)u.memoizedState=N;else{h=w.next;var ue=Y=null,Ee=null,$e=h,pt=!1;do{var At=$e.lane&-536870913;if(At!==$e.lane?(Sn&At)===At:(el&At)===At){var Rt=$e.revertLane;if(Rt===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),At===Pa&&(pt=!0);else if((el&Rt)===Rt){$e=$e.next,Rt===Pa&&(pt=!0);continue}else At={lane:0,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ee===null?(ue=Ee=At,Y=N):Ee=Ee.next=At,mn.lanes|=Rt,ys|=Rt;At=$e.action,Il&&y(N,At),N=$e.hasEagerState?$e.eagerState:y(N,At)}else Rt={lane:At,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ee===null?(ue=Ee=Rt,Y=N):Ee=Ee.next=Rt,mn.lanes|=At,ys|=At;$e=$e.next}while($e!==null&&$e!==h);if(Ee===null?Y=N:Ee.next=ue,!fs(N,u.memoizedState)&&(nr=!0,pt&&(y=Oc,y!==null)))throw y;u.memoizedState=N,u.baseState=Y,u.baseQueue=Ee,E.lastRenderedState=N}return w===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function Ut(u){var h=Ae(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var E=y.dispatch,w=y.pending,N=h.memoizedState;if(w!==null){y.pending=null;var Y=w=w.next;do N=u(N,Y.action),Y=Y.next;while(Y!==w);fs(N,h.memoizedState)||(nr=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),y.lastRenderedState=N}return[N,E]}function Ht(u,h,y){var E=mn,w=Ae(),N=Xn;if(N){if(y===void 0)throw Error(n(407));y=y()}else y=h();var Y=!fs((ri||w).memoizedState,y);if(Y&&(w.memoizedState=y,nr=!0),w=w.queue,Od(_n.bind(null,E,w,u),[u]),w.getSnapshot!==h||Y||tr!==null&&tr.memoizedState.tag&1){if(E.flags|=2048,xa(9,ln.bind(null,E,w,y,h),{destroy:void 0},null),Tn===null)throw Error(n(349));N||(el&60)!==0||Nt(E,h,y)}return y}function Nt(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=mn.updateQueue,h===null?(h=Um(),mn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function ln(u,h,y,E){h.value=y,h.getSnapshot=E,pi(h)&&ii(u)}function _n(u,h,y){return y(function(){pi(h)&&ii(u)})}function pi(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!fs(u,y)}catch{return!0}}function ii(u){var h=ae(u,2);h!==null&&oa(h,u,2)}function bn(u){var h=pe();if(typeof u=="function"){var y=u;if(u=y(),Il){q(!0);try{y()}finally{q(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ft,lastRenderedState:u},h}function Bt(u,h,y,E){return u.baseState=y,bt(u,ri,typeof E=="function"?E:ft)}function Si(u,h,y,E,w){if(su(u))throw Error(n(485));if(u=h.action,u!==null){var N={payload:w,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){N.listeners.push(Y)}};Jt.T!==null?y(!0):N.isTransition=!1,E(N),y=h.pending,y===null?(N.next=h.pending=N,zn(h,N)):(N.next=y.next,h.pending=y.next=N)}}function zn(u,h){var y=h.action,E=h.payload,w=u.state;if(h.isTransition){var N=Jt.T,Y={};Jt.T=Y;try{var ue=y(w,E),Ee=Jt.S;Ee!==null&&Ee(Y,ue),wr(u,h,ue)}catch($e){fr(u,h,$e)}finally{Jt.T=N}}else try{N=y(w,E),wr(u,h,N)}catch($e){fr(u,h,$e)}}function wr(u,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(E){Po(u,h,E)},function(E){return fr(u,h,E)}):Po(u,h,y)}function Po(u,h,y){h.status="fulfilled",h.value=y,sc(h),u.state=y,h=u.pending,h!==null&&(y=h.next,y===h?u.pending=null:(y=y.next,h.next=y,zn(u,y)))}function fr(u,h,y){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do h.status="rejected",h.reason=y,sc(h),h=h.next;while(h!==E)}u.action=null}function sc(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function wn(u,h){return h}function Vr(u,h){if(Xn){var y=Tn.formState;if(y!==null){e:{var E=mn;if(Xn){if(qr){var w=$x(qr,ks);if(w){qr=S0(w),E=Xx(w);break e}}Ze(E)}E=!1}E&&(h=y[0])}}y=pe(),y.memoizedState=y.baseState=h,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:h},y.queue=E,y=Vp.bind(null,mn,E),E.dispatch=y,E=bn(!1);var N=jp.bind(null,mn,!1,E.queue);return E=pe(),w={state:h,dispatch:null,action:u,pending:null},E.queue=w,y=Si.bind(null,mn,w,N,y),w.dispatch=y,E.memoizedState=u,[h,y,!1]}function ra(u){var h=Ae();return dr(h,ri,u)}function dr(u,h,y){h=bt(u,h,wn)[0],u=wt(ft)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Ue(h):h;var E=Ae(),w=E.queue,N=w.dispatch;return y!==E.memoizedState&&(mn.flags|=2048,xa(9,Qi.bind(null,w,y),{destroy:void 0},null)),[h,N,u]}function Qi(u,h){u.action=h}function nu(u){var h=Ae(),y=ri;if(y!==null)return dr(h,y,u);Ae(),h=h.memoizedState,y=Ae();var E=y.queue.dispatch;return y.memoizedState=u,[h,E,!1]}function xa(u,h,y,E){return u={tag:u,create:h,inst:y,deps:E,next:null},h=mn.updateQueue,h===null&&(h=Um(),mn.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=u.next=u:(E=y.next,y.next=u,u.next=E,h.lastEffect=u),u}function iu(){return Ae().memoizedState}function Fp(u,h,y,E){var w=pe();mn.flags|=u,w.memoizedState=xa(1|h,y,{destroy:void 0},E===void 0?null:E)}function Ud(u,h,y,E){var w=Ae();E=E===void 0?null:E;var N=w.memoizedState.inst;ri!==null&&E!==null&&un(E,ri.memoizedState.deps)?w.memoizedState=xa(h,y,N,E):(mn.flags|=u,w.memoizedState=xa(1|h,y,N,E))}function Mv(u,h){Fp(8390656,8,u,h)}function Od(u,h){Ud(2048,8,u,h)}function hx(u,h){return Ud(4,2,u,h)}function px(u,h){return Ud(4,4,u,h)}function Nd(u,h){if(typeof h=="function"){u=u();var y=h(u);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function Fo(u,h,y){y=y!=null?y.concat([u]):null,Ud(4,4,Nd.bind(null,h,u),y)}function Id(){}function Hp(u,h){var y=Ae();h=h===void 0?null:h;var E=y.memoizedState;return h!==null&&un(h,E[1])?E[0]:(y.memoizedState=[u,h],u)}function ru(u,h){var y=Ae();h=h===void 0?null:h;var E=y.memoizedState;if(h!==null&&un(h,E[1]))return E[0];if(E=u(),Il){q(!0);try{u()}finally{q(!1)}}return y.memoizedState=[E,h],E}function oc(u,h,y){return y===void 0||(el&1073741824)!==0?u.memoizedState=h:(u.memoizedState=y,u=Go(),mn.lanes|=u,ys|=u,y)}function Tv(u,h,y,E){return fs(y,h)?y:Qo.current!==null?(u=oc(u,y,E),fs(u,h)||(nr=!0),u):(el&42)===0?(nr=!0,u.memoizedState=y):(u=Go(),mn.lanes|=u,ys|=u,h)}function kp(u,h,y,E,w){var N=xr();ca(N!==0&&8>N?N:8);var Y=Jt.T,ue={};Jt.T=ue,jp(u,!1,h,y);try{var Ee=w(),$e=Jt.S;if($e!==null&&$e(ue,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var pt=Je(Ee,E);cc(u,h,pt,Aa(u))}else cc(u,h,E,Aa(u))}catch(At){cc(u,h,{then:function(){},status:"rejected",reason:At},Aa())}finally{ca(N),Jt.T=Y}}function Cv(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:Ia,baseState:Ia,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ft,lastRenderedState:Ia},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ft,lastRenderedState:y},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function au(){return $r(tn)}function Ho(){return Ae().memoizedState}function Gp(){return Ae().memoizedState}function zd(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var y=Aa();u=Ke(y);var E=tt(h,u,y);E!==null&&(oa(E,h,y),St(E,h,y)),h={cache:Jp()},u.payload=h;return}h=h.return}}function lc(u,h,y){var E=Aa();y={lane:E,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},su(u)?Ld(h,y):(y=Fe(u,h,y,E),y!==null&&(oa(y,u,E),wv(y,h,E)))}function Vp(u,h,y){var E=Aa();cc(u,h,y,E)}function cc(u,h,y,E){var w={lane:E,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(su(u))Ld(h,w);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var Y=h.lastRenderedState,ue=N(Y,y);if(w.hasEagerState=!0,w.eagerState=ue,fs(ue,Y))return Le(u,h,w,0),Tn===null&&Ie(),!1}catch{}if(y=Fe(u,h,w,E),y!==null)return oa(y,u,E),wv(y,h,E),!0}return!1}function jp(u,h,y,E){if(E={lane:2,revertLane:ye(),action:E,hasEagerState:!1,eagerState:null,next:null},su(u)){if(h)throw Error(n(479))}else h=Fe(u,y,E,2),h!==null&&oa(h,u,2)}function su(u){var h=u.alternate;return u===mn||h!==null&&h===mn}function Ld(u,h){Ui=js=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function wv(u,h,y){if((y&4194176)!==0){var E=h.lanes;E&=u.pendingLanes,y|=E,h.lanes=y,ce(u,y)}}function aa(u,h,y,E){h=u.memoizedState,y=y(E,h),y=y==null?h:gu({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}function uc(u,h,y,E,w,N,Y){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,N,Y):h.prototype&&h.prototype.isPureReactComponent?!nt(y,E)||!nt(w,N):!0}function Pd(u,h,y,E){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,E),h.state!==u&&Om.enqueueReplaceState(h,h.state,null)}function io(u,h){var y=h;if("ref"in h){y={};for(var E in h)E!=="ref"&&(y[E]=h[E])}if(u=u.defaultProps){y===h&&(y=gu({},y));for(var w in u)y[w]===void 0&&(y[w]=u[w])}return y}function $p(u,h){try{var y=u.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(E){setTimeout(function(){throw E})}}function Xp(u,h,y){try{var E=u.onCaughtError;E(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Fd(u,h,y){return y=Ke(y),y.tag=3,y.payload={element:null},y.callback=function(){$p(u,h)},y}function rf(u){return u=Ke(u),u.tag=3,u}function Hd(u,h,y,E){var w=y.type.getDerivedStateFromError;if(typeof w=="function"){var N=E.value;u.payload=function(){return w(N)},u.callback=function(){Xp(h,y,E)}}var Y=y.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(u.callback=function(){Xp(h,y,E),typeof w!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var ue=E.stack;this.componentDidCatch(E.value,{componentStack:ue!==null?ue:""})})}function mx(u,h,y,E,w){if(y.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(h=y.alternate,h!==null&&ou(h,y,w,!0),y=vs.current,y!==null){switch(y.tag){case 13:return Vs===null?Na():y.alternate===null&&Vn===0&&(Vn=3),y.flags&=-257,y.flags|=65536,y.lanes=w,E===Bm?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([E]):h.add(E),cm(u,E,w)),!1;case 22:return y.flags|=65536,E===Bm?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([E])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([E]):y.add(E)),cm(u,E,w)),!1}throw Error(n(435,y.tag))}return cm(u,E,w),Na(),!1}if(Xn)return h=vs.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=w,E!==mh&&(u=Error(n(422),{cause:E}),Q(ve(u,y)))):(E!==mh&&(h=Error(n(423),{cause:E}),Q(ve(h,y))),u=u.current.alternate,u.flags|=65536,w&=-w,u.lanes|=w,E=ve(E,y),w=Fd(u.stateNode,E,w),se(u,w),Vn!==4&&(Vn=2)),!1;var N=Error(n(520),{cause:E});if(N=ve(N,y),Of===null?Of=[N]:Of.push(N),Vn!==4&&(Vn=2),h===null)return!0;E=ve(E,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,u=w&-w,y.lanes|=u,u=Fd(y.stateNode,E,u),se(y,u),!1;case 1:if(h=y.type,N=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(bs===null||!bs.has(N))))return y.flags|=65536,w&=-w,y.lanes|=w,w=rf(w),Hd(w,u,y,E),se(y,w),!1}y=y.return}while(y!==null);return!1}function jr(u,h,y,E){h.child=u===null?L0(h,null,y,E):Nc(h,u.child,y,E)}function gx(u,h,y,E,w){y=y.render;var N=h.ref;if("ref"in E){var Y={};for(var ue in E)ue!=="ref"&&(Y[ue]=E[ue])}else Y=E;return lu(h),E=Mn(u,h,y,Y,N,w),ue=Gr(),u!==null&&!nr?(_i(u,h,w),xl(u,h,w)):(Xn&&ue&&he(h),h.flags|=1,jr(u,h,E,w),h.child)}function vx(u,h,y,E,w){if(u===null){var N=y.type;return typeof N=="function"&&!Tl(N)&&N.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=N,Zp(u,h,N,E,w)):(u=Ps(y.type,null,E,h,h.mode,w),u.ref=h.ref,u.return=h,h.child=u)}if(N=u.child,!Iv(u,w)){var Y=N.memoizedProps;if(y=y.compare,y=y!==null?y:nt,y(Y,E)&&u.ref===h.ref)return xl(u,h,w)}return h.flags|=1,u=la(N,E),u.ref=h.ref,u.return=h,h.child=u}function Zp(u,h,y,E,w){if(u!==null){var N=u.memoizedProps;if(nt(N,E)&&u.ref===h.ref)if(nr=!1,h.pendingProps=E=N,Iv(u,w))(u.flags&131072)!==0&&(nr=!0);else return h.lanes=u.lanes,xl(u,h,w)}return Rv(u,h,y,E,w)}function _x(u,h,y){var E=h.pendingProps,w=E.children,N=(h.stateNode._pendingVisibility&2)!==0,Y=u!==null?u.memoizedState:null;if(kd(u,h),E.mode==="hidden"||N){if((h.flags&128)!==0){if(E=Y!==null?Y.baseLanes|y:y,u!==null){for(w=h.child=u.child,N=0;w!==null;)N=N|w.lanes|w.childLanes,w=w.sibling;h.childLanes=N&~E}else h.childLanes=0,h.child=null;return yx(u,h,E,y)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&qp(h,Y!==null?Y.cachePool:null),Y!==null?yt(h,Y):$t(),bi(h);else return h.lanes=h.childLanes=536870912,yx(u,h,Y!==null?Y.baseLanes|y:y,y)}else Y!==null?(qp(h,Y.cachePool),yt(h,Y),Wt(),h.memoizedState=null):(u!==null&&qp(h,null),$t(),Wt());return jr(u,h,w,y),h.child}function yx(u,h,y,E){var w=hc();return w=w===null?null:{parent:Yo?ai._currentValue:ai._currentValue2,pool:w},h.memoizedState={baseLanes:y,cachePool:w},u!==null&&qp(h,null),$t(),bi(h),u!==null&&ou(u,h,E,!0),null}function kd(u,h){var y=h.ref;if(y===null)u!==null&&u.ref!==null&&(h.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(n(284));(u===null||u.ref!==y)&&(h.flags|=2097664)}}function Rv(u,h,y,E,w){return lu(h),y=Mn(u,h,y,E,void 0,w),E=Gr(),u!==null&&!nr?(_i(u,h,w),xl(u,h,w)):(Xn&&E&&he(h),h.flags|=1,jr(u,h,y,w),h.child)}function xx(u,h,y,E,w,N){return lu(h),h.updateQueue=null,y=hi(h,E,y,w),Cr(u),E=Gr(),u!==null&&!nr?(_i(u,h,N),xl(u,h,N)):(Xn&&E&&he(h),h.flags|=1,jr(u,h,y,N),h.child)}function Dv(u,h,y,E,w){if(lu(h),h.stateNode===null){var N=bu,Y=y.contextType;typeof Y=="object"&&Y!==null&&(N=$r(Y)),N=new y(E,N),h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Om,h.stateNode=N,N._reactInternals=h,N=h.stateNode,N.props=E,N.state=h.memoizedState,N.refs={},_t(h),Y=y.contextType,N.context=typeof Y=="object"&&Y!==null?$r(Y):bu,N.state=h.memoizedState,Y=y.getDerivedStateFromProps,typeof Y=="function"&&(aa(h,y,Y,E),N.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Y=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Y!==N.state&&Om.enqueueReplaceState(N,N.state,null),st(h,E,N,w),Te(),N.state=h.memoizedState),typeof N.componentDidMount=="function"&&(h.flags|=4194308),E=!0}else if(u===null){N=h.stateNode;var ue=h.memoizedProps,Ee=io(y,ue);N.props=Ee;var $e=N.context,pt=y.contextType;Y=bu,typeof pt=="object"&&pt!==null&&(Y=$r(pt));var At=y.getDerivedStateFromProps;pt=typeof At=="function"||typeof N.getSnapshotBeforeUpdate=="function",ue=h.pendingProps!==ue,pt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ue||$e!==Y)&&Pd(h,N,E,Y),Nl=!1;var Rt=h.memoizedState;N.state=Rt,st(h,E,N,w),Te(),$e=h.memoizedState,ue||Rt!==$e||Nl?(typeof At=="function"&&(aa(h,y,At,E),$e=h.memoizedState),(Ee=Nl||uc(h,y,Ee,E,Rt,$e,Y))?(pt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(h.flags|=4194308)):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=$e),N.props=E,N.state=$e,N.context=Y,E=Ee):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{N=h.stateNode,ut(u,h),Y=h.memoizedProps,pt=io(y,Y),N.props=pt,At=h.pendingProps,Rt=N.context,$e=y.contextType,Ee=bu,typeof $e=="object"&&$e!==null&&(Ee=$r($e)),ue=y.getDerivedStateFromProps,($e=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==At||Rt!==Ee)&&Pd(h,N,E,Ee),Nl=!1,Rt=h.memoizedState,N.state=Rt,st(h,E,N,w),Te();var cn=h.memoizedState;Y!==At||Rt!==cn||Nl||u!==null&&u.dependencies!==null&&dc(u.dependencies)?(typeof ue=="function"&&(aa(h,y,ue,E),cn=h.memoizedState),(pt=Nl||uc(h,y,pt,E,Rt,cn,Ee)||u!==null&&u.dependencies!==null&&dc(u.dependencies))?($e||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(E,cn,Ee),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(E,cn,Ee)),typeof N.componentDidUpdate=="function"&&(h.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof N.componentDidUpdate!="function"||Y===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=cn),N.props=E,N.state=cn,N.context=Ee,E=pt):(typeof N.componentDidUpdate!="function"||Y===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=1024),E=!1)}return N=E,kd(u,h),E=(h.flags&128)!==0,N||E?(N=h.stateNode,y=E&&typeof y.getDerivedStateFromError!="function"?null:N.render(),h.flags|=1,u!==null&&E?(h.child=Nc(h,u.child,null,w),h.child=Nc(h,null,y,w)):jr(u,h,y,w),h.memoizedState=N.state,u=h.child):u=xl(u,h,w),u}function bx(u,h,y,E){return kt(),h.flags|=256,jr(u,h,y,E),h.child}function Bv(u){return{baseLanes:u,cachePool:Tx()}}function Uv(u,h,y){return u=u!==null?u.childLanes&~y:0,h&&(u|=ka),u}function Sx(u,h,y){var E=h.pendingProps,w=!1,N=(h.flags&128)!==0,Y;if((Y=N)||(Y=u!==null&&u.memoizedState===null?!1:(pr.current&2)!==0),Y&&(w=!0,h.flags&=-129),Y=(h.flags&32)!==0,h.flags&=-33,u===null){if(Xn){if(w?jt(h):Wt(),Xn){var ue=qr,Ee;(Ee=ue)&&(ue=Wx(ue,ks),ue!==null?(h.memoizedState={dehydrated:ue,treeContext:lo!==null?{id:Wo,overflow:Hs}:null,retryLane:536870912},Ee=t(18,null,null,0),Ee.stateNode=ue,Ee.return=h,h.child=Ee,ua=h,qr=null,Ee=!0):Ee=!1),Ee||Ze(h)}if(ue=h.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return oh(ue)?h.lanes=16:h.lanes=536870912,null;In(h)}return ue=E.children,E=E.fallback,w?(Wt(),w=h.mode,ue=Ov({mode:"hidden",children:ue},w),E=wl(E,w,y,null),ue.return=h,E.return=h,ue.sibling=E,h.child=ue,w=h.child,w.memoizedState=Bv(y),w.childLanes=Uv(u,Y,y),h.memoizedState=da,E):(jt(h),Gd(h,ue))}if(Ee=u.memoizedState,Ee!==null&&(ue=Ee.dehydrated,ue!==null)){if(N)h.flags&256?(jt(h),h.flags&=-257,h=Nv(u,h,y)):h.memoizedState!==null?(Wt(),h.child=u.child,h.flags|=128,h=null):(Wt(),w=E.fallback,ue=h.mode,E=Ov({mode:"visible",children:E.children},ue),w=wl(w,ue,y,null),w.flags|=2,E.return=h,w.return=h,E.sibling=w,h.child=E,Nc(h,u.child,null,y),E=h.child,E.memoizedState=Bv(y),E.childLanes=Uv(u,Y,y),h.memoizedState=da,h=w);else if(jt(h),oh(ue))Y=jx(ue).digest,E=Error(n(419)),E.stack="",E.digest=Y,Q({value:E,source:null,stack:null}),h=Nv(u,h,y);else if(nr||ou(u,h,y,!1),Y=(y&u.childLanes)!==0,nr||Y){if(Y=Tn,Y!==null){if(E=y&-y,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&(Y.suspendedLanes|y))!==0?0:E,E!==0&&E!==Ee.retryLane)throw Ee.retryLane=E,ae(u,E),oa(Y,u,E),d1}bm(ue)||Na(),h=Nv(u,h,y)}else bm(ue)?(h.flags|=128,h.child=u.child,h=pu.bind(null,u),sM(ue,h),h=null):(u=Ee.treeContext,Ea&&(qr=Yx(ue),ua=h,Xn=!0,ps=null,ks=!1,u!==null&&(ds[hs++]=Wo,ds[hs++]=Hs,ds[hs++]=lo,Wo=u.id,Hs=u.overflow,lo=h)),h=Gd(h,E.children),h.flags|=4096);return h}return w?(Wt(),w=E.fallback,ue=h.mode,Ee=u.child,N=Ee.sibling,E=la(Ee,{mode:"hidden",children:E.children}),E.subtreeFlags=Ee.subtreeFlags&31457280,N!==null?w=la(N,w):(w=wl(w,ue,y,null),w.flags|=2),w.return=h,E.return=h,E.sibling=w,h.child=E,E=w,w=h.child,ue=u.child.memoizedState,ue===null?ue=Bv(y):(Ee=ue.cachePool,Ee!==null?(N=Yo?ai._currentValue:ai._currentValue2,Ee=Ee.parent!==N?{parent:N,pool:N}:Ee):Ee=Tx(),ue={baseLanes:ue.baseLanes|y,cachePool:Ee}),w.memoizedState=ue,w.childLanes=Uv(u,Y,y),h.memoizedState=da,E):(jt(h),y=u.child,u=y.sibling,y=la(y,{mode:"visible",children:E.children}),y.return=h,y.sibling=null,u!==null&&(Y=h.deletions,Y===null?(h.deletions=[u],h.flags|=16):Y.push(u)),h.child=y,h.memoizedState=null,y)}function Gd(u,h){return h=Ov({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function Ov(u,h){return um(u,h,0,null)}function Nv(u,h,y){return Nc(h,u.child,null,y),u=Gd(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function Ax(u,h,y){u.lanes|=h;var E=u.alternate;E!==null&&(E.lanes|=h),zv(u.return,h,y)}function Yp(u,h,y,E,w){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:w}:(N.isBackwards=h,N.rendering=null,N.renderingStartTime=0,N.last=E,N.tail=y,N.tailMode=w)}function Ex(u,h,y){var E=h.pendingProps,w=E.revealOrder,N=E.tail;if(jr(u,h,E.children,y),E=pr.current,(E&2)!==0)E=E&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Ax(u,y,h);else if(u.tag===19)Ax(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(R(pr,E),w){case"forwards":for(y=h.child,w=null;y!==null;)u=y.alternate,u!==null&&$n(u)===null&&(w=y),y=y.sibling;y=w,y===null?(w=h.child,h.child=null):(w=y.sibling,y.sibling=null),Yp(h,!1,w,y,N);break;case"backwards":for(y=null,w=h.child,h.child=null;w!==null;){if(u=w.alternate,u!==null&&$n(u)===null){h.child=w;break}u=w.sibling,w.sibling=y,y=w,w=u}Yp(h,!0,y,null,N);break;case"together":Yp(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function xl(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),ys|=h.lanes,(y&h.childLanes)===0)if(u!==null){if(ou(u,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,y=la(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=la(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function Iv(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&dc(u)))}function iM(u,h,y){switch(h.tag){case 3:we(h,h.stateNode.containerInfo),fc(h,ai,u.memoizedState.cache),kt();break;case 27:case 5:_e(h);break;case 4:we(h,h.stateNode.containerInfo);break;case 10:fc(h,h.type,h.memoizedProps.value);break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(jt(h),h.flags|=128,null):(y&h.child.childLanes)!==0?Sx(u,h,y):(jt(h),u=xl(u,h,y),u!==null?u.sibling:null);jt(h);break;case 19:var w=(u.flags&128)!==0;if(E=(y&h.childLanes)!==0,E||(ou(u,h,y,!1),E=(y&h.childLanes)!==0),w){if(E)return Ex(u,h,y);h.flags|=128}if(w=h.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),R(pr,pr.current),E)break;return null;case 22:case 23:return h.lanes=0,_x(u,h,y);case 24:fc(h,ai,u.memoizedState.cache)}return xl(u,h,y)}function Mx(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps)nr=!0;else{if(!Iv(u,y)&&(h.flags&128)===0)return nr=!1,iM(u,h,y);nr=(u.flags&131072)!==0}else nr=!1,Xn&&(h.flags&1048576)!==0&&Z(h,hh,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var E=h.elementType,w=E._init;if(E=w(E._payload),h.type=E,typeof E=="function")Tl(E)?(u=io(E,u),h.tag=1,h=Dv(null,h,E,u,y)):(h.tag=0,h=Rv(null,h,E,u,y));else{if(E!=null){if(w=E.$$typeof,w===xf){h.tag=11,h=gx(null,h,E,u,y);break e}else if(w===Qd){h.tag=14,h=vx(null,h,E,u,y);break e}}throw h=s(E)||E,Error(n(306,h,""))}}return h;case 0:return Rv(u,h,h.type,h.pendingProps,y);case 1:return E=h.type,w=io(E,h.pendingProps),Dv(u,h,E,w,y);case 3:e:{if(we(h,h.stateNode.containerInfo),u===null)throw Error(n(387));var N=h.pendingProps;w=h.memoizedState,E=w.element,ut(u,h),st(h,N,null,y);var Y=h.memoizedState;if(N=Y.cache,fc(h,ai,N),N!==w.cache&&Lv(h,[ai],y,!0),Te(),N=Y.element,Ea&&w.isDehydrated)if(w={element:N,isDehydrated:!1,cache:Y.cache},h.updateQueue.baseState=w,h.memoizedState=w,h.flags&256){h=bx(u,h,N,y);break e}else if(N!==E){E=ve(Error(n(424)),h),Q(E),h=bx(u,h,N,y);break e}else for(Ea&&(qr=Zx(h.stateNode.containerInfo),ua=h,Xn=!0,ps=null,ks=!0),y=L0(h,null,N,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(kt(),N===E){h=xl(u,h,y);break e}jr(u,h,N,y)}h=h.child}return h;case 26:if(us)return kd(u,h),u===null?(y=Tm(h.type,null,h.pendingProps,null))?h.memoizedState=y:Xn||(h.stateNode=lM(h.type,h.pendingProps,co.current,h)):h.memoizedState=Tm(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:if(Yr)return _e(h),u===null&&Yr&&Xn&&(E=h.stateNode=O0(h.type,h.pendingProps,co.current,Or.current,!1),ua=h,ks=!0,qr=Sm(E)),E=h.pendingProps.children,u!==null||Xn?jr(u,h,E,y):h.child=Nc(h,null,E,y),kd(u,h),h.child;case 5:return u===null&&Xn&&(n1(h.type,h.pendingProps,Or.current),(w=E=qr)&&(E=Jx(E,h.type,h.pendingProps,ks),E!==null?(h.stateNode=E,ua=h,qr=Sm(E),ks=!1,w=!0):w=!1),w||Ze(h)),_e(h),w=h.type,N=h.pendingProps,Y=u!==null?u.memoizedProps:null,E=N.children,Rc(w,N)?E=null:Y!==null&&Rc(w,Y)&&(h.flags|=32),h.memoizedState!==null&&(w=Mn(u,h,kr,null,null,y),Yo?tn._currentValue=w:tn._currentValue2=w),kd(u,h),jr(u,h,E,y),h.child;case 6:return u===null&&Xn&&(i1(h.pendingProps,Or.current),(u=y=qr)&&(y=qx(y,h.pendingProps,ks),y!==null?(h.stateNode=y,ua=h,qr=null,u=!0):u=!1),u||Ze(h)),null;case 13:return Sx(u,h,y);case 4:return we(h,h.stateNode.containerInfo),E=h.pendingProps,u===null?h.child=Nc(h,null,E,y):jr(u,h,E,y),h.child;case 11:return gx(u,h,h.type,h.pendingProps,y);case 7:return jr(u,h,h.pendingProps,y),h.child;case 8:return jr(u,h,h.pendingProps.children,y),h.child;case 12:return jr(u,h,h.pendingProps.children,y),h.child;case 10:return E=h.pendingProps,fc(h,h.type,E.value),jr(u,h,E.children,y),h.child;case 9:return w=h.type._context,E=h.pendingProps.children,lu(h),w=$r(w),E=E(w),h.flags|=1,jr(u,h,E,y),h.child;case 14:return vx(u,h,h.type,h.pendingProps,y);case 15:return Zp(u,h,h.type,h.pendingProps,y);case 19:return Ex(u,h,y);case 22:return _x(u,h,y);case 24:return lu(h),E=$r(ai),u===null?(w=hc(),w===null&&(w=Tn,N=Jp(),w.pooledCache=N,N.refCount++,N!==null&&(w.pooledCacheLanes|=y),w=N),h.memoizedState={parent:E,cache:w},_t(h),fc(h,ai,w)):((u.lanes&y)!==0&&(ut(u,h),st(h,null,null,y),Te()),w=u.memoizedState,N=h.memoizedState,w.parent!==E?(w={parent:E,cache:E},h.memoizedState=w,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=w),fc(h,ai,E)):(E=N.cache,fc(h,ai,E),E!==w.cache&&Lv(h,[ai],y,!0))),jr(u,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function fc(u,h,y){Yo?(R(Fa,h._currentValue),h._currentValue=y):(R(Fa,h._currentValue2),h._currentValue2=y)}function bl(u){var h=Fa.current;Yo?u._currentValue=h:u._currentValue2=h,A(Fa)}function zv(u,h,y){for(;u!==null;){var E=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),u===y)break;u=u.return}}function Lv(u,h,y,E){var w=u.child;for(w!==null&&(w.return=u);w!==null;){var N=w.dependencies;if(N!==null){var Y=w.child;N=N.firstContext;e:for(;N!==null;){var ue=N;N=w;for(var Ee=0;Ee<h.length;Ee++)if(ue.context===h[Ee]){N.lanes|=y,ue=N.alternate,ue!==null&&(ue.lanes|=y),zv(N.return,y,u),E||(Y=null);break e}N=ue.next}}else if(w.tag===18){if(Y=w.return,Y===null)throw Error(n(341));Y.lanes|=y,N=Y.alternate,N!==null&&(N.lanes|=y),zv(Y,y,u),Y=null}else Y=w.child;if(Y!==null)Y.return=w;else for(Y=w;Y!==null;){if(Y===u){Y=null;break}if(w=Y.sibling,w!==null){w.return=Y.return,Y=w;break}Y=Y.return}w=Y}}function ou(u,h,y,E){u=null;for(var w=h,N=!1;w!==null;){if(!N){if((w.flags&524288)!==0)N=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var Y=w.alternate;if(Y===null)throw Error(n(387));if(Y=Y.memoizedProps,Y!==null){var ue=w.type;fs(w.pendingProps.value,Y.value)||(u!==null?u.push(ue):u=[ue])}}else if(w===Cf.current){if(Y=w.alternate,Y===null)throw Error(n(387));Y.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(u!==null?u.push(tn):u=[tn])}w=w.return}u!==null&&Lv(h,u,y,E),h.flags|=262144}function dc(u){for(u=u.firstContext;u!==null;){var h=u.context;if(!fs(Yo?h._currentValue:h._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function lu(u){zc=u,Xi=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function $r(u){return Pv(zc,u)}function Vd(u,h){return zc===null&&lu(u),Pv(u,h)}function Pv(u,h){var y=Yo?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:y,next:null},Xi===null){if(u===null)throw Error(n(308));Xi=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else Xi=Xi.next=h;return y}function Jp(){return{controller:new h1,data:new Map,refCount:0}}function af(u){u.refCount--,u.refCount===0&&zl(Eu,function(){u.controller.abort()})}function hc(){var u=Ll.current;return u!==null?u:Tn.pooledCache}function qp(u,h){h===null?R(Ll,Ll.current):R(Ll,h.pool)}function Tx(){var u=hc();return u===null?null:{parent:Yo?ai._currentValue:ai._currentValue2,pool:u}}function as(u){u.flags|=4}function Fv(u,h){if(u!==null&&u.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(u=h.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function Wp(u,h,y,E){if(Zr)for(y=h.child;y!==null;){if(y.tag===5||y.tag===6)Zo(u,y.stateNode);else if(!(y.tag===4||Yr&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(ls)for(var w=h.child;w!==null;){if(w.tag===5){var N=w.stateNode;y&&E&&(N=x0(N,w.type,w.memoizedProps)),Zo(u,N)}else if(w.tag===6)N=w.stateNode,y&&E&&(N=b0(N,w.memoizedProps)),Zo(u,N);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)N=w.child,N!==null&&(N.return=w),Wp(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function sf(u,h,y,E){if(ls)for(var w=h.child;w!==null;){if(w.tag===5){var N=w.stateNode;y&&E&&(N=x0(N,w.type,w.memoizedProps)),_0(u,N)}else if(w.tag===6)N=w.stateNode,y&&E&&(N=b0(N,w.memoizedProps)),_0(u,N);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)N=w.child,N!==null&&(N.return=w),sf(u,w,!(w.memoizedProps!==null&&w.memoizedProps.mode==="manual"),!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function of(u,h){if(ls&&Fv(u,h)){u=h.stateNode;var y=u.containerInfo,E=xm();sf(E,h,!1,!1),u.pendingChildren=E,as(h),Vx(y,E)}}function Hv(u,h,y,E){if(Zr)u.memoizedProps!==E&&as(h);else if(ls){var w=u.stateNode,N=u.memoizedProps;if((u=Fv(u,h))||N!==E){var Y=Or.current;N=v0(w,y,N,E,!u,null),N===w?h.stateNode=w:(Dl(N,y,E,Y)&&as(h),h.stateNode=N,u?Wp(N,h,!1,!1):as(h))}else h.stateNode=w}}function lf(u,h,y){if(Hx(h,y)){if(u.flags|=16777216,!Bl(h,y))if(Jd())u.flags|=8192;else throw Au=Bm,z0}else u.flags&=-16777217}function kv(u,h){if(r1(h)){if(u.flags|=16777216,!B0(h))if(Jd())u.flags|=8192;else throw Au=Bm,z0}else u.flags&=-16777217}function jd(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?O():536870912,u.lanes|=h,Fl|=h)}function cu(u,h){if(!Xn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Ri(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,E=0;if(h)for(var w=u.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags&31457280,E|=w.flags&31457280,w.return=u,w=w.sibling;else for(w=u.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags,E|=w.flags,w.return=u,w=w.sibling;return u.subtreeFlags|=E,u.childLanes=y,h}function Cx(u,h,y){var E=h.pendingProps;switch(Be(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(h),null;case 1:return Ri(h),null;case 3:return y=h.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),bl(ai),Xe(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(Mt(h)?as(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ps!==null&&(Al(ps),ps=null))),of(u,h),Ri(h),null;case 26:if(us){y=h.type;var w=h.memoizedState;return u===null?(as(h),w!==null?(Ri(h),kv(h,w)):(Ri(h),lf(h,y,E))):w?w!==u.memoizedState?(as(h),Ri(h),kv(h,w)):(Ri(h),h.flags&=-16777217):(Zr?u.memoizedProps!==E&&as(h):Hv(u,h,y,E),Ri(h),lf(h,y,E)),null}case 27:if(Yr){if(Ce(h),y=co.current,w=h.type,u!==null&&h.stateNode!=null)Zr?u.memoizedProps!==E&&as(h):Hv(u,h,w,E);else{if(!E){if(h.stateNode===null)throw Error(n(166));return Ri(h),null}u=Or.current,Mt(h)?et(h,u):(u=O0(w,E,y,u,!0),h.stateNode=u,as(h))}return Ri(h),null}case 5:if(Ce(h),y=h.type,u!==null&&h.stateNode!=null)Hv(u,h,y,E);else{if(!E){if(h.stateNode===null)throw Error(n(166));return Ri(h),null}u=Or.current,Mt(h)?et(h,u):(w=s0(y,E,co.current,u,h),Wp(w,h,!1,!1),h.stateNode=w,Dl(w,y,E,u)&&as(h))}return Ri(h),lf(h,h.type,h.pendingProps),null;case 6:if(u&&h.stateNode!=null)y=u.memoizedProps,Zr?y!==E&&as(h):ls&&(y!==E?(h.stateNode=pm(E,co.current,Or.current,h),as(h)):h.stateNode=u.stateNode);else{if(typeof E!="string"&&h.stateNode===null)throw Error(n(166));if(u=co.current,y=Or.current,Mt(h)){if(!Ea)throw Error(n(176));if(u=h.stateNode,y=h.memoizedProps,E=null,w=ua,w!==null)switch(w.tag){case 27:case 5:E=w.memoizedProps}Kx(u,y,h,E)||Ze(h)}else h.stateNode=pm(E,u,y,h)}return Ri(h),null;case 13:if(E=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(w=Mt(h),E!==null&&E.dehydrated!==null){if(u===null){if(!w)throw Error(n(318));if(!Ea)throw Error(n(344));if(w=h.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));Sf(w,h)}else kt(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ri(h),w=!1}else ps!==null&&(Al(ps),ps=null),w=!0;if(!w)return h.flags&256?(In(h),h):(In(h),null)}if(In(h),(h.flags&128)!==0)return h.lanes=y,h;if(y=E!==null,u=u!==null&&u.memoizedState!==null,y){E=h.child,w=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(w=E.alternate.memoizedState.cachePool.pool);var N=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(N=E.memoizedState.cachePool.pool),N!==w&&(E.flags|=2048)}return y!==u&&y&&(h.child.flags|=8192),jd(h,h.updateQueue),Ri(h),null;case 4:return Xe(),of(u,h),u===null&&c0(h.stateNode.containerInfo),Ri(h),null;case 10:return bl(h.type),Ri(h),null;case 19:if(A(pr),w=h.memoizedState,w===null)return Ri(h),null;if(E=(h.flags&128)!==0,N=w.rendering,N===null)if(E)cu(w,!1);else{if(Vn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(N=$n(u),N!==null){for(h.flags|=128,cu(w,!1),u=N.updateQueue,h.updateQueue=u,jd(h,u),h.subtreeFlags=0,u=y,y=h.child;y!==null;)Cl(y,u),y=y.sibling;return R(pr,pr.current&1|2),h.child}u=u.sibling}w.tail!==null&&Jr()>Hi&&(h.flags|=128,E=!0,cu(w,!1),h.lanes=4194304)}else{if(!E)if(u=$n(N),u!==null){if(h.flags|=128,E=!0,u=u.updateQueue,h.updateQueue=u,jd(h,u),cu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!Xn)return Ri(h),null}else 2*Jr()-w.renderingStartTime>Hi&&y!==536870912&&(h.flags|=128,E=!0,cu(w,!1),h.lanes=4194304);w.isBackwards?(N.sibling=h.child,h.child=N):(u=w.last,u!==null?u.sibling=N:h.child=N,w.last=N)}return w.tail!==null?(h=w.tail,w.rendering=h,w.tail=h.sibling,w.renderingStartTime=Jr(),h.sibling=null,u=pr.current,R(pr,E?u&1|2:u&1),h):(Ri(h),null);case 22:case 23:return In(h),Ft(),E=h.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(h.flags|=8192):E&&(h.flags|=8192),E?(y&536870912)!==0&&(h.flags&128)===0&&(Ri(h),h.subtreeFlags&6&&(h.flags|=8192)):Ri(h),y=h.updateQueue,y!==null&&jd(h,y.retryQueue),y=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==y&&(h.flags|=2048),u!==null&&A(Ll),null;case 24:return y=null,u!==null&&(y=u.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),bl(ai),Ri(h),null;case 25:return null}throw Error(n(156,h.tag))}function wx(u,h){switch(Be(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return bl(ai),Xe(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Ce(h),null;case 13:if(In(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));kt()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return A(pr),null;case 4:return Xe(),null;case 10:return bl(h.type),null;case 22:case 23:return In(h),Ft(),u!==null&&A(Ll),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return bl(ai),null;case 25:return null;default:return null}}function Gv(u,h){switch(Be(h),h.tag){case 3:bl(ai),Xe();break;case 26:case 27:case 5:Ce(h);break;case 4:Xe();break;case 13:In(h);break;case 19:A(pr);break;case 10:bl(h.type);break;case 22:case 23:In(h),Ft(),u!==null&&A(Ll);break;case 24:bl(ai)}}function $d(u,h){try{var y=h.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var w=E.next;y=w;do{if((y.tag&u)===u){E=void 0;var N=y.create,Y=y.inst;E=N(),Y.destroy=E}y=y.next}while(y!==w)}}catch(ue){Bn(h,h.return,ue)}}function pc(u,h,y){try{var E=h.updateQueue,w=E!==null?E.lastEffect:null;if(w!==null){var N=w.next;E=N;do{if((E.tag&u)===u){var Y=E.inst,ue=Y.destroy;if(ue!==void 0){Y.destroy=void 0,w=h;var Ee=y;try{ue()}catch($e){Bn(w,Ee,$e)}}}E=E.next}while(E!==N)}}catch($e){Bn(h,h.return,$e)}}function Rx(u){var h=u.updateQueue;if(h!==null){var y=u.stateNode;try{je(h,y)}catch(E){Bn(u,u.return,E)}}}function Dx(u,h,y){y.props=io(u.type,u.memoizedProps),y.state=u.memoizedState;try{y.componentWillUnmount()}catch(E){Bn(u,h,E)}}function uu(u,h){try{var y=u.ref;if(y!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var w=bf(E);break;default:w=E}typeof y=="function"?u.refCleanup=y(w):y.current=w}}catch(N){Bn(u,h,N)}}function Di(u,h){var y=u.ref,E=u.refCleanup;if(y!==null)if(typeof E=="function")try{E()}catch(w){Bn(u,h,w)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(w){Bn(u,h,w)}else y.current=null}function cf(u){var h=u.type,y=u.memoizedProps,E=u.stateNode;try{aM(E,h,y,u)}catch(w){Bn(u,u.return,w)}}function Vv(u,h,y){try{h0(u.stateNode,u.type,y,h,u)}catch(E){Bn(u,u.return,E)}}function jv(u){return u.tag===5||u.tag===3||(us?u.tag===26:!1)||(Yr?u.tag===27:!1)||u.tag===4}function Kp(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||jv(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!Yr||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Qp(u,h,y){var E=u.tag;if(E===5||E===6)u=u.stateNode,h?m0(y,u,h):kx(y,u);else if(!(E===4||Yr&&E===27)&&(u=u.child,u!==null))for(Qp(u,h,y),u=u.sibling;u!==null;)Qp(u,h,y),u=u.sibling}function uf(u,h,y){var E=u.tag;if(E===5||E===6)u=u.stateNode,h?p0(y,u,h):d0(y,u);else if(!(E===4||Yr&&E===27)&&(u=u.child,u!==null))for(uf(u,h,y),u=u.sibling;u!==null;)uf(u,h,y),u=u.sibling}function Bx(u,h,y){u=u.containerInfo;try{y0(u,y)}catch(E){Bn(h,h.return,E)}}function ff(u,h){for(wc(u.containerInfo),Zi=h;Zi!==null;)if(u=Zi,h=u.child,(u.subtreeFlags&1028)!==0&&h!==null)h.return=u,Zi=h;else for(;Zi!==null;){u=Zi;var y=u.alternate;switch(h=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&y!==null){h=void 0;var E=u,w=y.memoizedProps;y=y.memoizedState;var N=E.stateNode;try{var Y=io(E.type,w,E.elementType===E.type);h=N.getSnapshotBeforeUpdate(Y,y),N.__reactInternalSnapshotBeforeUpdate=h}catch(ue){Bn(E,E.return,ue)}}break;case 3:(h&1024)!==0&&Zr&&ym(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=u.sibling,h!==null){h.return=u.return,Zi=h;break}Zi=u.return}return Y=Mu,Mu=!1,Y}function em(u,h,y){var E=y.flags;switch(y.tag){case 0:case 11:case 15:ko(u,y),E&4&&$d(5,y);break;case 1:if(ko(u,y),E&4)if(u=y.stateNode,h===null)try{u.componentDidMount()}catch(ue){Bn(y,y.return,ue)}else{var w=io(y.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(w,h,u.__reactInternalSnapshotBeforeUpdate)}catch(ue){Bn(y,y.return,ue)}}E&64&&Rx(y),E&512&&uu(y,y.return);break;case 3:if(ko(u,y),E&64&&(E=y.updateQueue,E!==null)){if(u=null,y.child!==null)switch(y.child.tag){case 27:case 5:u=bf(y.child.stateNode);break;case 1:u=y.child.stateNode}try{je(E,u)}catch(ue){Bn(y,y.return,ue)}}break;case 26:if(us){ko(u,y),E&512&&uu(y,y.return);break}case 27:case 5:ko(u,y),h===null&&E&4&&cf(y),E&512&&uu(y,y.return);break;case 12:ko(u,y);break;case 13:ko(u,y),E&4&&mc(u,y);break;case 22:if(w=y.memoizedState!==null||br,!w){h=h!==null&&h.memoizedState!==null||Fi;var N=br,Y=Fi;br=w,(Fi=h)&&!Y?vc(u,y,(y.subtreeFlags&8772)!==0):ko(u,y),br=N,Fi=Y}E&512&&(y.memoizedProps.mode==="manual"?uu(y,y.return):Di(y,y.return));break;default:ko(u,y)}}function df(u){var h=u.alternate;h!==null&&(u.alternate=null,df(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&u0(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function ss(u,h,y){for(y=y.child;y!==null;)tm(u,h,y),y=y.sibling}function tm(u,h,y){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Tf,y)}catch{}switch(y.tag){case 26:if(us){Fi||Di(y,h),ss(u,h,y),y.memoizedState?T0(y.memoizedState):y.stateNode&&R0(y.stateNode);break}case 27:if(Yr){Fi||Di(y,h);var E=ir,w=Ha;ir=y.stateNode,ss(u,h,y),a1(y.stateNode),ir=E,Ha=w;break}case 5:Fi||Di(y,h);case 6:if(Zr){if(E=ir,w=Ha,ir=null,ss(u,h,y),ir=E,Ha=w,ir!==null)if(Ha)try{er(ir,y.stateNode)}catch(N){Bn(y,h,N)}else try{Ma(ir,y.stateNode)}catch(N){Bn(y,h,N)}}else ss(u,h,y);break;case 18:Zr&&ir!==null&&(Ha?A0(ir,y.stateNode):e1(ir,y.stateNode));break;case 4:Zr?(E=ir,w=Ha,ir=y.stateNode.containerInfo,Ha=!0,ss(u,h,y),ir=E,Ha=w):(ls&&Bx(y.stateNode,y,xm()),ss(u,h,y));break;case 0:case 11:case 14:case 15:Fi||pc(2,y,h),Fi||pc(4,y,h),ss(u,h,y);break;case 1:Fi||(Di(y,h),E=y.stateNode,typeof E.componentWillUnmount=="function"&&Dx(y,h,E)),ss(u,h,y);break;case 21:ss(u,h,y);break;case 22:Fi||Di(y,h),Fi=(E=Fi)||y.memoizedState!==null,ss(u,h,y),Fi=E;break;default:ss(u,h,y)}}function mc(u,h){if(Ea&&h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Em(u)}catch(y){Bn(h,h.return,y)}}function hf(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new Uf),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new Uf),h;default:throw Error(n(435,u.tag))}}function Xd(u,h){var y=hf(u);h.forEach(function(E){var w=Jv.bind(null,u,E);y.has(E)||(y.add(E),E.then(w,w))})}function ba(u,h){var y=h.deletions;if(y!==null)for(var E=0;E<y.length;E++){var w=y[E],N=u,Y=h;if(Zr){var ue=Y;e:for(;ue!==null;){switch(ue.tag){case 27:case 5:ir=ue.stateNode,Ha=!1;break e;case 3:ir=ue.stateNode.containerInfo,Ha=!0;break e;case 4:ir=ue.stateNode.containerInfo,Ha=!0;break e}ue=ue.return}if(ir===null)throw Error(n(160));tm(N,Y,w),ir=null,Ha=!1}else tm(N,Y,w);N=w.alternate,N!==null&&(N.return=null),w.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)gc(h,u),h=h.sibling}function gc(u,h){var y=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:ba(h,u),Ua(u),E&4&&(pc(3,u,u.return),$d(3,u),pc(5,u,u.return));break;case 1:ba(h,u),Ua(u),E&512&&(Fi||y===null||Di(y,y.return)),E&64&&br&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(y=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=y===null?E:y.concat(E))));break;case 26:if(us){var w=Ta;ba(h,u),Ua(u),E&512&&(Fi||y===null||Di(y,y.return)),E&4&&(E=y!==null?y.memoizedState:null,h=u.memoizedState,y===null?h===null?u.stateNode===null?u.stateNode=C0(w,u.type,u.memoizedProps,u):w0(w,u.type,u.stateNode):u.stateNode=M0(w,h,u.memoizedProps):E!==h?(E===null?y.stateNode!==null&&R0(y.stateNode):T0(E),h===null?w0(w,u.type,u.stateNode):M0(w,h,u.memoizedProps)):h===null&&u.stateNode!==null&&Vv(u,u.memoizedProps,y.memoizedProps));break}case 27:if(Yr&&E&4&&u.alternate===null){w=u.stateNode;var N=u.memoizedProps;try{cM(w),uM(u.type,N,w,u)}catch(pt){Bn(u,u.return,pt)}}case 5:if(ba(h,u),Ua(u),E&512&&(Fi||y===null||Di(y,y.return)),Zr){if(u.flags&32){h=u.stateNode;try{ah(h)}catch(pt){Bn(u,u.return,pt)}}E&4&&u.stateNode!=null&&(h=u.memoizedProps,Vv(u,h,y!==null?y.memoizedProps:h)),E&1024&&(Lc=!0)}break;case 6:if(ba(h,u),Ua(u),E&4&&Zr){if(u.stateNode===null)throw Error(n(162));E=u.memoizedProps,y=y!==null?y.memoizedProps:E,h=u.stateNode;try{Gx(h,y,E)}catch(pt){Bn(u,u.return,pt)}}break;case 3:if(us?(D0(),w=Ta,Ta=Mm(h.containerInfo),ba(h,u),Ta=w):ba(h,u),Ua(u),E&4){if(Zr&&Ea&&y!==null&&y.memoizedState.isDehydrated)try{Am(h.containerInfo)}catch(pt){Bn(u,u.return,pt)}if(ls){E=h.containerInfo,y=h.pendingChildren;try{y0(E,y)}catch(pt){Bn(u,u.return,pt)}}}Lc&&(Lc=!1,$v(u));break;case 4:us?(y=Ta,Ta=Mm(u.stateNode.containerInfo),ba(h,u),Ua(u),Ta=y):(ba(h,u),Ua(u)),E&4&&ls&&Bx(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:ba(h,u),Ua(u);break;case 13:ba(h,u),Ua(u),u.child.flags&8192&&u.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(tl=Jr()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,Xd(u,E)));break;case 22:E&512&&(Fi||y===null||Di(y,y.return)),w=u.memoizedState!==null;var Y=y!==null&&y.memoizedState!==null,ue=br,Ee=Fi;if(br=ue||w,Fi=Ee||Y,ba(h,u),Fi=Ee,br=ue,Ua(u),h=u.stateNode,h._current=u,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,E&8192&&(h._visibility=w?h._visibility&-2:h._visibility|1,w&&(h=br||Fi,y===null||Y||h||pf(u)),Zr&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(y=null,Zr)for(h=u;;){if(h.tag===5||us&&h.tag===26||Yr&&h.tag===27){if(y===null){Y=y=h;try{N=Y.stateNode,w?sh(N):g0(Y.stateNode,Y.memoizedProps)}catch(pt){Bn(Y,Y.return,pt)}}}else if(h.tag===6){if(y===null){Y=h;try{var $e=Y.stateNode;w?_m($e):Ul($e,Y.memoizedProps)}catch(pt){Bn(Y,Y.return,pt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}}E&4&&(E=u.updateQueue,E!==null&&(y=E.retryQueue,y!==null&&(E.retryQueue=null,Xd(u,y))));break;case 19:ba(h,u),Ua(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,Xd(u,E)));break;case 21:break;default:ba(h,u),Ua(u)}}function Ua(u){var h=u.flags;if(h&2){try{if(Zr&&(!Yr||u.tag!==27)){e:{for(var y=u.return;y!==null;){if(jv(y)){var E=y;break e}y=y.return}throw Error(n(160))}switch(E.tag){case 27:if(Yr){var w=E.stateNode,N=Kp(u);uf(u,N,w);break}case 5:var Y=E.stateNode;E.flags&32&&(ah(Y),E.flags&=-33);var ue=Kp(u);uf(u,ue,Y);break;case 3:case 4:var Ee=E.stateNode.containerInfo,$e=Kp(u);Qp(u,$e,Ee);break;default:throw Error(n(161))}}}catch(pt){Bn(u,u.return,pt)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function $v(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;$v(h),h.tag===5&&h.flags&1024&&mi(h.stateNode),u=u.sibling}}function ko(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)em(u,h.alternate,h),h=h.sibling}function pf(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:pc(4,h,h.return),pf(h);break;case 1:Di(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&Dx(h,h.return,y),pf(h);break;case 26:case 27:case 5:Di(h,h.return),pf(h);break;case 22:Di(h,h.return),h.memoizedState===null&&pf(h);break;default:pf(h)}u=u.sibling}}function vc(u,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var E=h.alternate,w=u,N=h,Y=N.flags;switch(N.tag){case 0:case 11:case 15:vc(w,N,y),$d(4,N);break;case 1:if(vc(w,N,y),E=N,w=E.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch($e){Bn(E,E.return,$e)}if(E=N,w=E.updateQueue,w!==null){var ue=E.stateNode;try{var Ee=w.shared.hiddenCallbacks;if(Ee!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Ee.length;w++)re(Ee[w],ue)}catch($e){Bn(E,E.return,$e)}}y&&Y&64&&Rx(N),uu(N,N.return);break;case 26:case 27:case 5:vc(w,N,y),y&&E===null&&Y&4&&cf(N),uu(N,N.return);break;case 12:vc(w,N,y);break;case 13:vc(w,N,y),y&&Y&4&&mc(w,N);break;case 22:N.memoizedState===null&&vc(w,N,y),uu(N,N.return);break;default:vc(w,N,y)}h=h.sibling}}function Xv(u,h){var y=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==y&&(u!=null&&u.refCount++,y!=null&&af(y))}function nm(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&af(u))}function Sl(u,h,y,E){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)im(u,h,y,E),h=h.sibling}function im(u,h,y,E){var w=h.flags;switch(h.tag){case 0:case 11:case 15:Sl(u,h,y,E),w&2048&&$d(9,h);break;case 3:Sl(u,h,y,E),w&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&af(u)));break;case 12:if(w&2048){Sl(u,h,y,E),u=h.stateNode;try{var N=h.memoizedProps,Y=N.id,ue=N.onPostCommit;typeof ue=="function"&&ue(Y,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ee){Bn(h,h.return,Ee)}}else Sl(u,h,y,E);break;case 23:break;case 22:N=h.stateNode,h.memoizedState!==null?N._visibility&4?Sl(u,h,y,E):_c(u,h):N._visibility&4?Sl(u,h,y,E):(N._visibility|=4,sa(u,h,y,E,(h.subtreeFlags&10256)!==0)),w&2048&&Xv(h.alternate,h);break;case 24:Sl(u,h,y,E),w&2048&&nm(h.alternate,h);break;default:Sl(u,h,y,E)}}function sa(u,h,y,E,w){for(w=w&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var N=u,Y=h,ue=y,Ee=E,$e=Y.flags;switch(Y.tag){case 0:case 11:case 15:sa(N,Y,ue,Ee,w),$d(8,Y);break;case 23:break;case 22:var pt=Y.stateNode;Y.memoizedState!==null?pt._visibility&4?sa(N,Y,ue,Ee,w):_c(N,Y):(pt._visibility|=4,sa(N,Y,ue,Ee,w)),w&&$e&2048&&Xv(Y.alternate,Y);break;case 24:sa(N,Y,ue,Ee,w),w&&$e&2048&&nm(Y.alternate,Y);break;default:sa(N,Y,ue,Ee,w)}h=h.sibling}}function _c(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=u,E=h,w=E.flags;switch(E.tag){case 22:_c(y,E),w&2048&&Xv(E.alternate,E);break;case 24:_c(y,E),w&2048&&nm(E.alternate,E);break;default:_c(y,E)}h=h.sibling}}function Rr(u){if(u.subtreeFlags&Tu)for(u=u.child;u!==null;)fu(u),u=u.sibling}function fu(u){switch(u.tag){case 26:Rr(u),u.flags&Tu&&(u.memoizedState!==null?U0(Ta,u.memoizedState,u.memoizedProps):Gi(u.type,u.memoizedProps));break;case 5:Rr(u),u.flags&Tu&&Gi(u.type,u.memoizedProps);break;case 3:case 4:if(us){var h=Ta;Ta=Mm(u.stateNode.containerInfo),Rr(u),Ta=h}else Rr(u);break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=Tu,Tu=16777216,Rr(u),Tu=h):Rr(u));break;default:Rr(u)}}function rm(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function yc(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Zi=E,xc(E,u)}rm(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Zd(u),u=u.sibling}function Zd(u){switch(u.tag){case 0:case 11:case 15:yc(u),u.flags&2048&&pc(9,u,u.return);break;case 3:yc(u);break;case 12:yc(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&4&&(u.return===null||u.return.tag!==13)?(h._visibility&=-5,mf(u)):yc(u);break;default:yc(u)}}function mf(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Zi=E,xc(E,u)}rm(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:pc(8,h,h.return),mf(h);break;case 22:y=h.stateNode,y._visibility&4&&(y._visibility&=-5,mf(h));break;default:mf(h)}u=u.sibling}}function xc(u,h){for(;Zi!==null;){var y=Zi;switch(y.tag){case 0:case 11:case 15:pc(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var E=y.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:af(y.memoizedState.cache)}if(E=y.child,E!==null)E.return=y,Zi=E;else e:for(y=u;Zi!==null;){E=Zi;var w=E.sibling,N=E.return;if(df(E),E===y){Zi=null;break e}if(w!==null){w.return=N,Zi=w;break e}Zi=N}}}function am(u){var h=l0(u);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(n(364));return h}if(u=xu(u),u===null)throw Error(n(362));return u.stateNode.current}function gf(u,h){var y=u.tag;switch(h.$$typeof){case bh:if(u.type===h.value)return!0;break;case zm:e:{for(h=h.value,u=[u,0],y=0;y<u.length;){var E=u[y++],w=E.tag,N=u[y++],Y=h[N];if(w!==5&&w!==26&&w!==27||!qo(E)){for(;Y!=null&&gf(E,Y);)N++,Y=h[N];if(N===h.length){h=!0;break e}else for(E=E.child;E!==null;)u.push(E,N),E=E.sibling}}h=!1}return h;case Lm:if((y===5||y===26||y===27)&&rM(u.stateNode,h.value))return!0;break;case si:if((y===5||y===6||y===26||y===27)&&(u=rh(u),u!==null&&0<=u.indexOf(h.value)))return!0;break;case Gn:if((y===5||y===26||y===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(n(365))}return!1}function bc(u){switch(u.$$typeof){case bh:return"<"+(s(u.value)||"Unknown")+">";case zm:return":has("+(bc(u)||"")+")";case Lm:return'[role="'+u.value+'"]';case si:return'"'+u.value+'"';case Gn:return'[data-testname="'+u.value+'"]';default:throw Error(n(365))}}function Ux(u,h){var y=[];u=[u,0];for(var E=0;E<u.length;){var w=u[E++],N=w.tag,Y=u[E++],ue=h[Y];if(N!==5&&N!==26&&N!==27||!qo(w)){for(;ue!=null&&gf(w,ue);)Y++,ue=h[Y];if(Y===h.length)y.push(w);else for(w=w.child;w!==null;)u.push(w,Y),w=w.sibling}}return y}function Sa(u,h){if(!Jo)throw Error(n(363));u=am(u),u=Ux(u,h),h=[],u=Array.from(u);for(var y=0;y<u.length;){var E=u[y++],w=E.tag;if(w===5||w===26||w===27)qo(E)||h.push(E.stateNode);else for(E=E.child;E!==null;)u.push(E),E=E.sibling}return h}function Aa(){if((Zt&2)!==0&&Sn!==0)return Sn&-Sn;if(Jt.T!==null){var u=Pa;return u!==0?u:ye()}return Fs()}function Go(){ka===0&&(ka=(Sn&536870912)===0||Xn?F():536870912);var u=vs.current;return u!==null&&(u.flags|=32),ka}function oa(u,h,y){(u===Tn&&gi===2||u.cancelPendingCommit!==null)&&(ao(u,0),ro(u,Sn,ka,!1)),G(u,y),((Zt&2)===0||u!==Tn)&&(u===Tn&&((Zt&2)===0&&(ho|=y),Vn===4&&ro(u,Sn,ka,!1)),rt(u))}function Yd(u,h,y){if((Zt&6)!==0)throw Error(n(327));var E=!y&&(h&60)===0&&(h&u.expiredLanes)===0||L(u,h),w=E?$o(u,h):Vo(u,h,!0),N=E;do{if(w===0){_s&&!E&&ro(u,h,0,!1);break}else if(w===6)ro(u,h,0,!oi);else{if(y=u.current.alternate,N&&!Ox(y)){w=Vo(u,h,!1),N=!1;continue}if(w===2){if(N=h,u.errorRecoveryDisabledLanes&N)var Y=0;else Y=u.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){h=Y;e:{var ue=u;w=Of;var Ee=Ea&&ue.current.memoizedState.isDehydrated;if(Ee&&(ao(ue,Y).flags|=256),Y=Vo(ue,Y,!1),Y!==2){if(Pl&&!Ee){ue.errorRecoveryDisabledLanes|=N,ho|=N,w=4;break e}N=xs,xs=w,N!==null&&Al(N)}w=Y}if(N=!1,w!==2)continue}}if(w===1){ao(u,0),ro(u,h,0,!0);break}e:{switch(E=u,w){case 0:case 1:throw Error(n(345));case 4:if((h&4194176)===h){ro(E,h,ka,!oi);break e}break;case 2:xs=null;break;case 3:case 5:break;default:throw Error(n(329))}if(E.finishedWork=y,E.finishedLanes=h,(h&62914560)===h&&(N=tl+300-Jr(),10<N)){if(ro(E,h,ka,!oi),I(E,0)!==0)break e;E.timeoutHandle=o0(sm.bind(null,E,y,xs,po,Nf,h,ka,ho,Fl,oi,2,-0,0),N);break e}sm(E,y,xs,po,Nf,h,ka,ho,Fl,oi,0,-0,0)}}break}while(!0);rt(u)}function Al(u){xs===null?xs=u:xs.push.apply(xs,u)}function sm(u,h,y,E,w,N,Y,ue,Ee,$e,pt,At,Rt){var cn=h.subtreeFlags;if((cn&8192||(cn&16785408)===16785408)&&(cs(),fu(h),h=mm(),h!==null)){u.cancelPendingCommit=h(Ai.bind(null,u,y,E,w,Y,ue,Ee,1,At,Rt)),ro(u,N,Y,!$e);return}Ai(u,y,E,w,Y,ue,Ee,pt,At,Rt)}function Ox(u){for(var h=u;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var E=0;E<y.length;E++){var w=y[E],N=w.getSnapshot;w=w.value;try{if(!fs(N(),w))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ro(u,h,y,E){h&=~ha,h&=~ho,u.suspendedLanes|=h,u.pingedLanes&=~h,E&&(u.warmLanes|=h),E=u.expirationTimes;for(var w=h;0<w;){var N=31-za(w),Y=1<<N;E[N]=-1,w&=~Y}y!==0&&te(u,y,h)}function Zv(){return(Zt&6)===0?(K(0),!1):!0}function Oa(){if(fn!==null){if(gi===0)var u=fn.return;else u=fn,Xi=zc=null,j(u),Ko=null,Gs=0,u=fn;for(;u!==null;)Gv(u.alternate,u),u=u.return;fn=null}}function ao(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;y!==yu&&(u.timeoutHandle=yu,ih(y)),y=u.cancelPendingCommit,y!==null&&(u.cancelPendingCommit=null,y()),Oa(),Tn=u,fn=y=la(u.current,null),Sn=h,gi=0,rr=null,oi=!1,_s=L(u,h),Pl=!1,Fl=ka=ha=ho=ys=Vn=0,xs=Of=null,Nf=!1,(h&8)!==0&&(h|=h&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=h;0<E;){var w=31-za(E),N=1<<w;h|=u[w],E&=~N}return fo=h,Ie(),y}function du(u,h){mn=null,Jt.H=Zn,h===fi?(h=vt(),gi=3):h===z0?(h=vt(),gi=4):gi=h===d1?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,rr=h,fn===null&&(Vn=1,$p(u,ve(h,u.current)))}function Jd(){var u=vs.current;return u===null?!0:(Sn&4194176)===Sn?Vs===null:(Sn&62914560)===Sn||(Sn&536870912)!==0?u===Vs:!1}function vf(){var u=Jt.H;return Jt.H=Zn,u===null?Zn:u}function os(){var u=Jt.A;return Jt.A=Im,u}function Na(){Vn=4,oi||(Sn&4194176)!==Sn&&vs.current!==null||(_s=!0),(ys&134217727)===0&&(ho&134217727)===0||Tn===null||ro(Tn,Sn,ka,!1)}function Vo(u,h,y){var E=Zt;Zt|=2;var w=vf(),N=os();(Tn!==u||Sn!==h)&&(po=null,ao(u,h)),h=!1;var Y=Vn;e:do try{if(gi!==0&&fn!==null){var ue=fn,Ee=rr;switch(gi){case 8:Oa(),Y=6;break e;case 3:case 2:case 6:vs.current===null&&(h=!0);var $e=gi;if(gi=0,rr=null,Sc(u,ue,Ee,$e),y&&_s){Y=0;break e}break;default:$e=gi,gi=0,rr=null,Sc(u,ue,Ee,$e)}}jo(),Y=Vn;break}catch(pt){du(u,pt)}while(!0);return h&&u.shellSuspendCounter++,Xi=zc=null,Zt=E,Jt.H=w,Jt.A=N,fn===null&&(Tn=null,Sn=0,Ie()),Y}function jo(){for(;fn!==null;)Yv(fn)}function $o(u,h){var y=Zt;Zt|=2;var E=vf(),w=os();Tn!==u||Sn!==h?(po=null,Hi=Jr()+500,ao(u,h)):_s=L(u,h);e:do try{if(gi!==0&&fn!==null){h=fn;var N=rr;t:switch(gi){case 1:gi=0,rr=null,Sc(u,h,N,1);break;case 2:if(ht(N)){gi=0,rr=null,om(h);break}h=function(){gi===2&&Tn===u&&(gi=7),rt(u)},N.then(h,h);break e;case 3:gi=7;break e;case 4:gi=5;break e;case 7:ht(N)?(gi=0,rr=null,om(h)):(gi=0,rr=null,Sc(u,h,N,7));break;case 5:var Y=null;switch(fn.tag){case 26:Y=fn.memoizedState;case 5:case 27:var ue=fn,Ee=ue.type,$e=ue.pendingProps;if(Y?B0(Y):Bl(Ee,$e)){gi=0,rr=null;var pt=ue.sibling;if(pt!==null)fn=pt;else{var At=ue.return;At!==null?(fn=At,qd(At)):fn=null}break t}}gi=0,rr=null,Sc(u,h,N,5);break;case 6:gi=0,rr=null,Sc(u,h,N,6);break;case 8:Oa(),Vn=6;break e;default:throw Error(n(462))}}El();break}catch(Rt){du(u,Rt)}while(!0);return Xi=zc=null,Jt.H=E,Jt.A=w,Zt=y,fn!==null?0:(Tn=null,Sn=0,Ie(),Vn)}function El(){for(;fn!==null&&!o1();)Yv(fn)}function Yv(u){var h=Mx(u.alternate,u,fo);u.memoizedProps=u.pendingProps,h===null?qd(u):fn=h}function om(u){var h=u,y=h.alternate;switch(h.tag){case 15:case 0:h=xx(y,h,h.pendingProps,h.type,void 0,Sn);break;case 11:h=xx(y,h,h.pendingProps,h.type.render,h.ref,Sn);break;case 5:j(h);default:Gv(y,h),h=fn=Cl(h,fo),h=Mx(y,h,fo)}u.memoizedProps=u.pendingProps,h===null?qd(u):fn=h}function Sc(u,h,y,E){Xi=zc=null,j(h),Ko=null,Gs=0;var w=h.return;try{if(mx(u,w,h,y,Sn)){Vn=1,$p(u,ve(y,u.current)),fn=null;return}}catch(N){if(w!==null)throw fn=w,N;Vn=1,$p(u,ve(y,u.current)),fn=null;return}h.flags&32768?(Xn||E===1?u=!0:_s||(Sn&536870912)!==0?u=!1:(oi=u=!0,(E===2||E===3||E===6)&&(E=vs.current,E!==null&&E.tag===13&&(E.flags|=16384))),Dr(h,u)):qd(h)}function qd(u){var h=u;do{if((h.flags&32768)!==0){Dr(h,oi);return}u=h.return;var y=Cx(h.alternate,h,fo);if(y!==null){fn=y;return}if(h=h.sibling,h!==null){fn=h;return}fn=h=u}while(h!==null);Vn===0&&(Vn=5)}function Dr(u,h){do{var y=wx(u.alternate,u);if(y!==null){y.flags&=32767,fn=y;return}if(y=u.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(u=u.sibling,u!==null)){fn=u;return}fn=u=y}while(u!==null);Vn=6,fn=null}function Ai(u,h,y,E,w,N,Y,ue,Ee,$e){var pt=Jt.T,At=xr();try{ca(2),Jt.T=null,Ln(u,h,y,E,At,w,N,Y,ue,Ee,$e)}finally{Jt.T=pt,ca(At)}}function Ln(u,h,y,E,w,N,Y,ue){do Br();while(Hl!==null);if((Zt&6)!==0)throw Error(n(327));var Ee=u.finishedWork;if(E=u.finishedLanes,Ee===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ee===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var $e=Ee.lanes|Ee.childLanes;if($e|=wf,X(u,E,$e,N,Y,ue),u===Tn&&(fn=Tn=null,Sn=0),(Ee.subtreeFlags&10256)===0&&(Ee.flags&10256)===0||$s||($s=!0,Pm=$e,wu=y,Wd(Cm,function(){return Br(),null})),y=(Ee.flags&15990)!==0,(Ee.subtreeFlags&15990)!==0||y?(y=Jt.T,Jt.T=null,N=xr(),ca(2),Y=Zt,Zt|=4,ff(u,Ee),gc(Ee,u),a0(u.containerInfo),u.current=Ee,em(u,Ee.alternate,Ee),l1(),Zt=Y,ca(N),Jt.T=y):u.current=Ee,$s?($s=!1,Hl=u,Cu=E):Ml(u,$e),$e=u.pendingLanes,$e===0&&(bs=null),V(Ee.stateNode),rt(u),h!==null)for(w=u.onRecoverableError,Ee=0;Ee<h.length;Ee++)$e=h[Ee],w($e.value,{componentStack:$e.stack});return(Cu&3)!==0&&Br(),$e=u.pendingLanes,(E&4194218)!==0&&($e&42)!==0?u===Ca?Ru++:(Ru=0,Ca=u):Ru=0,K(0),null}function Ml(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,af(h)))}function Br(){if(Hl!==null){var u=Hl,h=Pm;Pm=0;var y=le(Cu),E=32>y?32:y;y=Jt.T;var w=xr();try{if(ca(E),Jt.T=null,Hl===null)var N=!1;else{E=wu,wu=null;var Y=Hl,ue=Cu;if(Hl=null,Cu=0,(Zt&6)!==0)throw Error(n(331));var Ee=Zt;if(Zt|=4,Zd(Y.current),im(Y,Y.current,ue,E),Zt=Ee,K(0,!1),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Tf,Y)}catch{}N=!0}return N}finally{ca(w),Jt.T=y,Ml(u,h)}}return!1}function lm(u,h,y){h=ve(y,h),h=Fd(u.stateNode,h,2),u=tt(u,h,2),u!==null&&(G(u,2),rt(u))}function Bn(u,h,y){if(u.tag===3)lm(u,u,y);else for(;h!==null;){if(h.tag===3){lm(h,u,y);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(bs===null||!bs.has(E))){u=ve(y,u),y=rf(2),E=tt(h,y,2),E!==null&&(Hd(y,E,h,u),G(E,2),rt(E));break}}h=h.return}}function cm(u,h,y){var E=u.pingCache;if(E===null){E=u.pingCache=new Un;var w=new Set;E.set(h,w)}else w=E.get(h),w===void 0&&(w=new Set,E.set(h,w));w.has(y)||(Pl=!0,w.add(y),u=Nx.bind(null,u,h,y),h.then(u,u))}function Nx(u,h,y){var E=u.pingCache;E!==null&&E.delete(h),u.pingedLanes|=u.suspendedLanes&y,u.warmLanes&=~y,Tn===u&&(Sn&y)===y&&(Vn===4||Vn===3&&(Sn&62914560)===Sn&&300>Jr()-tl?(Zt&2)===0&&ao(u,0):ha|=y,Fl===Sn&&(Fl=0)),rt(u)}function hu(u,h){h===0&&(h=O()),u=ae(u,h),u!==null&&(G(u,h),rt(u))}function pu(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),hu(u,y)}function Jv(u,h){var y=0;switch(u.tag){case 13:var E=u.stateNode,w=u.memoizedState;w!==null&&(y=w.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(h),hu(u,y)}function Wd(u,h){return Mf(u,h)}function qv(u,h,y,E){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tl(u){return u=u.prototype,!(!u||!u.isReactComponent)}function la(u,h){var y=u.alternate;return y===null?(y=t(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&31457280,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y.refCleanup=u.refCleanup,y}function Cl(u,h){u.flags&=31457282;var y=u.alternate;return y===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,h=y.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function Ps(u,h,y,E,w,N){var Y=0;if(E=u,typeof u=="function")Tl(u)&&(Y=1);else if(typeof u=="string")Y=us&&Yr?E0(u,y,Or.current)?26:Af(u)?27:5:us?E0(u,y,Or.current)?26:5:Yr&&Af(u)?27:5;else e:switch(u){case yf:return wl(y.children,w,N,h);case t0:Y=8,w|=24;break;case n0:return u=t(12,y,h,w|2),u.elementType=n0,u.lanes=N,u;case fm:return u=t(13,y,h,w),u.elementType=fm,u.lanes=N,u;case Mc:return u=t(19,y,h,w),u.elementType=Mc,u.lanes=N,u;case eh:return um(y,w,N,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Lx:case Xo:Y=10;break e;case Ec:Y=9;break e;case xf:Y=11;break e;case Qd:Y=14;break e;case oo:Y=16,E=null;break e}Y=29,y=Error(n(130,u===null?"null":typeof u,"")),E=null}return h=t(Y,y,h,w),h.elementType=u,h.type=E,h.lanes=N,h}function wl(u,h,y,E){return u=t(7,u,E,h),u.lanes=y,u}function um(u,h,y,E){u=t(22,u,E,h),u.elementType=eh,u.lanes=y;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=w._current;if(N===null)throw Error(n(456));if((w._pendingVisibility&2)===0){var Y=ae(N,2);Y!==null&&(w._pendingVisibility|=2,oa(Y,N,2))}},attach:function(){var N=w._current;if(N===null)throw Error(n(456));if((w._pendingVisibility&2)!==0){var Y=ae(N,2);Y!==null&&(w._pendingVisibility&=-3,oa(Y,N,2))}}};return u.stateNode=w,u}function Ac(u,h,y){return u=t(6,u,null,h),u.lanes=y,u}function _f(u,h,y){return h=t(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function mu(u,h,y,E,w,N,Y,ue){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=yu,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=E,this.onUncaughtError=w,this.onCaughtError=N,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function Ur(u,h,y,E,w,N,Y,ue,Ee,$e,pt,At){return u=new mu(u,h,y,Y,ue,Ee,$e,At),h=1,N===!0&&(h|=24),N=t(3,null,null,h),u.current=N,N.stateNode=u,h=Jp(),h.refCount++,u.pooledCache=h,h.refCount++,N.memoizedState={element:E,isDehydrated:y,cache:h},_t(N),u}function Kd(u){return u?(u=bu,u):bu}function Wv(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=x(h),u=u!==null?b(u):null,u===null?null:bf(u.stateNode)}function Ix(u,h,y,E,w,N){w=Kd(w),E.context===null?E.context=w:E.pendingContext=w,E=Ke(h),E.payload={element:y},N=N===void 0?null:N,N!==null&&(E.callback=N),y=tt(u,E,h),y!==null&&(oa(y,u,h),St(y,u,h))}function zx(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function Kv(u,h){zx(u,h),(u=u.alternate)&&zx(u,h)}var Xt={},Qv=Rp(),Xr=vH(),gu=Object.assign,e0=Symbol.for("react.element"),Rl=Symbol.for("react.transitional.element"),so=Symbol.for("react.portal"),yf=Symbol.for("react.fragment"),t0=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),Lx=Symbol.for("react.provider"),Ec=Symbol.for("react.consumer"),Xo=Symbol.for("react.context"),xf=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),Mc=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),oo=Symbol.for("react.lazy"),eh=Symbol.for("react.offscreen"),Px=Symbol.for("react.memo_cache_sentinel"),i0=Symbol.iterator,vu=Symbol.for("react.client.reference"),Jt=Qv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dm,r0,Tc=!1,Cc=Array.isArray,hm=e.rendererVersion,th=e.rendererPackageName,nh=e.extraDevToolsConfig,bf=e.getPublicInstance,_u=e.getRootHostContext,Fx=e.getChildHostContext,wc=e.prepareForCommit,a0=e.resetAfterCommit,s0=e.createInstance,Zo=e.appendInitialChild,Dl=e.finalizeInitialChildren,Rc=e.shouldSetTextContent,pm=e.createTextInstance,o0=e.scheduleTimeout,ih=e.cancelTimeout,yu=e.noTimeout,Yo=e.isPrimaryRenderer;e.warnsIfNotActing;var Zr=e.supportsMutation,ls=e.supportsPersistence,Ea=e.supportsHydration,l0=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var c0=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ca=e.setCurrentUpdatePriority,xr=e.getCurrentUpdatePriority,Fs=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Dc=e.shouldAttemptEagerTransition,u0=e.detachDeletedInstance;e.requestPostPaintCallback;var Hx=e.maySuspendCommit,Bl=e.preloadInstance,cs=e.startSuspendingCommit,Gi=e.suspendInstance,mm=e.waitForCommitToBeReady,Ia=e.NotPendingTransition,tn=e.HostTransitionContext,mi=e.resetFormInstance;e.bindToConsole;var hr=e.supportsMicrotasks,gm=e.scheduleMicrotask,Jo=e.supportsTestSelectors,xu=e.findFiberRoot,vm=e.getBoundingRect,rh=e.getTextContent,qo=e.isHiddenSubtree,rM=e.matchAccessibilityRole,Vi=e.setFocusIfFocusable,f0=e.setupIntersectionObserver,d0=e.appendChild,kx=e.appendChildToContainer,Gx=e.commitTextUpdate,aM=e.commitMount,h0=e.commitUpdate,p0=e.insertBefore,m0=e.insertInContainerBefore,Ma=e.removeChild,er=e.removeChildFromContainer,ah=e.resetTextContent,sh=e.hideInstance,_m=e.hideTextInstance,g0=e.unhideInstance,Ul=e.unhideTextInstance,ym=e.clearContainer,v0=e.cloneInstance,xm=e.createContainerChildSet,_0=e.appendChildToContainerChildSet,Vx=e.finalizeContainerChildren,y0=e.replaceContainerChildren,x0=e.cloneHiddenInstance,b0=e.cloneHiddenTextInstance,bm=e.isSuspenseInstancePending,oh=e.isSuspenseInstanceFallback,jx=e.getSuspenseInstanceFallbackErrorDetails,sM=e.registerSuspenseInstanceRetry,$x=e.canHydrateFormStateMarker,Xx=e.isFormStateMarkerMatching,S0=e.getNextHydratableSibling,Sm=e.getFirstHydratableChild,Zx=e.getFirstHydratableChildWithinContainer,Yx=e.getFirstHydratableChildWithinSuspenseInstance,Jx=e.canHydrateInstance,qx=e.canHydrateTextInstance,Wx=e.canHydrateSuspenseInstance,oM=e.hydrateInstance,Kx=e.hydrateTextInstance,Sf=e.hydrateSuspenseInstance,Qx=e.getNextHydratableInstanceAfterSuspenseInstance,Am=e.commitHydratedContainer,Em=e.commitHydratedSuspenseInstance,e1=e.clearSuspenseBoundary,A0=e.clearSuspenseBoundaryFromContainer,t1=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var n1=e.validateHydratableInstance,i1=e.validateHydratableTextInstance,us=e.supportsResources,E0=e.isHostHoistableType,Mm=e.getHoistableRoot,Tm=e.getResource,M0=e.acquireResource,T0=e.releaseResource,C0=e.hydrateHoistable,w0=e.mountHoistable,R0=e.unmountHoistable,lM=e.createHoistableInstance,D0=e.prepareToCommitHoistables,r1=e.mayResourceSuspendCommit,B0=e.preloadResource,U0=e.suspendResource,Yr=e.supportsSingletons,O0=e.resolveSingletonInstance,cM=e.clearSingleton,uM=e.acquireSingletonInstance,a1=e.releaseSingletonInstance,Af=e.isHostSingletonType,lh=[],Ol=-1,bu={},za=Math.clz32?Math.clz32:B,ch=Math.log,s1=Math.LN2,Ef=128,uh=4194304,Mf=Xr.unstable_scheduleCallback,fh=Xr.unstable_cancelCallback,o1=Xr.unstable_shouldYield,l1=Xr.unstable_requestPaint,Jr=Xr.unstable_now,N0=Xr.unstable_ImmediatePriority,c1=Xr.unstable_UserBlockingPriority,Cm=Xr.unstable_NormalPriority,wm=Xr.unstable_IdlePriority,u1=Xr.log,I0=Xr.unstable_setDisableYieldValue,Tf=null,La=null,fs=typeof Object.is=="function"?Object.is:ee,Rm=new WeakMap,Bi=[],ji=0,dh=null,hh=0,ds=[],hs=0,lo=null,Wo=1,Hs="",Or=T(null),ph=T(null),co=T(null),Cf=T(null),ua=null,qr=null,Xn=!1,ps=null,ks=!1,mh=Error(n(519)),ms=[],Bc=0,wf=0,Rf=null,Su=null,gh=!1,vh=!1,uo=!1,Uc=0,_h=null,Dm=0,Pa=0,Oc=null,Nl=!1,Df=!1,yh=Object.prototype.hasOwnProperty,fi=Error(n(460)),z0=Error(n(474)),Bm={then:function(){}},Au=null,Ko=null,Gs=0,Nc=qt(!0),L0=qt(!1),Qo=T(null),gs=T(0),vs=T(null),Vs=null,pr=T(0),el=0,mn=null,ri=null,tr=null,js=!1,Ui=!1,Il=!1,xh=0,$i=0,Bf=null,f1=0,Um=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Zn={readContext:$r,use:ge,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot};Zn.useCacheRefresh=Ot,Zn.useMemoCache=Ot,Zn.useHostTransitionStatus=Ot,Zn.useFormState=Ot,Zn.useActionState=Ot,Zn.useOptimistic=Ot;var mr={readContext:$r,use:ge,useCallback:function(u,h){return pe().memoizedState=[u,h===void 0?null:h],u},useContext:$r,useEffect:Mv,useImperativeHandle:function(u,h,y){y=y!=null?y.concat([u]):null,Fp(4194308,4,Nd.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Fp(4194308,4,u,h)},useInsertionEffect:function(u,h){Fp(4,2,u,h)},useMemo:function(u,h){var y=pe();h=h===void 0?null:h;var E=u();if(Il){q(!0);try{u()}finally{q(!1)}}return y.memoizedState=[E,h],E},useReducer:function(u,h,y){var E=pe();if(y!==void 0){var w=y(h);if(Il){q(!0);try{y(h)}finally{q(!1)}}}else w=h;return E.memoizedState=E.baseState=w,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:w},E.queue=u,u=u.dispatch=lc.bind(null,mn,u),[E.memoizedState,u]},useRef:function(u){var h=pe();return u={current:u},h.memoizedState=u},useState:function(u){u=bn(u);var h=u.queue,y=Vp.bind(null,mn,h);return h.dispatch=y,[u.memoizedState,y]},useDebugValue:Id,useDeferredValue:function(u,h){var y=pe();return oc(y,u,h)},useTransition:function(){var u=bn(!1);return u=kp.bind(null,mn,u.queue,!0,!1),pe().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,y){var E=mn,w=pe();if(Xn){if(y===void 0)throw Error(n(407));y=y()}else{if(y=h(),Tn===null)throw Error(n(349));(Sn&60)!==0||Nt(E,h,y)}w.memoizedState=y;var N={value:y,getSnapshot:h};return w.queue=N,Mv(_n.bind(null,E,N,u),[u]),E.flags|=2048,xa(9,ln.bind(null,E,N,y,h),{destroy:void 0},null),y},useId:function(){var u=pe(),h=Tn.identifierPrefix;if(Xn){var y=Hs,E=Wo;y=(E&~(1<<32-za(E)-1)).toString(32)+y,h=":"+h+"R"+y,y=xh++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=f1++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},useCacheRefresh:function(){return pe().memoizedState=zd.bind(null,mn)}};mr.useMemoCache=ke,mr.useHostTransitionStatus=au,mr.useFormState=Vr,mr.useActionState=Vr,mr.useOptimistic=function(u){var h=pe();h.memoizedState=h.baseState=u;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=jp.bind(null,mn,!0,y),y.dispatch=h,[u,h]};var fa={readContext:$r,use:ge,useCallback:Hp,useContext:$r,useEffect:Od,useImperativeHandle:Fo,useInsertionEffect:hx,useLayoutEffect:px,useMemo:ru,useReducer:wt,useRef:iu,useState:function(){return wt(ft)},useDebugValue:Id,useDeferredValue:function(u,h){var y=Ae();return Tv(y,ri.memoizedState,u,h)},useTransition:function(){var u=wt(ft)[0],h=Ae().memoizedState;return[typeof u=="boolean"?u:Ue(u),h]},useSyncExternalStore:Ht,useId:Ho};fa.useCacheRefresh=Gp,fa.useMemoCache=ke,fa.useHostTransitionStatus=au,fa.useFormState=ra,fa.useActionState=ra,fa.useOptimistic=function(u,h){var y=Ae();return Bt(y,ri,u,h)};var Ic={readContext:$r,use:ge,useCallback:Hp,useContext:$r,useEffect:Od,useImperativeHandle:Fo,useInsertionEffect:hx,useLayoutEffect:px,useMemo:ru,useReducer:Ut,useRef:iu,useState:function(){return Ut(ft)},useDebugValue:Id,useDeferredValue:function(u,h){var y=Ae();return ri===null?oc(y,u,h):Tv(y,ri.memoizedState,u,h)},useTransition:function(){var u=Ut(ft)[0],h=Ae().memoizedState;return[typeof u=="boolean"?u:Ue(u),h]},useSyncExternalStore:Ht,useId:Ho};Ic.useCacheRefresh=Gp,Ic.useMemoCache=ke,Ic.useHostTransitionStatus=au,Ic.useFormState=nu,Ic.useActionState=nu,Ic.useOptimistic=function(u,h){var y=Ae();return ri!==null?Bt(y,ri,u,h):(y.baseState=u,[u,y.queue.dispatch])};var Om={isMounted:function(u){return(u=u._reactInternals)?g(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var E=Aa(),w=Ke(E);w.payload=h,y!=null&&(w.callback=y),h=tt(u,w,E),h!==null&&(oa(h,u,E),St(h,u,E))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var E=Aa(),w=Ke(E);w.tag=1,w.payload=h,y!=null&&(w.callback=y),h=tt(u,w,E),h!==null&&(oa(h,u,E),St(h,u,E))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=Aa(),E=Ke(y);E.tag=2,h!=null&&(E.callback=h),h=tt(u,E,y),h!==null&&(oa(h,u,y),St(h,u,y))}},P0=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},d1=Error(n(461)),nr=!1,da={dehydrated:null,treeContext:null,retryLane:0},Fa=T(null),zc=null,Xi=null,h1=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(y,E){u.push(E)}};this.abort=function(){h.aborted=!0,u.forEach(function(y){return y()})}},zl=Xr.unstable_scheduleCallback,Eu=Xr.unstable_NormalPriority,ai={$$typeof:Xo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Nm=Jt.S;Jt.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&xe(u,h),Nm!==null&&Nm(u,h)};var Ll=T(null),br=!1,Fi=!1,Lc=!1,Uf=typeof WeakSet=="function"?WeakSet:Set,Zi=null,Mu=!1,ir=null,Ha=!1,Ta=null,Tu=8192,Im={getCacheForType:function(u){var h=$r(ai),y=h.data.get(u);return y===void 0&&(y=u(),h.data.set(u,y)),y}},bh=0,zm=1,Lm=2,Gn=3,si=4;if(typeof Symbol=="function"&&Symbol.for){var gn=Symbol.for;bh=gn("selector.component"),zm=gn("selector.has_pseudo_class"),Lm=gn("selector.role"),Gn=gn("selector.test_id"),si=gn("selector.text")}var Un=typeof WeakMap=="function"?WeakMap:Map,Zt=0,Tn=null,fn=null,Sn=0,gi=0,rr=null,oi=!1,_s=!1,Pl=!1,fo=0,Vn=0,ys=0,ho=0,ha=0,ka=0,Fl=0,Of=null,xs=null,Nf=!1,tl=0,Hi=1/0,po=null,bs=null,$s=!1,Hl=null,Cu=0,Pm=0,wu=null,Ru=0,Ca=null;return Xt.attemptContinuousHydration=function(u){if(u.tag===13){var h=ae(u,67108864);h!==null&&oa(h,u,67108864),Kv(u,67108864)}},Xt.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var h=Aa(),y=ae(u,h);y!==null&&oa(y,u,h),Kv(u,h)}},Xt.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=D(u.pendingLanes);if(h!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;h;){var y=1<<31-za(h);u.entanglements[1]|=y,h&=~y}rt(u),(Zt&6)===0&&(Hi=Jr()+500,K(0))}}break;case 13:h=ae(u,2),h!==null&&oa(h,u,2),Zv(),Kv(u,2)}},Xt.batchedUpdates=function(u,h){return u(h)},Xt.createComponentSelector=function(u){return{$$typeof:bh,value:u}},Xt.createContainer=function(u,h,y,E,w,N,Y,ue,Ee,$e){return Ur(u,h,!1,null,y,E,N,Y,ue,Ee,$e,null)},Xt.createHasPseudoClassSelector=function(u){return{$$typeof:zm,value:u}},Xt.createHydrationContainer=function(u,h,y,E,w,N,Y,ue,Ee,$e,pt,At,Rt){return u=Ur(y,E,!0,u,w,N,ue,Ee,$e,pt,At,Rt),u.context=Kd(null),y=u.current,E=Aa(),w=Ke(E),w.callback=h??null,tt(y,w,E),u.current.lanes=E,G(u,E),rt(u),u},Xt.createPortal=function(u,h,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:E==null?null:""+E,children:u,containerInfo:h,implementation:y}},Xt.createRoleSelector=function(u){return{$$typeof:Lm,value:u}},Xt.createTestNameSelector=function(u){return{$$typeof:Gn,value:u}},Xt.createTextSelector=function(u){return{$$typeof:si,value:u}},Xt.defaultOnCaughtError=function(u){console.error(u)},Xt.defaultOnRecoverableError=function(u){P0(u)},Xt.defaultOnUncaughtError=function(u){P0(u)},Xt.deferredUpdates=function(u){var h=Jt.T,y=xr();try{return ca(32),Jt.T=null,u()}finally{ca(y),Jt.T=h}},Xt.discreteUpdates=function(u,h,y,E,w){var N=Jt.T,Y=xr();try{return ca(2),Jt.T=null,u(h,y,E,w)}finally{ca(Y),Jt.T=N,Zt===0&&(Hi=Jr()+500)}},Xt.findAllNodes=Sa,Xt.findBoundingRects=function(u,h){if(!Jo)throw Error(n(363));h=Sa(u,h),u=[];for(var y=0;y<h.length;y++)u.push(vm(h[y]));for(h=u.length-1;0<h;h--){y=u[h];for(var E=y.x,w=E+y.width,N=y.y,Y=N+y.height,ue=h-1;0<=ue;ue--)if(h!==ue){var Ee=u[ue],$e=Ee.x,pt=$e+Ee.width,At=Ee.y,Rt=At+Ee.height;if(E>=$e&&N>=At&&w<=pt&&Y<=Rt){u.splice(h,1);break}else if(E!==$e||y.width!==Ee.width||Rt<N||At>Y){if(!(N!==At||y.height!==Ee.height||pt<E||$e>w)){$e>E&&(Ee.width+=$e-E,Ee.x=E),pt<w&&(Ee.width=w-$e),u.splice(h,1);break}}else{At>N&&(Ee.height+=At-N,Ee.y=N),Rt<Y&&(Ee.height=Y-At),u.splice(h,1);break}}}return u},Xt.findHostInstance=Wv,Xt.findHostInstanceWithNoPortals=function(u){return u=x(u),u=u!==null?M(u):null,u===null?null:bf(u.stateNode)},Xt.findHostInstanceWithWarning=function(u){return Wv(u)},Xt.flushPassiveEffects=Br,Xt.flushSyncFromReconciler=function(u){var h=Zt;Zt|=1;var y=Jt.T,E=xr();try{if(ca(2),Jt.T=null,u)return u()}finally{ca(E),Jt.T=y,Zt=h,(Zt&6)===0&&K(0)}},Xt.flushSyncWork=Zv,Xt.focusWithin=function(u,h){if(!Jo)throw Error(n(363));for(u=am(u),h=Ux(u,h),h=Array.from(h),u=0;u<h.length;){var y=h[u++],E=y.tag;if(!qo(y)){if((E===5||E===26||E===27)&&Vi(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},Xt.getFindAllNodesFailureDescription=function(u,h){if(!Jo)throw Error(n(363));var y=0,E=[];u=[am(u),0];for(var w=0;w<u.length;){var N=u[w++],Y=N.tag,ue=u[w++],Ee=h[ue];if((Y!==5&&Y!==26&&Y!==27||!qo(N))&&(gf(N,Ee)&&(E.push(bc(Ee)),ue++,ue>y&&(y=ue)),ue<h.length))for(N=N.child;N!==null;)u.push(N,ue),N=N.sibling}if(y<h.length){for(u=[];y<h.length;y++)u.push(bc(h[y]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},Xt.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return bf(u.child.stateNode);default:return u.child.stateNode}},Xt.injectIntoDevTools=function(){var u={bundleType:0,version:hm,rendererPackageName:th,currentDispatcherRef:Jt,findFiberByHostInstance:l0,reconcilerVersion:"19.0.0"};if(nh!==null&&(u.rendererConfig=nh),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)u=!0;else{try{Tf=h.inject(u),La=h}catch{}u=!!h.checkDCE}}return u},Xt.isAlreadyRendering=function(){return!1},Xt.observeVisibleRects=function(u,h,y,E){if(!Jo)throw Error(n(363));u=Sa(u,h);var w=f0(u,y,E).disconnect;return{disconnect:function(){w()}}},Xt.shouldError=function(){return null},Xt.shouldSuspend=function(){return!1},Xt.startHostTransition=function(u,h,y,E){if(u.tag!==5)throw Error(n(476));var w=Cv(u).queue;kp(u,w,h,Ia,y===null?r:function(){var N=Cv(u).next.queue;return cc(u,N,{},Aa()),y(E)})},Xt.updateContainer=function(u,h,y,E){var w=h.current,N=Aa();return Ix(w,N,u,h,y,E),N},Xt.updateContainerSync=function(u,h,y,E){return h.tag===0&&Br(),Ix(h.current,2,u,h,y,E),2},Xt},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(n2)),n2.exports}var m4;function Fee(){return m4||(m4=1,t2.exports=Pee()),t2.exports}var Hee=Fee();const kee=pv(Hee);var g4=vH();function ZD(i,e,t){if(!i)return;if(t(i)===!0)return i;let r=e?i.return:i.child;for(;r;){const n=ZD(r,e,t);if(n)return n;r=e?null:r.sibling}}function _H(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const YD=_H(ot.createContext(null));class yH extends ot.Component{render(){return ot.createElement(YD.Provider,{value:this._reactInternals},this.props.children)}}function xH(){const i=ot.useContext(YD);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ot.useId();return ot.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const r=ZD(t,!1,n=>{let a=n.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[i,e])}const Gee=Symbol.for("react.context"),Vee=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===Gee;function jee(){const i=xH(),[e]=ot.useState(()=>new Map);e.clear();let t=i;for(;t;){const r=t.type;Vee(r)&&r!==YD&&!e.has(r)&&e.set(r,ot.use(_H(r))),t=t.return}return e}function $ee(){const i=jee();return ot.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>r=>ot.createElement(e,null,ot.createElement(t.Provider,{...r,value:i.get(t)})),e=>ot.createElement(yH,{...e})),[i])}function bH(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const SH=i=>i&&i.isOrthographicCamera,Xee=i=>i&&i.hasOwnProperty("current"),Zee=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),dx=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ot.useLayoutEffect:ot.useEffect;function AH(i){const e=ot.useRef(i);return dx(()=>{e.current=i},[i]),e}function Yee(){const i=xH(),e=$ee();return ot.useMemo(()=>({children:t})=>{const n=!!ZD(i,!0,a=>a.type===ot.StrictMode)?ot.StrictMode:ot.Fragment;return ne.jsx(n,{children:ne.jsx(e,{children:t})})},[i,e])}function Jee({set:i}){return dx(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const qee=(i=>(i=class extends ot.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function EH(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function _g(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Yi={obj:i=>i===Object(i)&&!Yi.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:r="reference",strict:n=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Yi.str(i)||Yi.num(i)||Yi.boo(i))return i===e;const a=Yi.obj(i);if(a&&r==="reference")return i===e;const s=Yi.arr(i);if(s&&t==="reference")return i===e;if((s||a)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(l in n?e:i)if(!Yi.equ(i[l],e[l],{strict:n,objects:"reference"}))return!1}else for(l in n?e:i)if(i[l]!==e[l])return!1;if(Yi.und(l)){if(s&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function Wee(i){const e={nodes:{},materials:{},meshes:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function Kee(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const MH=["children","key","ref"];function Qee(i){const e={};for(const t in i)MH.includes(t)||(e[t]=i[t]);return e}function mA(i,e,t,r){const n=i;let a=n?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:Qee(r),object:n,eventCount:0,handlers:{},isHidden:!1},n&&(n.__r3f=a)),a}function Ry(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const r=e.split("-");for(const n of r){if(typeof t!="object"||t===null){if(t!==void 0){const a=r.slice(r.indexOf(n)).join("-");return{root:t,key:a,target:void 0}}return{root:i,key:e,target:void 0}}e=n,i=t,t=t[e]}return{root:i,key:e,target:t}}const v4=/-\d+$/;function gA(i,e){if(Yi.str(e.props.attach)){if(v4.test(e.props.attach)){const n=e.props.attach.replace(v4,""),{root:a,key:s}=Ry(i.object,n);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:r}=Ry(i.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Yi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function vA(i,e){if(Yi.str(e.props.attach)){const{root:t,key:r}=Ry(i.object,e.props.attach),n=e.previousAttach;n===void 0?delete t[r]:t[r]=n}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const xC=[...MH,"args","dispose","attach","object","onUpdate","dispose"],_4=new Map;function ete(i){let e=_4.get(i.constructor);try{e||(e=new i.constructor,_4.set(i.constructor,e))}catch{}return e}function tte(i,e){const t={};for(const r in e)if(!xC.includes(r)&&!Yi.equ(e[r],i.props[r])){t[r]=e[r];for(const n in e)n.startsWith(`${r}-`)&&(t[n]=e[n])}for(const r in i.props){if(xC.includes(r)||e.hasOwnProperty(r))continue;const{root:n,key:a}=Ry(i.object,r);if(n.constructor&&n.constructor.length===0){const s=ete(n);Yi.und(s)||(t[a]=s[a])}else t[a]=0}return t}const nte=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],ite=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function td(i,e){var t;const r=i.__r3f,n=r&&bH(r).getState(),a=r?.eventCount;for(const l in e){let f=e[l];if(xC.includes(l))continue;if(r&&ite.test(l)){typeof f=="function"?r.handlers[l]=f:delete r.handlers[l],r.eventCount=Object.keys(r.handlers).length;continue}if(f===void 0)continue;let{root:d,key:m,target:g}=Ry(i,l);if(g===void 0&&(typeof d!="object"||d===null))throw Error(`R3F: Cannot set "${l}". Ensure it is an object before setting "${m}".`);if(g instanceof cv&&f instanceof cv)g.mask=f.mask;else if(g instanceof xt&&Zee(f))g.set(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&f!=null&&f.constructor&&g.constructor===f.constructor)g.copy(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(f))typeof g.fromArray=="function"?g.fromArray(f):g.set(...f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof f=="number")typeof g.setScalar=="function"?g.setScalar(f):g.set(f);else{var s;d[m]=f,n&&!n.linear&&nte.includes(m)&&(s=d[m])!=null&&s.isTexture&&d[m].format===Ka&&d[m].type===Fr&&(d[m].colorSpace=ni)}}if(r!=null&&r.parent&&n!=null&&n.internal&&(t=r.object)!=null&&t.isObject3D&&a!==r.eventCount){const l=r.object,f=n.internal.interaction.indexOf(l);f>-1&&n.internal.interaction.splice(f,1),r.eventCount&&l.raycast!==null&&n.internal.interaction.push(l)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&Av(r),i}function Av(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function rte(i,e){i.manual||(SH(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const Us=i=>i?.isObject3D;function Gb(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function TH(i,e,t,r){const n=t.get(e);n&&(t.delete(e),t.size===0&&(i.delete(r),n.target.releasePointerCapture(r)))}function ate(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,n)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(n)}),t.capturedMap.forEach((r,n)=>{TH(t.capturedMap,e,r,n)})}function ste(i){function e(f){const{internal:d}=i.getState(),m=f.offsetX-d.initialClick[0],g=f.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(f){return f.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function r(f,d){const m=i.getState(),g=new Set,_=[],x=d?d(m.internal.interaction):m.internal.interaction;for(let A=0;A<x.length;A++){const R=_g(x[A]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(f,m);function b(A){const R=_g(A);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var B;R.events.compute==null||R.events.compute(f,R,(B=R.previousRoot)==null?void 0:B.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(A,!0):[]}let M=x.flatMap(b).sort((A,R)=>{const B=_g(A.object),D=_g(R.object);return!B||!D?A.distance-R.distance:D.events.priority-B.events.priority||A.distance-R.distance}).filter(A=>{const R=Gb(A);return g.has(R)?!1:(g.add(R),!0)});m.events.filter&&(M=m.events.filter(M,m));for(const A of M){let R=A.object;for(;R;){var T;(T=R.__r3f)!=null&&T.eventCount&&_.push({...A,eventObject:R}),R=R.parent}}if("pointerId"in f&&m.internal.capturedMap.has(f.pointerId))for(let A of m.internal.capturedMap.get(f.pointerId).values())g.has(Gb(A.intersection))||_.push(A.intersection);return _}function n(f,d,m,g){if(f.length){const _={stopped:!1};for(const x of f){let b=_g(x.object);if(b||x.object.traverseAncestors(M=>{const T=_g(M);if(T)return b=T,!1}),b){const{raycaster:M,pointer:T,camera:A,internal:R}=b,B=new W(T.x,T.y,0).unproject(A),D=O=>{var U,G;return(U=(G=R.capturedMap.get(O))==null?void 0:G.has(x.eventObject))!=null?U:!1},I=O=>{const U={intersection:x,target:d.target};R.capturedMap.has(O)?R.capturedMap.get(O).set(x.eventObject,U):R.capturedMap.set(O,new Map([[x.eventObject,U]])),d.target.setPointerCapture(O)},L=O=>{const U=R.capturedMap.get(O);U&&TH(R.capturedMap,x.eventObject,U,O)};let P={};for(let O in d){let U=d[O];typeof U!="function"&&(P[O]=U)}let F={...x,...P,pointer:T,intersections:f,stopped:_.stopped,delta:m,unprojectedPoint:B,ray:M.ray,camera:A,stopPropagation(){const O="pointerId"in d&&R.capturedMap.get(d.pointerId);if((!O||O.has(x.eventObject))&&(F.stopped=_.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(U=>U.eventObject===x.eventObject))){const U=f.slice(0,f.indexOf(x));a([...U,x])}},target:{hasPointerCapture:D,setPointerCapture:I,releasePointerCapture:L},currentTarget:{hasPointerCapture:D,setPointerCapture:I,releasePointerCapture:L},nativeEvent:d};if(g(F),_.stopped===!0)break}}}return f}function a(f){const{internal:d}=i.getState();for(const m of d.hovered.values())if(!f.length||!f.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const _=m.eventObject.__r3f;if(d.hovered.delete(Gb(m)),_!=null&&_.eventCount){const x=_.handlers,b={...m,intersections:f};x.onPointerOut==null||x.onPointerOut(b),x.onPointerLeave==null||x.onPointerLeave(b)}}}function s(f,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(f)}}function l(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return d=>{const{internal:m}=i.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:_}=i.getState();_.lastEvent.current=m;const x=f==="onPointerMove",b=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",T=r(m,x?t:void 0),A=b?e(m):0;f==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=T.map(B=>B.eventObject)),b&&!T.length&&A<=2&&(s(m,_.interaction),g&&g(m)),x&&a(T);function R(B){const D=B.eventObject,I=D.__r3f;if(!(I!=null&&I.eventCount))return;const L=I.handlers;if(x){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const P=Gb(B),F=_.hovered.get(P);F?F.stopped&&B.stopPropagation():(_.hovered.set(P,B),L.onPointerOver==null||L.onPointerOver(B),L.onPointerEnter==null||L.onPointerEnter(B))}L.onPointerMove==null||L.onPointerMove(B)}else{const P=L[f];P?(!b||_.initialHits.includes(D))&&(s(m,_.interaction.filter(F=>!_.initialHits.includes(F))),P(B)):b&&_.initialHits.includes(D)&&s(m,_.interaction.filter(F=>!_.initialHits.includes(F)))}}n(T,m,A,R)}}return{handlePointer:l}}const y4=i=>!!(i!=null&&i.render),CH=ot.createContext(null),ote=(i,e)=>{const t=Uee((l,f)=>{const d=new W,m=new W,g=new W;function _(A=f().camera,R=m,B=f().size){const{width:D,height:I,top:L,left:P}=B,F=D/I;R.isVector3?g.copy(R):g.set(...R);const O=A.getWorldPosition(d).distanceTo(g);if(SH(A))return{width:D/A.zoom,height:I/A.zoom,top:L,left:P,factor:1,distance:O,aspect:F};{const U=A.fov*Math.PI/180,G=2*Math.tan(U/2)*O,X=G*(D/I);return{width:X,height:G,top:L,left:P,factor:D/X,distance:O,aspect:F}}}let x;const b=A=>l(R=>({performance:{...R.performance,current:A}})),M=new He;return{set:l,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>i(f(),A),advance:(A,R)=>e(A,R,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new GD,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=f();x&&clearTimeout(x),A.performance.current!==A.performance.min&&b(A.performance.min),x=setTimeout(()=>b(f().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:A=>l(R=>({...R,events:{...R.events,...A}})),setSize:(A,R,B=0,D=0)=>{const I=f().camera,L={width:A,height:R,top:B,left:D};l(P=>({size:L,viewport:{...P.viewport,..._(I,m,L)}}))},setDpr:A=>l(R=>{const B=EH(A);return{viewport:{...R.viewport,dpr:B,initialDpr:R.viewport.initialDpr||B}}}),setFrameloop:(A="always")=>{const R=f().clock;R.stop(),R.elapsedTime=0,A!=="never"&&(R.start(),R.elapsedTime=0),l(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ot.createRef(),active:!1,frames:0,priority:0,subscribe:(A,R,B)=>{const D=f().internal;return D.priority=D.priority+(R>0?1:0),D.subscribers.push({ref:A,priority:R,store:B}),D.subscribers=D.subscribers.sort((I,L)=>I.priority-L.priority),()=>{const I=f().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(R>0?1:0),I.subscribers=I.subscribers.filter(L=>L.ref!==A))}}}}}),r=t.getState();let n=r.size,a=r.viewport.dpr,s=r.camera;return t.subscribe(()=>{const{camera:l,size:f,viewport:d,gl:m,set:g}=t.getState();if(f.width!==n.width||f.height!==n.height||d.dpr!==a){n=f,a=d.dpr,rte(l,f),d.dpr>0&&m.setPixelRatio(d.dpr);const _=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(f.width,f.height,_)}l!==s&&(s=l,g(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>i(l)),t};function wH(){const i=ot.useContext(CH);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Zl(i=t=>t,e){return wH()(i,e)}function tM(i,e=0){const t=wH(),r=t.getState().internal.subscribe,n=AH(i);return dx(()=>r(n,e,t),[e,r,t]),null}const x4=new WeakMap,lte=i=>{var e;return typeof i=="function"&&(i==null||(e=i.prototype)==null?void 0:e.constructor)===i};function RH(i,e){return function(t,...r){let n;return lte(t)?(n=x4.get(t),n||(n=new t,x4.set(t,n))):n=t,i&&i(n),Promise.all(r.map(a=>new Promise((s,l)=>n.load(a,f=>{Us(f?.scene)&&Object.assign(f,Wee(f.scene)),s(f)},e,f=>l(new Error(`Could not load ${a}: ${f?.message}`))))))}}function Bd(i,e,t,r){const n=Array.isArray(e)?e:[e],a=Nee(RH(t,r),[i,...n],{equal:Yi.equ});return Array.isArray(e)?a:a[0]}Bd.preload=function(i,e,t){const r=Array.isArray(e)?e:[e];return Iee(RH(t),[i,...r])};Bd.clear=function(i,e){const t=Array.isArray(e)?e:[e];return zee([i,...t])};var cte={version:"9.4.2"};function ute(i){const e=kee(i);return e.injectIntoDevTools(),e}const DH=0,hv={},fte=/^three(?=[A-Z])/,nM=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let dte=0;const hte=i=>typeof i=="function";function pte(i){if(hte(i)){const e=`${dte++}`;return hv[e]=i,e}else Object.assign(hv,i)}function BH(i,e){const t=nM(i),r=hv[t];if(i!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function mte(i,e,t){var r;return i=nM(i)in hv?i:i.replace(fte,""),BH(i,e),i==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,mA(e.object,t,i,e)}function gte(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?vA(i.parent,i):Us(i.object)&&(i.object.visible=!1),i.isHidden=!0,Av(i)}}function UH(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?gA(i.parent,i):Us(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Av(i)}}function JD(i,e,t){const r=e.root.getState();if(!(!i.parent&&i.object!==r.scene)){if(!e.object){var n,a;const s=hv[nM(e.type)];e.object=(n=e.props.object)!=null?n:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(td(e.object,e.props),e.props.attach)gA(i,e);else if(Us(e.object)&&Us(i.object)){const s=i.object.children.indexOf(t?.object);if(t&&s!==-1){const l=i.object.children.indexOf(e.object);if(l!==-1){i.object.children.splice(l,1);const f=l<s?s-1:s;i.object.children.splice(f,0,e.object)}else e.object.parent=i.object,i.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const s of e.children)JD(e,s);Av(e)}}function a2(i,e){e&&(e.parent=i,i.children.push(e),JD(i,e))}function b4(i,e,t){if(!e||!t)return;e.parent=i;const r=i.children.indexOf(t);r!==-1?i.children.splice(r,0,e):i.children.push(e),JD(i,e,t)}function OH(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():g4.unstable_scheduleCallback(g4.unstable_IdlePriority,e)}}function bC(i,e,t){if(!e)return;e.parent=null;const r=i.children.indexOf(e);r!==-1&&i.children.splice(r,1),e.props.attach?vA(i,e):Us(e.object)&&Us(i.object)&&(i.object.remove(e.object),ate(bH(e),e.object));const n=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];bC(e,s,n)}e.children.length=0,delete e.object.__r3f,n&&e.type!=="primitive"&&e.object.type!=="Scene"&&OH(e.object),t===void 0&&Av(e)}function vte(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const lS=[];function _te(){for(const[t]of lS){const r=t.parent;if(r){t.props.attach?vA(r,t):Us(t.object)&&Us(r.object)&&r.object.remove(t.object);for(const n of t.children)n.props.attach?vA(t,n):Us(n.object)&&Us(t.object)&&t.object.remove(n.object)}t.isHidden&&UH(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&OH(t.object)}for(const[t,r,n]of lS){t.props=r;const a=t.parent;if(a){var i,e;const s=hv[nM(t.type)];t.object=(i=t.props.object)!=null?i:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,vte(n,t.object),td(t.object,t.props),t.props.attach?gA(a,t):Us(t.object)&&Us(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?gA(t,l):Us(l.object)&&Us(t.object)&&t.object.add(l.object);Av(t)}}lS.length=0}const s2=()=>{},S4={};let Vb=DH;const yte=0,xte=4,SC=ute({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:mte,removeChild:bC,appendChild:a2,appendInitialChild:a2,insertBefore:b4,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||a2(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||bC(t,e)},insertInContainerBefore(i,e,t){const r=i.getState().scene.__r3f;!e||!t||!r||b4(r,e,t)},getRootHostContext:()=>S4,getChildHostContext:()=>S4,commitUpdate(i,e,t,r,n){var a,s,l;BH(e,r);let f=!1;if((i.type==="primitive"&&t.object!==r.object||((a=r.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(l=r.args)!=null&&l.some((m,g)=>{var _;return m!==((_=t.args)==null?void 0:_[g])}))&&(f=!0),f)lS.push([i,{...r},n]);else{const m=tte(i,r);Object.keys(m).length&&(Object.assign(i.props,m),td(i.object,m))}(n.sibling===null||(n.flags&xte)===yte)&&_te()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>mA(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:gte,unhideInstance:UH,createTextInstance:s2,hideTextInstance:s2,unhideTextInstance:s2,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ot.createContext(null),setCurrentUpdatePriority(i){Vb=i},getCurrentUpdatePriority(){return Vb},resolveUpdatePriority(){var i;if(Vb!==DH)return Vb;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return oS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return oS.ContinuousEventPriority;default:return oS.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:cte.version}),wp=new Map,yg={objects:"shallow",strict:!1};function bte(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:r,top:n,left:a}=i.parentElement.getBoundingClientRect();return{width:t,height:r,top:n,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Ste(i){const e=wp.get(i),t=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const n=typeof reportError=="function"?reportError:console.error,a=r||ote(MC,E4),s=t||SC.createContainer(a,oS.ConcurrentRoot,null,!1,null,"",n,n,n,null);e||wp.set(i,{fiber:s,store:a});let l,f,d=!1,m=null;return{async configure(g={}){let _;m=new Promise(Z=>_=Z);let{gl:x,size:b,scene:M,events:T,onCreated:A,shadows:R=!1,linear:B=!1,flat:D=!1,legacy:I=!1,orthographic:L=!1,frameloop:P="always",dpr:F=[1,2],performance:O,raycaster:U,camera:G,onPointerMissed:X}=g,te=a.getState(),ce=te.gl;if(!te.gl){const Z={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},he=typeof x=="function"?await x(Z):x;y4(he)?ce=he:ce=new pH({...Z,...x}),te.set({gl:ce})}let le=te.raycaster;le||te.set({raycaster:le=new sH});const{params:V,...q}=U||{};if(Yi.equ(q,le,yg)||td(le,{...q}),Yi.equ(V,le.params,yg)||td(le,{params:{...le.params,...V}}),!te.camera||te.camera===f&&!Yi.equ(f,G,yg)){f=G;const Z=G?.isCamera,he=Z?G:L?new Wc(0,0,0,0,.1,1e3):new qi(75,0,.1,1e3);Z||(he.position.z=5,G&&(td(he,G),he.manual||("aspect"in G||"left"in G||"right"in G||"bottom"in G||"top"in G)&&(he.manual=!0,he.updateProjectionMatrix())),!te.camera&&!(G!=null&&G.rotation)&&he.lookAt(0,0,0)),te.set({camera:he}),le.camera=he}if(!te.scene){let Z;M!=null&&M.isScene?(Z=M,mA(Z,a,"",{})):(Z=new Ey,mA(Z,a,"",{}),M&&td(Z,M)),te.set({scene:Z})}T&&!te.events.handlers&&te.set({events:T(a)});const ee=bte(i,b);if(Yi.equ(ee,te.size,yg)||te.setSize(ee.width,ee.height,ee.top,ee.left),F&&te.viewport.dpr!==EH(F)&&te.setDpr(F),te.frameloop!==P&&te.setFrameloop(P),te.onPointerMissed||te.set({onPointerMissed:X}),O&&!Yi.equ(O,te.performance,yg)&&te.set(Z=>({performance:{...Z.performance,...O}})),!te.xr){var ve;const Z=(we,Xe)=>{const _e=a.getState();_e.frameloop!=="never"&&E4(we,!0,_e,Xe)},he=()=>{const we=a.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?Z:null),we.gl.xr.isPresenting||MC(we)},Be={connect(){const we=a.getState().gl;we.xr.addEventListener("sessionstart",he),we.xr.addEventListener("sessionend",he)},disconnect(){const we=a.getState().gl;we.xr.removeEventListener("sessionstart",he),we.xr.removeEventListener("sessionend",he)}};typeof((ve=ce.xr)==null?void 0:ve.addEventListener)=="function"&&Be.connect(),te.set({xr:Be})}if(ce.shadowMap){const Z=ce.shadowMap.enabled,he=ce.shadowMap.type;if(ce.shadowMap.enabled=!!R,Yi.boo(R))ce.shadowMap.type=V_;else if(Yi.str(R)){var J;const Be={basic:C5,percentage:_E,soft:V_,variance:Xl};ce.shadowMap.type=(J=Be[R])!=null?J:V_}else Yi.obj(R)&&Object.assign(ce.shadowMap,R);(Z!==ce.shadowMap.enabled||he!==ce.shadowMap.type)&&(ce.shadowMap.needsUpdate=!0)}return qn.enabled=!I,d||(ce.outputColorSpace=B?eu:ni,ce.toneMapping=D?ec:nD),te.legacy!==I&&te.set(()=>({legacy:I})),te.linear!==B&&te.set(()=>({linear:B})),te.flat!==D&&te.set(()=>({flat:D})),x&&!Yi.fun(x)&&!y4(x)&&!Yi.equ(x,ce,yg)&&td(ce,x),l=A,d=!0,_(),this},render(g){return!d&&!m&&this.configure(),m.then(()=>{SC.updateContainer(ne.jsx(Ate,{store:a,children:g,onCreated:l,rootElement:i}),s,null,()=>{})}),a},unmount(){NH(i)}}}function Ate({store:i,children:e,onCreated:t,rootElement:r}){return dx(()=>{const n=i.getState();n.set(a=>({internal:{...a.internal,active:!0}})),t&&t(n),i.getState().events.connected||n.events.connect==null||n.events.connect(r)},[]),ne.jsx(CH.Provider,{value:i,children:e})}function NH(i,e){const t=wp.get(i),r=t?.fiber;if(r){const n=t?.store.getState();n&&(n.internal.active=!1),SC.updateContainer(null,r,null,()=>{n&&setTimeout(()=>{try{var a,s,l,f;n.events.disconnect==null||n.events.disconnect(),(a=n.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=n.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(f=n.gl)!=null&&f.xr&&n.xr.disconnect(),Kee(n.scene),wp.delete(i)}catch{}},500)})}}const Ete=new Set,Mte=new Set,Tte=new Set;function o2(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function W_(i,e){switch(i){case"before":return o2(Ete,e);case"after":return o2(Mte,e);case"tail":return o2(Tte,e)}}let l2,c2;function AC(i,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(r=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),l2=e.internal.subscribers;for(let n=0;n<l2.length;n++)c2=l2[n],c2.ref.current(c2.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let _A=!1,EC=!1,u2,A4,xg;function IH(i){A4=requestAnimationFrame(IH),_A=!0,u2=0,W_("before",i),EC=!0;for(const t of wp.values()){var e;xg=t.store.getState(),xg.internal.active&&(xg.frameloop==="always"||xg.internal.frames>0)&&!((e=xg.gl.xr)!=null&&e.isPresenting)&&(u2+=AC(i,xg))}if(EC=!1,W_("after",i),u2===0)return W_("tail",i),_A=!1,cancelAnimationFrame(A4)}function MC(i,e=1){var t;if(!i)return wp.forEach(r=>MC(r.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):EC?i.internal.frames=2:i.internal.frames=1,_A||(_A=!0,requestAnimationFrame(IH)))}function E4(i,e=!0,t,r){if(e&&W_("before",i),t)AC(i,t,r);else for(const n of wp.values())AC(i,n.store.getState());e&&W_("after",i)}const f2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Cte(i){const{handlePointer:e}=ste(i);return{priority:1,enabled:!0,compute(t,r,n){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(f2).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:n}=i.getState();(t=n.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{const{set:r,events:n}=i.getState();if(n.disconnect==null||n.disconnect(),r(a=>({events:{...a.events,connected:t}})),n.handlers)for(const a in n.handlers){const s=n.handlers[a],[l,f]=f2[a];t.addEventListener(l,s,{passive:f})}},disconnect:()=>{const{set:t,events:r}=i.getState();if(r.connected){if(r.handlers)for(const n in r.handlers){const a=r.handlers[n],[s]=f2[n];r.connected.removeEventListener(s,a)}t(n=>({events:{...n.events,connected:void 0}}))}}}}function M4(i,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...r),e)}}function wte({debounce:i,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const n=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!n)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=ot.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ot.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),f=i?typeof i=="number"?i:i.scroll:null,d=i?typeof i=="number"?i:i.resize:null,m=ot.useRef(!1);ot.useEffect(()=>(m.current=!0,()=>{m.current=!1}));const[g,_,x]=ot.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:R,top:B,width:D,height:I,bottom:L,right:P,x:F,y:O}=l.current.element.getBoundingClientRect(),U={left:R,top:B,width:D,height:I,bottom:L,right:P,x:F,y:O};l.current.element instanceof HTMLElement&&r&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),m.current&&!Ute(l.current.lastBounds,U)&&s(l.current.lastBounds=U)};return[A,d?M4(A,d):A,f?M4(A,f):A]},[s,r,f,d]);function b(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function M(){l.current.element&&(l.current.resizeObserver=new n(x),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",x,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const T=A=>{!A||A===l.current.element||(b(),l.current.element=A,l.current.scrollContainers=zH(A),M())};return Dte(x,!!e),Rte(_),ot.useEffect(()=>{b(),M()},[e,x,_]),ot.useEffect(()=>b,[]),[T,a,g]}function Rte(i){ot.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[i])}function Dte(i,e){ot.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[i,e])}function zH(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:r,overflowY:n}=window.getComputedStyle(i);return[t,r,n].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...zH(i.parentElement)]}const Bte=["x","y","top","bottom","left","right","width","height"],Ute=(i,e)=>Bte.every(t=>i[t]===e[t]);function Ote({ref:i,children:e,fallback:t,resize:r,style:n,gl:a,events:s=Cte,eventSource:l,eventPrefix:f,shadows:d,linear:m,flat:g,legacy:_,orthographic:x,frameloop:b,dpr:M,performance:T,raycaster:A,camera:R,scene:B,onPointerMissed:D,onCreated:I,...L}){ot.useMemo(()=>pte(yee),[]);const P=Yee(),[F,O]=wte({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=ot.useRef(null),G=ot.useRef(null);ot.useImperativeHandle(i,()=>U.current);const X=AH(D),[te,ce]=ot.useState(!1),[le,V]=ot.useState(!1);if(te)throw te;if(le)throw le;const q=ot.useRef(null);dx(()=>{const ve=U.current;if(O.width>0&&O.height>0&&ve){q.current||(q.current=Ste(ve));async function J(){await q.current.configure({gl:a,scene:B,events:s,shadows:d,linear:m,flat:g,legacy:_,orthographic:x,frameloop:b,dpr:M,performance:T,raycaster:A,camera:R,size:O,onPointerMissed:(...Z)=>X.current==null?void 0:X.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(l?Xee(l)?l.current:l:G.current),f&&Z.setEvents({compute:(he,Be)=>{const we=he[f+"X"],Xe=he[f+"Y"];Be.pointer.set(we/Be.size.width*2-1,-(Xe/Be.size.height)*2+1),Be.raycaster.setFromCamera(Be.pointer,Be.camera)}}),I?.(Z)}}),q.current.render(ne.jsx(P,{children:ne.jsx(qee,{set:V,children:ne.jsx(ot.Suspense,{fallback:ne.jsx(Jee,{set:ce}),children:e??null})})}))}J()}}),ot.useEffect(()=>{const ve=U.current;if(ve)return()=>NH(ve)},[]);const ee=l?"none":"auto";return ne.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ee,...n},...L,children:ne.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:ne.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function LH(i){return ne.jsx(yH,{children:ne.jsx(Ote,{...i})})}const Nte=parseInt(Op.replace(/\D+/g,""));function T4(i,e){if(e===r8)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===uA||e===fD){let t=i.getIndex();if(t===null){const s=[],l=i.getAttribute("position");if(l!==void 0){for(let f=0;f<l.count;f++)s.push(f);i.setIndex(s),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const r=t.count-2,n=[];if(t)if(e===uA)for(let s=1;s<=r;s++)n.push(t.getX(0)),n.push(t.getX(s)),n.push(t.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(n.push(t.getX(s)),n.push(t.getX(s+1)),n.push(t.getX(s+2))):(n.push(t.getX(s+2)),n.push(t.getX(s+1)),n.push(t.getX(s)));n.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=i.clone();return a.setIndex(n),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}var Ite=Object.defineProperty,zte=(i,e,t)=>e in i?Ite(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Lte=(i,e,t)=>(zte(i,e+"",t),t);class Pte{constructor(){Lte(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const n=r.slice(0);for(let a=0,s=n.length;a<s;a++)n[a].call(this,e);e.target=null}}}var Fte=Object.defineProperty,Hte=(i,e,t)=>e in i?Fte(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Kt=(i,e,t)=>(Hte(i,typeof e!="symbol"?e+"":e,t),t);const jb=new Ip,C4=new Vu,kte=Math.cos(70*(Math.PI/180)),w4=(i,e)=>(i%e+e)%e;let Gte=class extends Pte{constructor(e,t){super(),Kt(this,"object"),Kt(this,"domElement"),Kt(this,"enabled",!0),Kt(this,"target",new W),Kt(this,"minDistance",0),Kt(this,"maxDistance",1/0),Kt(this,"minZoom",0),Kt(this,"maxZoom",1/0),Kt(this,"minPolarAngle",0),Kt(this,"maxPolarAngle",Math.PI),Kt(this,"minAzimuthAngle",-1/0),Kt(this,"maxAzimuthAngle",1/0),Kt(this,"enableDamping",!1),Kt(this,"dampingFactor",.05),Kt(this,"enableZoom",!0),Kt(this,"zoomSpeed",1),Kt(this,"enableRotate",!0),Kt(this,"rotateSpeed",1),Kt(this,"enablePan",!0),Kt(this,"panSpeed",1),Kt(this,"screenSpacePanning",!0),Kt(this,"keyPanSpeed",7),Kt(this,"zoomToCursor",!1),Kt(this,"autoRotate",!1),Kt(this,"autoRotateSpeed",2),Kt(this,"reverseOrbit",!1),Kt(this,"reverseHorizontalOrbit",!1),Kt(this,"reverseVerticalOrbit",!1),Kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Kt(this,"mouseButtons",{LEFT:Vh.ROTATE,MIDDLE:Vh.DOLLY,RIGHT:Vh.PAN}),Kt(this,"touches",{ONE:jh.ROTATE,TWO:jh.DOLLY_PAN}),Kt(this,"target0"),Kt(this,"position0"),Kt(this,"zoom0"),Kt(this,"_domElementKeyEvents",null),Kt(this,"getPolarAngle"),Kt(this,"getAzimuthalAngle"),Kt(this,"setPolarAngle"),Kt(this,"setAzimuthalAngle"),Kt(this,"getDistance"),Kt(this,"getZoomScale"),Kt(this,"listenToKeyEvents"),Kt(this,"stopListenToKeyEvents"),Kt(this,"saveState"),Kt(this,"reset"),Kt(this,"update"),Kt(this,"connect"),Kt(this,"dispose"),Kt(this,"dollyIn"),Kt(this,"dollyOut"),Kt(this,"getScale"),Kt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=se=>{let Te=w4(se,2*Math.PI),st=m.phi;st<0&&(st+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let re=Math.abs(Te-st);2*Math.PI-re<re&&(Te<st?Te+=2*Math.PI:st+=2*Math.PI),g.phi=Te-st,r.update()},this.setAzimuthalAngle=se=>{let Te=w4(se,2*Math.PI),st=m.theta;st<0&&(st+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let re=Math.abs(Te-st);2*Math.PI-re<re&&(Te<st?Te+=2*Math.PI:st+=2*Math.PI),g.theta=Te-st,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=se=>{se.addEventListener("keydown",xe),this._domElementKeyEvents=se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",xe),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(n),r.update(),f=l.NONE},this.update=(()=>{const se=new W,Te=new W(0,1,0),st=new va().setFromUnitVectors(e.up,Te),re=st.clone().invert(),je=new W,nt=new va,ht=2*Math.PI;return function(){const Ge=r.object.position;st.setFromUnitVectors(e.up,Te),re.copy(st).invert(),se.copy(Ge).sub(r.target),se.applyQuaternion(st),m.setFromVector3(se),r.autoRotate&&f===l.NONE&&ce(X()),r.enableDamping?(m.theta+=g.theta*r.dampingFactor,m.phi+=g.phi*r.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let vt=r.minAzimuthAngle,Dt=r.maxAzimuthAngle;isFinite(vt)&&isFinite(Dt)&&(vt<-Math.PI?vt+=ht:vt>Math.PI&&(vt-=ht),Dt<-Math.PI?Dt+=ht:Dt>Math.PI&&(Dt-=ht),vt<=Dt?m.theta=Math.max(vt,Math.min(Dt,m.theta)):m.theta=m.theta>(vt+Dt)/2?Math.max(vt,m.theta):Math.min(Dt,m.theta)),m.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,m.phi)),m.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(x,r.dampingFactor):r.target.add(x),r.zoomToCursor&&O||r.object.isOrthographicCamera?m.radius=Be(m.radius):m.radius=Be(m.radius*_),se.setFromSpherical(m),se.applyQuaternion(re),Ge.copy(r.target).add(se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(g.theta*=1-r.dampingFactor,g.phi*=1-r.dampingFactor,x.multiplyScalar(1-r.dampingFactor)):(g.set(0,0,0),x.set(0,0,0));let on=!1;if(r.zoomToCursor&&O){let gt=null;if(r.object instanceof qi&&r.object.isPerspectiveCamera){const Ct=se.length();gt=Be(Ct*_);const qt=Ct-gt;r.object.position.addScaledVector(P,qt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Ct=new W(F.x,F.y,0);Ct.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix(),on=!0;const qt=new W(F.x,F.y,0);qt.unproject(r.object),r.object.position.sub(qt).add(Ct),r.object.updateMatrixWorld(),gt=se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;gt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(gt).add(r.object.position):(jb.origin.copy(r.object.position),jb.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(jb.direction))<kte?e.lookAt(r.target):(C4.setFromNormalAndCoplanarPoint(r.object.up,r.target),jb.intersectPlane(C4,r.target))))}else r.object instanceof Wc&&r.object.isOrthographicCamera&&(on=_!==1,on&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix()));return _=1,O=!1,on||je.distanceToSquared(r.object.position)>d||8*(1-nt.dot(r.object.quaternion))>d?(r.dispatchEvent(n),je.copy(r.object.position),nt.copy(r.object.quaternion),on=!1,!0):!1}})(),this.connect=se=>{r.domElement=se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",_t),r.domElement.addEventListener("pointerdown",de),r.domElement.addEventListener("pointercancel",H),r.domElement.addEventListener("wheel",ye)},this.dispose=()=>{var se,Te,st,re,je,nt;r.domElement&&(r.domElement.style.touchAction="auto"),(se=r.domElement)==null||se.removeEventListener("contextmenu",_t),(Te=r.domElement)==null||Te.removeEventListener("pointerdown",de),(st=r.domElement)==null||st.removeEventListener("pointercancel",H),(re=r.domElement)==null||re.removeEventListener("wheel",ye),(je=r.domElement)==null||je.ownerDocument.removeEventListener("pointermove",k),(nt=r.domElement)==null||nt.ownerDocument.removeEventListener("pointerup",H),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",xe)};const r=this,n={type:"change"},a={type:"start"},s={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=l.NONE;const d=1e-6,m=new gC,g=new gC;let _=1;const x=new W,b=new He,M=new He,T=new He,A=new He,R=new He,B=new He,D=new He,I=new He,L=new He,P=new W,F=new He;let O=!1;const U=[],G={};function X(){return 2*Math.PI/60/60*r.autoRotateSpeed}function te(){return Math.pow(.95,r.zoomSpeed)}function ce(se){r.reverseOrbit||r.reverseHorizontalOrbit?g.theta+=se:g.theta-=se}function le(se){r.reverseOrbit||r.reverseVerticalOrbit?g.phi+=se:g.phi-=se}const V=(()=>{const se=new W;return function(st,re){se.setFromMatrixColumn(re,0),se.multiplyScalar(-st),x.add(se)}})(),q=(()=>{const se=new W;return function(st,re){r.screenSpacePanning===!0?se.setFromMatrixColumn(re,1):(se.setFromMatrixColumn(re,0),se.crossVectors(r.object.up,se)),se.multiplyScalar(st),x.add(se)}})(),ee=(()=>{const se=new W;return function(st,re){const je=r.domElement;if(je&&r.object instanceof qi&&r.object.isPerspectiveCamera){const nt=r.object.position;se.copy(nt).sub(r.target);let ht=se.length();ht*=Math.tan(r.object.fov/2*Math.PI/180),V(2*st*ht/je.clientHeight,r.object.matrix),q(2*re*ht/je.clientHeight,r.object.matrix)}else je&&r.object instanceof Wc&&r.object.isOrthographicCamera?(V(st*(r.object.right-r.object.left)/r.object.zoom/je.clientWidth,r.object.matrix),q(re*(r.object.top-r.object.bottom)/r.object.zoom/je.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ve(se){r.object instanceof qi&&r.object.isPerspectiveCamera||r.object instanceof Wc&&r.object.isOrthographicCamera?_=se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function J(se){ve(_/se)}function Z(se){ve(_*se)}function he(se){if(!r.zoomToCursor||!r.domElement)return;O=!0;const Te=r.domElement.getBoundingClientRect(),st=se.clientX-Te.left,re=se.clientY-Te.top,je=Te.width,nt=Te.height;F.x=st/je*2-1,F.y=-(re/nt)*2+1,P.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function Be(se){return Math.max(r.minDistance,Math.min(r.maxDistance,se))}function we(se){b.set(se.clientX,se.clientY)}function Xe(se){he(se),D.set(se.clientX,se.clientY)}function _e(se){A.set(se.clientX,se.clientY)}function Ce(se){M.set(se.clientX,se.clientY),T.subVectors(M,b).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(ce(2*Math.PI*T.x/Te.clientHeight),le(2*Math.PI*T.y/Te.clientHeight)),b.copy(M),r.update()}function Ze(se){I.set(se.clientX,se.clientY),L.subVectors(I,D),L.y>0?J(te()):L.y<0&&Z(te()),D.copy(I),r.update()}function et(se){R.set(se.clientX,se.clientY),B.subVectors(R,A).multiplyScalar(r.panSpeed),ee(B.x,B.y),A.copy(R),r.update()}function mt(se){he(se),se.deltaY<0?Z(te()):se.deltaY>0&&J(te()),r.update()}function Mt(se){let Te=!1;switch(se.code){case r.keys.UP:ee(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:ee(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:ee(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:ee(-r.keyPanSpeed,0),Te=!0;break}Te&&(se.preventDefault(),r.update())}function kt(){if(U.length==1)b.set(U[0].pageX,U[0].pageY);else{const se=.5*(U[0].pageX+U[1].pageX),Te=.5*(U[0].pageY+U[1].pageY);b.set(se,Te)}}function Q(){if(U.length==1)A.set(U[0].pageX,U[0].pageY);else{const se=.5*(U[0].pageX+U[1].pageX),Te=.5*(U[0].pageY+U[1].pageY);A.set(se,Te)}}function Ie(){const se=U[0].pageX-U[1].pageX,Te=U[0].pageY-U[1].pageY,st=Math.sqrt(se*se+Te*Te);D.set(0,st)}function Le(){r.enableZoom&&Ie(),r.enablePan&&Q()}function Fe(){r.enableZoom&&Ie(),r.enableRotate&&kt()}function ae(se){if(U.length==1)M.set(se.pageX,se.pageY);else{const st=St(se),re=.5*(se.pageX+st.x),je=.5*(se.pageY+st.y);M.set(re,je)}T.subVectors(M,b).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(ce(2*Math.PI*T.x/Te.clientHeight),le(2*Math.PI*T.y/Te.clientHeight)),b.copy(M)}function lt(se){if(U.length==1)R.set(se.pageX,se.pageY);else{const Te=St(se),st=.5*(se.pageX+Te.x),re=.5*(se.pageY+Te.y);R.set(st,re)}B.subVectors(R,A).multiplyScalar(r.panSpeed),ee(B.x,B.y),A.copy(R)}function We(se){const Te=St(se),st=se.pageX-Te.x,re=se.pageY-Te.y,je=Math.sqrt(st*st+re*re);I.set(0,je),L.set(0,Math.pow(I.y/D.y,r.zoomSpeed)),J(L.y),D.copy(I)}function rt(se){r.enableZoom&&We(se),r.enablePan&&lt(se)}function K(se){r.enableZoom&&We(se),r.enableRotate&&ae(se)}function de(se){var Te,st;r.enabled!==!1&&(U.length===0&&((Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointermove",k),(st=r.domElement)==null||st.ownerDocument.addEventListener("pointerup",H)),ut(se),se.pointerType==="touch"?at(se):ie(se))}function k(se){r.enabled!==!1&&(se.pointerType==="touch"?Je(se):oe(se))}function H(se){var Te,st,re;Ke(se),U.length===0&&((Te=r.domElement)==null||Te.releasePointerCapture(se.pointerId),(st=r.domElement)==null||st.ownerDocument.removeEventListener("pointermove",k),(re=r.domElement)==null||re.ownerDocument.removeEventListener("pointerup",H)),r.dispatchEvent(s),f=l.NONE}function ie(se){let Te;switch(se.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case Vh.DOLLY:if(r.enableZoom===!1)return;Xe(se),f=l.DOLLY;break;case Vh.ROTATE:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enablePan===!1)return;_e(se),f=l.PAN}else{if(r.enableRotate===!1)return;we(se),f=l.ROTATE}break;case Vh.PAN:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enableRotate===!1)return;we(se),f=l.ROTATE}else{if(r.enablePan===!1)return;_e(se),f=l.PAN}break;default:f=l.NONE}f!==l.NONE&&r.dispatchEvent(a)}function oe(se){if(r.enabled!==!1)switch(f){case l.ROTATE:if(r.enableRotate===!1)return;Ce(se);break;case l.DOLLY:if(r.enableZoom===!1)return;Ze(se);break;case l.PAN:if(r.enablePan===!1)return;et(se);break}}function ye(se){r.enabled===!1||r.enableZoom===!1||f!==l.NONE&&f!==l.ROTATE||(se.preventDefault(),r.dispatchEvent(a),mt(se),r.dispatchEvent(s))}function xe(se){r.enabled===!1||r.enablePan===!1||Mt(se)}function at(se){switch(tt(se),U.length){case 1:switch(r.touches.ONE){case jh.ROTATE:if(r.enableRotate===!1)return;kt(),f=l.TOUCH_ROTATE;break;case jh.PAN:if(r.enablePan===!1)return;Q(),f=l.TOUCH_PAN;break;default:f=l.NONE}break;case 2:switch(r.touches.TWO){case jh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(),f=l.TOUCH_DOLLY_PAN;break;case jh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Fe(),f=l.TOUCH_DOLLY_ROTATE;break;default:f=l.NONE}break;default:f=l.NONE}f!==l.NONE&&r.dispatchEvent(a)}function Je(se){switch(tt(se),f){case l.TOUCH_ROTATE:if(r.enableRotate===!1)return;ae(se),r.update();break;case l.TOUCH_PAN:if(r.enablePan===!1)return;lt(se),r.update();break;case l.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;rt(se),r.update();break;case l.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;K(se),r.update();break;default:f=l.NONE}}function _t(se){r.enabled!==!1&&se.preventDefault()}function ut(se){U.push(se)}function Ke(se){delete G[se.pointerId];for(let Te=0;Te<U.length;Te++)if(U[Te].pointerId==se.pointerId){U.splice(Te,1);return}}function tt(se){let Te=G[se.pointerId];Te===void 0&&(Te=new He,G[se.pointerId]=Te),Te.set(se.pageX,se.pageY)}function St(se){const Te=se.pointerId===U[0].pointerId?U[1]:U[0];return G[Te.pointerId]}this.dollyIn=(se=te())=>{Z(se),r.update()},this.dollyOut=(se=te())=>{J(se),r.update()},this.getScale=()=>_,this.setScale=se=>{ve(se),r.update()},this.getZoomScale=()=>te(),t!==void 0&&this.connect(t),this.update()}};function yA(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,r=i.length;t<r;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const ip="srgb",qu="srgb-linear",R4=3001,Vte=3e3;class qD extends is{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Yte(t)}),this.register(function(t){return new Jte(t)}),this.register(function(t){return new rne(t)}),this.register(function(t){return new ane(t)}),this.register(function(t){return new sne(t)}),this.register(function(t){return new Wte(t)}),this.register(function(t){return new Kte(t)}),this.register(function(t){return new Qte(t)}),this.register(function(t){return new ene(t)}),this.register(function(t){return new Zte(t)}),this.register(function(t){return new tne(t)}),this.register(function(t){return new qte(t)}),this.register(function(t){return new ine(t)}),this.register(function(t){return new nne(t)}),this.register(function(t){return new $te(t)}),this.register(function(t){return new one(t)}),this.register(function(t){return new lne(t)})}load(e,t,r,n){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const d=hd.extractUrlBase(e);s=hd.resolveURL(d,this.path)}else s=hd.extractUrlBase(e);this.manager.itemStart(e);const l=function(d){n?n(d):console.error(d),a.manager.itemError(e),a.manager.itemEnd(e)},f=new No(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(d){try{a.parse(d,s,function(m){t(m),a.manager.itemEnd(e)},l)}catch(m){l(m)}},r,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,n){let a;const s={},l={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(yA(new Uint8Array(e.slice(0,4)))===PH){try{s[Hn.KHR_BINARY_GLTF]=new cne(e)}catch(m){n&&n(m);return}a=JSON.parse(s[Hn.KHR_BINARY_GLTF].content)}else a=JSON.parse(yA(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const f=new Sne(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const m=this.pluginCallbacks[d](f);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[m.name]=m,s[m.name]=!0}if(a.extensionsUsed)for(let d=0;d<a.extensionsUsed.length;++d){const m=a.extensionsUsed[d],g=a.extensionsRequired||[];switch(m){case Hn.KHR_MATERIALS_UNLIT:s[m]=new Xte;break;case Hn.KHR_DRACO_MESH_COMPRESSION:s[m]=new une(a,this.dracoLoader);break;case Hn.KHR_TEXTURE_TRANSFORM:s[m]=new fne;break;case Hn.KHR_MESH_QUANTIZATION:s[m]=new dne;break;default:g.indexOf(m)>=0&&l[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}f.setExtensions(s),f.setPlugins(l),f.parse(r,n)}parseAsync(e,t){const r=this;return new Promise(function(n,a){r.parse(e,t,n,a)})}}function jte(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const Hn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class $te{constructor(e){this.parser=e,this.name=Hn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,n=t.length;r<n;r++){const a=t[r];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let n=t.cache.get(r);if(n)return n;const a=t.json,f=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let d;const m=new xt(16777215);f.color!==void 0&&m.setRGB(f.color[0],f.color[1],f.color[2],qu);const g=f.range!==void 0?f.range:0;switch(f.type){case"directional":d=new FD(m),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new PD(m),d.distance=g;break;case"spot":d=new LD(m),d.distance=g,f.spot=f.spot||{},f.spot.innerConeAngle=f.spot.innerConeAngle!==void 0?f.spot.innerConeAngle:0,f.spot.outerConeAngle=f.spot.outerConeAngle!==void 0?f.spot.outerConeAngle:Math.PI/4,d.angle=f.spot.outerConeAngle,d.penumbra=1-f.spot.innerConeAngle/f.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+f.type)}return d.position.set(0,0,0),d.decay=2,ku(d,f),f.intensity!==void 0&&(d.intensity=f.intensity),d.name=t.createUniqueName(f.name||"light_"+e),n=Promise.resolve(d),t.cache.add(r,n),n}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,a=r.json.nodes[e],l=(a.extensions&&a.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(f){return r._getNodeRef(t.cache,l,f)})}}class Xte{constructor(){this.name=Hn.KHR_MATERIALS_UNLIT}getMaterialType(){return wo}extendParams(e,t,r){const n=[];e.color=new xt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],qu),e.opacity=s[3]}a.baseColorTexture!==void 0&&n.push(r.assignTexture(e,"map",a.baseColorTexture,ip))}return Promise.all(n)}}class Zte{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=n.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class Yte{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const l=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new He(l,l)}return Promise.all(a)}}class Jte{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=n.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class qte{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class Wte{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new xt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=n.extensions[this.name];if(s.sheenColorFactor!==void 0){const l=s.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],qu)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(r.assignTexture(t,"sheenColorMap",s.sheenColorTexture,ip)),s.sheenRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class Kte{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(r.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class Qte{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(r.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const l=s.attenuationColor||[1,1,1];return t.attenuationColor=new xt().setRGB(l[0],l[1],l[2],qu),Promise.all(a)}}class ene{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=n.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class tne{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(r.assignTexture(t,"specularIntensityMap",s.specularTexture));const l=s.specularColorFactor||[1,1,1];return t.specularColor=new xt().setRGB(l[0],l[1],l[2],qu),s.specularColorTexture!==void 0&&a.push(r.assignTexture(t,"specularColorMap",s.specularColorTexture,ip)),Promise.all(a)}}class nne{constructor(e){this.parser=e,this.name=Hn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(r.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(a)}}class ine{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_l}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const a=[],s=n.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(r.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class rne{constructor(e){this.parser=e,this.name=Hn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const a=n.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class ane{constructor(e){this.parser=e,this.name=Hn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,n=r.json,a=n.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],l=n.images[s.source];let f=r.textureLoader;if(l.uri){const d=r.options.manager.getHandler(l.uri);d!==null&&(f=d)}return this.detectSupport().then(function(d){if(d)return r.loadTextureImage(e,s.source,f);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class sne{constructor(e){this.parser=e,this.name=Hn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,n=r.json,a=n.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],l=n.images[s.source];let f=r.textureLoader;if(l.uri){const d=r.options.manager.getHandler(l.uri);d!==null&&(f=d)}return this.detectSupport().then(function(d){if(d)return r.loadTextureImage(e,s.source,f);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class one{constructor(e){this.name=Hn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const n=r.extensions[this.name],a=this.parser.getDependency("buffer",n.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(l){const f=n.byteOffset||0,d=n.byteLength||0,m=n.count,g=n.byteStride,_=new Uint8Array(l,f,d);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(m,g,_,n.mode,n.filter).then(function(x){return x.buffer}):s.ready.then(function(){const x=new ArrayBuffer(m*g);return s.decodeGltfBuffer(new Uint8Array(x),m,g,_,n.mode,n.filter),x})})}else return null}}class lne{constructor(e){this.name=Hn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const n=t.meshes[r.mesh];for(const d of n.primitives)if(d.mode!==ol.TRIANGLES&&d.mode!==ol.TRIANGLE_STRIP&&d.mode!==ol.TRIANGLE_FAN&&d.mode!==void 0)return null;const s=r.extensions[this.name].attributes,l=[],f={};for(const d in s)l.push(this.parser.getDependency("accessor",s[d]).then(m=>(f[d]=m,f[d])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(d=>{const m=d.pop(),g=m.isGroup?m.children:[m],_=d[0].count,x=[];for(const b of g){const M=new Qt,T=new W,A=new va,R=new W(1,1,1),B=new xD(b.geometry,b.material,_);for(let D=0;D<_;D++)f.TRANSLATION&&T.fromBufferAttribute(f.TRANSLATION,D),f.ROTATION&&A.fromBufferAttribute(f.ROTATION,D),f.SCALE&&R.fromBufferAttribute(f.SCALE,D),B.setMatrixAt(D,M.compose(T,A,R));for(const D in f)if(D==="_COLOR_0"){const I=f[D];B.instanceColor=new Ap(I.array,I.itemSize,I.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&b.geometry.setAttribute(D,f[D]);Qn.prototype.copy.call(B,b),this.parser.assignFinalMaterial(B),x.push(B)}return m.isGroup?(m.clear(),m.add(...x),m):x[0]}))}}const PH="glTF",p_=12,D4={JSON:1313821514,BIN:5130562};class cne{constructor(e){this.name=Hn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,p_);if(this.header={magic:yA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==PH)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-p_,n=new DataView(e,p_);let a=0;for(;a<r;){const s=n.getUint32(a,!0);a+=4;const l=n.getUint32(a,!0);if(a+=4,l===D4.JSON){const f=new Uint8Array(e,p_+a,s);this.content=yA(f)}else if(l===D4.BIN){const f=p_+a;this.body=e.slice(f,f+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class une{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Hn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,n=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,l={},f={},d={};for(const m in s){const g=TC[m]||m.toLowerCase();l[g]=s[m]}for(const m in e.attributes){const g=TC[m]||m.toLowerCase();if(s[m]!==void 0){const _=r.accessors[e.attributes[m]],x=Lg[_.componentType];d[g]=x.name,f[g]=_.normalized===!0}}return t.getDependency("bufferView",a).then(function(m){return new Promise(function(g,_){n.decodeDracoFile(m,function(x){for(const b in x.attributes){const M=x.attributes[b],T=f[b];T!==void 0&&(M.normalized=T)}g(x)},l,d,qu,_)})})}}class fne{constructor(){this.name=Hn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class dne{constructor(){this.name=Hn.KHR_MESH_QUANTIZATION}}class FH extends bv{constructor(e,t,r,n){super(e,t,r,n)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,a=e*n*3+n;for(let s=0;s!==n;s++)t[s]=r[a+s];return t}interpolate_(e,t,r,n){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,f=l*2,d=l*3,m=n-t,g=(r-t)/m,_=g*g,x=_*g,b=e*d,M=b-d,T=-2*x+3*_,A=x-_,R=1-T,B=A-_+g;for(let D=0;D!==l;D++){const I=s[M+D+l],L=s[M+D+f]*m,P=s[b+D+l],F=s[b+D]*m;a[D]=R*I+B*L+T*P+A*F}return a}}const hne=new va;class pne extends FH{interpolate_(e,t,r,n){const a=super.interpolate_(e,t,r,n);return hne.fromArray(a).normalize().toArray(a),a}}const ol={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Lg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},B4={9728:Wi,9729:ki,9984:xE,9985:Ig,9986:Kh,9987:hl},U4={33071:To,33648:nv,10497:Ed},d2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},TC={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Nte>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Jf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},mne={CUBICSPLINE:void 0,LINEAR:sv,STEP:av},h2={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function gne(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new xv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:tc})),i.DefaultMaterial}function Fh(i,e,t){for(const r in t.extensions)i[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function ku(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function vne(i,e,t){let r=!1,n=!1,a=!1;for(let d=0,m=e.length;d<m;d++){const g=e[d];if(g.POSITION!==void 0&&(r=!0),g.NORMAL!==void 0&&(n=!0),g.COLOR_0!==void 0&&(a=!0),r&&n&&a)break}if(!r&&!n&&!a)return Promise.resolve(i);const s=[],l=[],f=[];for(let d=0,m=e.length;d<m;d++){const g=e[d];if(r){const _=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):i.attributes.position;s.push(_)}if(n){const _=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):i.attributes.normal;l.push(_)}if(a){const _=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):i.attributes.color;f.push(_)}}return Promise.all([Promise.all(s),Promise.all(l),Promise.all(f)]).then(function(d){const m=d[0],g=d[1],_=d[2];return r&&(i.morphAttributes.position=m),n&&(i.morphAttributes.normal=g),a&&(i.morphAttributes.color=_),i.morphTargetsRelative=!0,i})}function _ne(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let r=0,n=t.length;r<n;r++)i.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yne(i){let e;const t=i.extensions&&i.extensions[Hn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+p2(t.attributes):e=i.indices+":"+p2(i.attributes)+":"+i.mode,i.targets!==void 0)for(let r=0,n=i.targets.length;r<n;r++)e+=":"+p2(i.targets[r]);return e}function p2(i){let e="";const t=Object.keys(i).sort();for(let r=0,n=t.length;r<n;r++)e+=t[r]+":"+i[t[r]]+";";return e}function CC(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function xne(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const bne=new Qt;class Sne{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new jte,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,n=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,n=navigator.userAgent.indexOf("Firefox")>-1,a=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||n&&a<98?this.textureLoader=new fx(this.options.manager):this.textureLoader=new tH(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new No(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,n=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const l={scene:s[0][n.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:n.asset,parser:r,userData:{}};return Fh(a,l,n),ku(l,n),Promise.all(r._invokeAll(function(f){return f.afterRoot&&f.afterRoot(l)})).then(function(){for(const f of l.scenes)f.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let n=0,a=t.length;n<a;n++){const s=t[n].joints;for(let l=0,f=s.length;l<f;l++)e[s[l]].isBone=!0}for(let n=0,a=e.length;n<a;n++){const s=e[n];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const n=r.clone(),a=(s,l)=>{const f=this.associations.get(s);f!=null&&this.associations.set(l,f);for(const[d,m]of s.children.entries())a(m,l.children[d])};return a(r,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const n=e(t[r]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let n=0;n<t.length;n++){const a=e(t[n]);a&&r.push(a)}return r}getDependency(e,t){const r=e+":"+t;let n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":n=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!n)throw new Error("Unknown type: "+e);break}this.cache.add(r,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,n=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(n.map(function(a,s){return r.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Hn.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(a,s){r.load(hd.resolveURL(t.uri,n.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const n=t.byteLength||0,a=t.byteOffset||0;return r.slice(a,a+n)})}loadAccessor(e){const t=this,r=this.json,n=this.json.accessors[e];if(n.bufferView===void 0&&n.sparse===void 0){const s=d2[n.type],l=Lg[n.componentType],f=n.normalized===!0,d=new l(n.count*s);return Promise.resolve(new ei(d,s,f))}const a=[];return n.bufferView!==void 0?a.push(this.getDependency("bufferView",n.bufferView)):a.push(null),n.sparse!==void 0&&(a.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(a).then(function(s){const l=s[0],f=d2[n.type],d=Lg[n.componentType],m=d.BYTES_PER_ELEMENT,g=m*f,_=n.byteOffset||0,x=n.bufferView!==void 0?r.bufferViews[n.bufferView].byteStride:void 0,b=n.normalized===!0;let M,T;if(x&&x!==g){const A=Math.floor(_/x),R="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+A+":"+n.count;let B=t.cache.get(R);B||(M=new d(l,A*x,n.count*x/m),B=new ax(M,x/m),t.cache.add(R,B)),T=new Md(B,f,_%x/m,b)}else l===null?M=new d(n.count*f):M=new d(l,_,n.count*f),T=new ei(M,f,b);if(n.sparse!==void 0){const A=d2.SCALAR,R=Lg[n.sparse.indices.componentType],B=n.sparse.indices.byteOffset||0,D=n.sparse.values.byteOffset||0,I=new R(s[1],B,n.sparse.count*A),L=new d(s[2],D,n.sparse.count*f);l!==null&&(T=new ei(T.array.slice(),T.itemSize,T.normalized));for(let P=0,F=I.length;P<F;P++){const O=I[P];if(T.setX(O,L[P*f]),f>=2&&T.setY(O,L[P*f+1]),f>=3&&T.setZ(O,L[P*f+2]),f>=4&&T.setW(O,L[P*f+3]),f>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return T})}loadTexture(e){const t=this.json,r=this.options,a=t.textures[e].source,s=t.images[a];let l=this.textureLoader;if(s.uri){const f=r.manager.getHandler(s.uri);f!==null&&(l=f)}return this.loadTextureImage(e,a,l)}loadTextureImage(e,t,r){const n=this,a=this.json,s=a.textures[e],l=a.images[t],f=(l.uri||l.bufferView)+":"+s.sampler;if(this.textureCache[f])return this.textureCache[f];const d=this.loadImageSource(t,r).then(function(m){m.flipY=!1,m.name=s.name||l.name||"",m.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(m.name=l.uri);const _=(a.samplers||{})[s.sampler]||{};return m.magFilter=B4[_.magFilter]||ki,m.minFilter=B4[_.minFilter]||hl,m.wrapS=U4[_.wrapS]||Ed,m.wrapT=U4[_.wrapT]||Ed,n.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[f]=d,d}loadImageSource(e,t){const r=this,n=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const s=n.images[e],l=self.URL||self.webkitURL;let f=s.uri||"",d=!1;if(s.bufferView!==void 0)f=r.getDependency("bufferView",s.bufferView).then(function(g){d=!0;const _=new Blob([g],{type:s.mimeType});return f=l.createObjectURL(_),f});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(f).then(function(g){return new Promise(function(_,x){let b=_;t.isImageBitmapLoader===!0&&(b=function(M){const T=new wi(M);T.needsUpdate=!0,_(T)}),t.load(hd.resolveURL(g,a.path),b,void 0,x)})}).then(function(g){return d===!0&&l.revokeObjectURL(f),ku(g,s),g.userData.mimeType=s.mimeType||xne(s.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",f),g});return this.sourceCache[e]=m,m}assignTexture(e,t,r,n){const a=this;return this.getDependency("texture",r.index).then(function(s){if(!s)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(s=s.clone(),s.channel=r.texCoord),a.extensions[Hn.KHR_TEXTURE_TRANSFORM]){const l=r.extensions!==void 0?r.extensions[Hn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const f=a.associations.get(s);s=a.extensions[Hn.KHR_TEXTURE_TRANSFORM].extendTexture(s,l),a.associations.set(s,f)}}return n!==void 0&&(typeof n=="number"&&(n=n===R4?ip:qu),"colorSpace"in s?s.colorSpace=n:s.encoding=n===ip?R4:Vte),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const n=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+r.uuid;let f=this.cache.get(l);f||(f=new zE,Tr.prototype.copy.call(f,r),f.color.copy(r.color),f.map=r.map,f.sizeAttenuation=!1,this.cache.add(l,f)),r=f}else if(e.isLine){const l="LineBasicMaterial:"+r.uuid;let f=this.cache.get(l);f||(f=new ns,Tr.prototype.copy.call(f,r),f.color.copy(r.color),f.map=r.map,this.cache.add(l,f)),r=f}if(n||a||s){let l="ClonedMaterial:"+r.uuid+":";n&&(l+="derivative-tangents:"),a&&(l+="vertex-colors:"),s&&(l+="flat-shading:");let f=this.cache.get(l);f||(f=r.clone(),a&&(f.vertexColors=!0),s&&(f.flatShading=!0),n&&(f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(l,f),this.associations.set(f,this.associations.get(r))),r=f}e.material=r}getMaterialType(){return xv}loadMaterial(e){const t=this,r=this.json,n=this.extensions,a=r.materials[e];let s;const l={},f=a.extensions||{},d=[];if(f[Hn.KHR_MATERIALS_UNLIT]){const g=n[Hn.KHR_MATERIALS_UNLIT];s=g.getMaterialType(),d.push(g.extendParams(l,a,t))}else{const g=a.pbrMetallicRoughness||{};if(l.color=new xt(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const _=g.baseColorFactor;l.color.setRGB(_[0],_[1],_[2],qu),l.opacity=_[3]}g.baseColorTexture!==void 0&&d.push(t.assignTexture(l,"map",g.baseColorTexture,ip)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),d.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),s=this._invokeOne(function(_){return _.getMaterialType&&_.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(_){return _.extendMaterialParams&&_.extendMaterialParams(e,l)})))}a.doubleSided===!0&&(l.side=Is);const m=a.alphaMode||h2.OPAQUE;if(m===h2.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,m===h2.MASK&&(l.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==wo&&(d.push(t.assignTexture(l,"normalMap",a.normalTexture)),l.normalScale=new He(1,1),a.normalTexture.scale!==void 0)){const g=a.normalTexture.scale;l.normalScale.set(g,g)}if(a.occlusionTexture!==void 0&&s!==wo&&(d.push(t.assignTexture(l,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==wo){const g=a.emissiveFactor;l.emissive=new xt().setRGB(g[0],g[1],g[2],qu)}return a.emissiveTexture!==void 0&&s!==wo&&d.push(t.assignTexture(l,"emissiveMap",a.emissiveTexture,ip)),Promise.all(d).then(function(){const g=new s(l);return a.name&&(g.name=a.name),ku(g,a),t.associations.set(g,{materials:e}),a.extensions&&Fh(n,g,a),g})}createUniqueName(e){const t=ti.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,n=this.primitiveCache;function a(l){return r[Hn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(f){return O4(f,l,t)})}const s=[];for(let l=0,f=e.length;l<f;l++){const d=e[l],m=yne(d),g=n[m];if(g)s.push(g.promise);else{let _;d.extensions&&d.extensions[Hn.KHR_DRACO_MESH_COMPRESSION]?_=a(d):_=O4(new dn,d,t),n[m]={primitive:d,promise:_},s.push(_)}}return Promise.all(s)}loadMesh(e){const t=this,r=this.json,n=this.extensions,a=r.meshes[e],s=a.primitives,l=[];for(let f=0,d=s.length;f<d;f++){const m=s[f].material===void 0?gne(this.cache):this.getDependency("material",s[f].material);l.push(m)}return l.push(t.loadGeometries(s)),Promise.all(l).then(function(f){const d=f.slice(0,f.length-1),m=f[f.length-1],g=[];for(let x=0,b=m.length;x<b;x++){const M=m[x],T=s[x];let A;const R=d[x];if(T.mode===ol.TRIANGLES||T.mode===ol.TRIANGLE_STRIP||T.mode===ol.TRIANGLE_FAN||T.mode===void 0)A=a.isSkinnedMesh===!0?new yD(M,R):new _r(M,R),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),T.mode===ol.TRIANGLE_STRIP?A.geometry=T4(A.geometry,fD):T.mode===ol.TRIANGLE_FAN&&(A.geometry=T4(A.geometry,uA));else if(T.mode===ol.LINES)A=new rc(M,R);else if(T.mode===ol.LINE_STRIP)A=new tf(M,R);else if(T.mode===ol.LINE_LOOP)A=new bD(M,R);else if(T.mode===ol.POINTS)A=new SD(M,R);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+T.mode);Object.keys(A.geometry.morphAttributes).length>0&&_ne(A,a),A.name=t.createUniqueName(a.name||"mesh_"+e),ku(A,a),T.extensions&&Fh(n,A,T),t.assignFinalMaterial(A),g.push(A)}for(let x=0,b=g.length;x<b;x++)t.associations.set(g[x],{meshes:e,primitives:x});if(g.length===1)return a.extensions&&Fh(n,g[0],a),g[0];const _=new Zu;a.extensions&&Fh(n,_,a),t.associations.set(_,{meshes:e});for(let x=0,b=g.length;x<b;x++)_.add(g[x]);return _})}loadCamera(e){let t;const r=this.json.cameras[e],n=r[r.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new qi(pD.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):r.type==="orthographic"&&(t=new Wc(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),ku(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let n=0,a=t.joints.length;n<a;n++)r.push(this._loadNodeShallow(t.joints[n]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(n){const a=n.pop(),s=n,l=[],f=[];for(let d=0,m=s.length;d<m;d++){const g=s[d];if(g){l.push(g);const _=new Qt;a!==null&&_.fromArray(a.array,d*16),f.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new sx(l,f)})}loadAnimation(e){const t=this.json,r=this,n=t.animations[e],a=n.name?n.name:"animation_"+e,s=[],l=[],f=[],d=[],m=[];for(let g=0,_=n.channels.length;g<_;g++){const x=n.channels[g],b=n.samplers[x.sampler],M=x.target,T=M.node,A=n.parameters!==void 0?n.parameters[b.input]:b.input,R=n.parameters!==void 0?n.parameters[b.output]:b.output;M.node!==void 0&&(s.push(this.getDependency("node",T)),l.push(this.getDependency("accessor",A)),f.push(this.getDependency("accessor",R)),d.push(b),m.push(M))}return Promise.all([Promise.all(s),Promise.all(l),Promise.all(f),Promise.all(d),Promise.all(m)]).then(function(g){const _=g[0],x=g[1],b=g[2],M=g[3],T=g[4],A=[];for(let R=0,B=_.length;R<B;R++){const D=_[R],I=x[R],L=b[R],P=M[R],F=T[R];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const O=r._createAnimationTracks(D,I,L,P,F);if(O)for(let U=0;U<O.length;U++)A.push(O[U])}return new dv(a,void 0,A)})}createNodeMesh(e){const t=this.json,r=this,n=t.nodes[e];return n.mesh===void 0?null:r.getDependency("mesh",n.mesh).then(function(a){const s=r._getNodeRef(r.meshCache,n.mesh,a);return n.weights!==void 0&&s.traverse(function(l){if(l.isMesh)for(let f=0,d=n.weights.length;f<d;f++)l.morphTargetInfluences[f]=n.weights[f]}),s})}loadNode(e){const t=this.json,r=this,n=t.nodes[e],a=r._loadNodeShallow(e),s=[],l=n.children||[];for(let d=0,m=l.length;d<m;d++)s.push(r.getDependency("node",l[d]));const f=n.skin===void 0?Promise.resolve(null):r.getDependency("skin",n.skin);return Promise.all([a,Promise.all(s),f]).then(function(d){const m=d[0],g=d[1],_=d[2];_!==null&&m.traverse(function(x){x.isSkinnedMesh&&x.bind(_,bne)});for(let x=0,b=g.length;x<b;x++)m.add(g[x]);return m})}_loadNodeShallow(e){const t=this.json,r=this.extensions,n=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],s=a.name?n.createUniqueName(a.name):"",l=[],f=n._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return f&&l.push(f),a.camera!==void 0&&l.push(n.getDependency("camera",a.camera).then(function(d){return n._getNodeRef(n.cameraCache,a.camera,d)})),n._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){l.push(d)}),this.nodeCache[e]=Promise.all(l).then(function(d){let m;if(a.isBone===!0?m=new NE:d.length>1?m=new Zu:d.length===1?m=d[0]:m=new Qn,m!==d[0])for(let g=0,_=d.length;g<_;g++)m.add(d[g]);if(a.name&&(m.userData.name=a.name,m.name=s),ku(m,a),a.extensions&&Fh(r,m,a),a.matrix!==void 0){const g=new Qt;g.fromArray(a.matrix),m.applyMatrix4(g)}else a.translation!==void 0&&m.position.fromArray(a.translation),a.rotation!==void 0&&m.quaternion.fromArray(a.rotation),a.scale!==void 0&&m.scale.fromArray(a.scale);return n.associations.has(m)||n.associations.set(m,{}),n.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],n=this,a=new Zu;r.name&&(a.name=n.createUniqueName(r.name)),ku(a,r),r.extensions&&Fh(t,a,r);const s=r.nodes||[],l=[];for(let f=0,d=s.length;f<d;f++)l.push(n.getDependency("node",s[f]));return Promise.all(l).then(function(f){for(let m=0,g=f.length;m<g;m++)a.add(f[m]);const d=m=>{const g=new Map;for(const[_,x]of n.associations)(_ instanceof Tr||_ instanceof wi)&&g.set(_,x);return m.traverse(_=>{const x=n.associations.get(_);x!=null&&g.set(_,x)}),g};return n.associations=d(a),a})}_createAnimationTracks(e,t,r,n,a){const s=[],l=e.name?e.name:e.uuid,f=[];Jf[a.path]===Jf.weights?e.traverse(function(_){_.morphTargetInfluences&&f.push(_.name?_.name:_.uuid)}):f.push(l);let d;switch(Jf[a.path]){case Jf.weights:d=Mp;break;case Jf.rotation:d=Tp;break;case Jf.position:case Jf.scale:d=Cp;break;default:r.itemSize===1?d=Mp:d=Cp;break}const m=n.interpolation!==void 0?mne[n.interpolation]:sv,g=this._getArrayFromAccessor(r);for(let _=0,x=f.length;_<x;_++){const b=new d(f[_]+"."+Jf[a.path],t.array,g,m);n.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(b),s.push(b)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=CC(t.constructor),n=new Float32Array(t.length);for(let a=0,s=t.length;a<s;a++)n[a]=t[a]*r;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const n=this instanceof Tp?pne:FH;return new n(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Ane(i,e,t){const r=e.attributes,n=new Ba;if(r.POSITION!==void 0){const l=t.json.accessors[r.POSITION],f=l.min,d=l.max;if(f!==void 0&&d!==void 0){if(n.set(new W(f[0],f[1],f[2]),new W(d[0],d[1],d[2])),l.normalized){const m=CC(Lg[l.componentType]);n.min.multiplyScalar(m),n.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const l=new W,f=new W;for(let d=0,m=a.length;d<m;d++){const g=a[d];if(g.POSITION!==void 0){const _=t.json.accessors[g.POSITION],x=_.min,b=_.max;if(x!==void 0&&b!==void 0){if(f.setX(Math.max(Math.abs(x[0]),Math.abs(b[0]))),f.setY(Math.max(Math.abs(x[1]),Math.abs(b[1]))),f.setZ(Math.max(Math.abs(x[2]),Math.abs(b[2]))),_.normalized){const M=CC(Lg[_.componentType]);f.multiplyScalar(M)}l.max(f)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(l)}i.boundingBox=n;const s=new _a;n.getCenter(s.center),s.radius=n.min.distanceTo(n.max)/2,i.boundingSphere=s}function O4(i,e,t){const r=e.attributes,n=[];function a(s,l){return t.getDependency("accessor",s).then(function(f){i.setAttribute(l,f)})}for(const s in r){const l=TC[s]||s.toLowerCase();l in i.attributes||n.push(a(r[s],l))}if(e.indices!==void 0&&!i.index){const s=t.getDependency("accessor",e.indices).then(function(l){i.setIndex(l)});n.push(s)}return ku(i,e),Ane(i,e,t),Promise.all(n).then(function(){return e.targets!==void 0?vne(i,e.targets,t):i})}const m2=new WeakMap;class Ene extends is{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,n){const a=new No(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,l).then(t).catch(n)},r,n)}decodeDracoFile(e,t,r,n){const a={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const f in t.attributeTypes){const d=t.attributeTypes[f];d.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[f]=d.name)}const r=JSON.stringify(t);if(m2.has(e)){const f=m2.get(e);if(f.key===r)return f.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const a=this.workerNextTaskID++,s=e.byteLength,l=this._getWorker(a,s).then(f=>(n=f,new Promise((d,m)=>{n._callbacks[a]={resolve:d,reject:m},n.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(f=>this._createGeometry(f.geometry));return l.catch(()=>!0).then(()=>{n&&a&&this._releaseTask(n,a)}),m2.set(e,{key:r,promise:l}),l}_createGeometry(e){const t=new dn;e.index&&t.setIndex(new ei(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const n=e.attributes[r],a=n.name,s=n.array,l=n.itemSize;t.setAttribute(a,new ei(s,l))}return t}_loadLibrary(e,t){const r=new No(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((n,a)=>{r.load(e,n,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const n=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const a=Mne.toString(),s=["/* draco decoder */",n,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(a){const s=a.data;switch(s.type){case"decode":n._callbacks[s.id].resolve(s);break;case"error":n._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,a){return n._taskLoad>a._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Mne(){let i,e;onmessage=function(s){const l=s.data;switch(l.type){case"init":i=l.decoderConfig,e=new Promise(function(m){i.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(i)});break;case"decode":const f=l.buffer,d=l.taskConfig;e.then(m=>{const g=m.draco,_=new g.Decoder,x=new g.DecoderBuffer;x.Init(new Int8Array(f),f.byteLength);try{const b=t(g,_,x,d),M=b.attributes.map(T=>T.array.buffer);b.index&&M.push(b.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:b},M)}catch(b){console.error(b),self.postMessage({type:"error",id:l.id,error:b.message})}finally{g.destroy(x),g.destroy(_)}});break}};function t(s,l,f,d){const m=d.attributeIDs,g=d.attributeTypes;let _,x;const b=l.GetEncodedGeometryType(f);if(b===s.TRIANGULAR_MESH)_=new s.Mesh,x=l.DecodeBufferToMesh(f,_);else if(b===s.POINT_CLOUD)_=new s.PointCloud,x=l.DecodeBufferToPointCloud(f,_);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!x.ok()||_.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+x.error_msg());const M={index:null,attributes:[]};for(const T in m){const A=self[g[T]];let R,B;if(d.useUniqueIDs)B=m[T],R=l.GetAttributeByUniqueId(_,B);else{if(B=l.GetAttributeId(_,s[m[T]]),B===-1)continue;R=l.GetAttribute(_,B)}M.attributes.push(n(s,l,_,T,A,R))}return b===s.TRIANGULAR_MESH&&(M.index=r(s,l,_)),s.destroy(_),M}function r(s,l,f){const m=f.num_faces()*3,g=m*4,_=s._malloc(g);l.GetTrianglesUInt32Array(f,g,_);const x=new Uint32Array(s.HEAPF32.buffer,_,m).slice();return s._free(_),{array:x,itemSize:1}}function n(s,l,f,d,m,g){const _=g.num_components(),b=f.num_points()*_,M=b*m.BYTES_PER_ELEMENT,T=a(s,m),A=s._malloc(M);l.GetAttributeDataArrayForAllPoints(f,g,T,M,A);const R=new m(s.HEAPF32.buffer,A,b).slice();return s._free(A),{name:d,array:R,itemSize:_}}function a(s,l){switch(l){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let $b;const g2=()=>{if($b)return $b;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let n=i;WebAssembly.validate(t)&&(n=e);let a;const s=WebAssembly.instantiate(l(n),{}).then(g=>{a=g.instance,a.exports.__wasm_call_ctors()});function l(g){const _=new Uint8Array(g.length);for(let b=0;b<g.length;++b){const M=g.charCodeAt(b);_[b]=M>96?M-71:M>64?M-65:M>47?M+4:M>46?63:62}let x=0;for(let b=0;b<g.length;++b)_[x++]=_[b]<60?r[_[b]]:(_[b]-60)*64+_[++b];return _.buffer.slice(0,x)}function f(g,_,x,b,M,T){const A=a.exports.sbrk,R=x+3&-4,B=A(R*b),D=A(M.length),I=new Uint8Array(a.exports.memory.buffer);I.set(M,D);const L=g(B,x,b,D,M.length);if(L===0&&T&&T(B,R,b),_.set(I.subarray(B,B+x*b)),A(B-A(0)),L!==0)throw new Error(`Malformed buffer data: ${L}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return $b={ready:s,supported:!0,decodeVertexBuffer(g,_,x,b,M){f(a.exports.meshopt_decodeVertexBuffer,g,_,x,b,a.exports[d[M]])},decodeIndexBuffer(g,_,x,b){f(a.exports.meshopt_decodeIndexBuffer,g,_,x,b)},decodeIndexSequence(g,_,x,b){f(a.exports.meshopt_decodeIndexSequence,g,_,x,b)},decodeGltfBuffer(g,_,x,b,M,T){f(a.exports[m[M]],g,_,x,b,a.exports[d[T]])}},$b},v2=i=>i===Object(i)&&!Array.isArray(i)&&typeof i!="function";function WD(i,e){const t=Zl(a=>a.gl),r=Bd(fx,v2(i)?Object.values(i):i);return ot.useLayoutEffect(()=>{e?.(r)},[e]),ot.useEffect(()=>{if("initTexture"in t){let a=[];Array.isArray(r)?a=r:r instanceof wi?a=[r]:v2(r)&&(a=Object.values(r)),a.forEach(s=>{s instanceof wi&&t.initTexture(s)})}},[t,r]),ot.useMemo(()=>{if(v2(i)){const a={};let s=0;for(const l in i)a[l]=r[s++];return a}else return r},[i,r])}WD.preload=i=>Bd.preload(fx,i);WD.clear=i=>Bd.clear(fx,i);let Xb=null,HH="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function kH(i=!0,e=!0,t){return r=>{t&&t(r),i&&(Xb||(Xb=new Ene),Xb.setDecoderPath(typeof i=="string"?i:HH),r.setDRACOLoader(Xb)),e&&r.setMeshoptDecoder(typeof g2=="function"?g2():g2)}}const Ev=(i,e,t,r)=>Bd(qD,i,kH(e,t,r));Ev.preload=(i,e,t,r)=>Bd.preload(qD,i,kH(e,t,r));Ev.clear=i=>Bd.clear(qD,i);Ev.setDecoderPath=i=>{HH=i};const GH=ot.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:r,enableDamping:n=!0,keyEvents:a=!1,onChange:s,onStart:l,onEnd:f,...d},m)=>{const g=Zl(L=>L.invalidate),_=Zl(L=>L.camera),x=Zl(L=>L.gl),b=Zl(L=>L.events),M=Zl(L=>L.setEvents),T=Zl(L=>L.set),A=Zl(L=>L.get),R=Zl(L=>L.performance),B=e||_,D=r||b.connected||x.domElement,I=ot.useMemo(()=>new Gte(B),[B]);return tM(()=>{I.enabled&&I.update()},-1),ot.useEffect(()=>(a&&I.connect(a===!0?D:a),I.connect(D),()=>{I.dispose()}),[a,D,t,I,g]),ot.useEffect(()=>{const L=O=>{g(),t&&R.regress(),s&&s(O)},P=O=>{l&&l(O)},F=O=>{f&&f(O)};return I.addEventListener("change",L),I.addEventListener("start",P),I.addEventListener("end",F),()=>{I.removeEventListener("start",P),I.removeEventListener("end",F),I.removeEventListener("change",L)}},[s,l,f,I,g,M]),ot.useEffect(()=>{if(i){const L=A().controls;return T({controls:I}),()=>T({controls:L})}},[i,I]),ot.createElement("primitive",iC({ref:m,object:I,enableDamping:n},d))}),Tne=ot.forwardRef(({children:i,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:n=1,floatingRange:a=[-.1,.1],autoInvalidate:s=!1,...l},f)=>{const d=ot.useRef(null);ot.useImperativeHandle(f,()=>d.current,[]);const m=ot.useRef(Math.random()*1e4);return tM(g=>{var _,x;if(!e||t===0)return;s&&g.invalidate();const b=m.current+g.clock.elapsedTime;d.current.rotation.x=Math.cos(b/4*t)/8*r,d.current.rotation.y=Math.sin(b/4*t)/8*r,d.current.rotation.z=Math.sin(b/4*t)/20*r;let M=Math.sin(b/4*t)/10;M=pD.mapLinear(M,-.1,.1,(_=a?.[0])!==null&&_!==void 0?_:-.1,(x=a?.[1])!==null&&x!==void 0?x:.1),d.current.position.y=M*n,d.current.updateMatrix()}),ot.createElement("group",l,ot.createElement("group",{ref:d,matrixAutoUpdate:!1},i))});var Zb={},N4;function Cne(){if(N4)return Zb;N4=1,Zb.match=a,Zb.parse=s;var i=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,n=/(dpi|dpcm|dppx)?$/;function a(m,g){return s(m).some(function(_){var x=_.inverse,b=_.type==="all"||g.type===_.type;if(b&&x||!(b||x))return!1;var M=_.expressions.every(function(T){var A=T.feature,R=T.modifier,B=T.value,D=g[A];if(!D)return!1;switch(A){case"orientation":case"scan":return D.toLowerCase()===B.toLowerCase();case"width":case"height":case"device-width":case"device-height":B=d(B),D=d(D);break;case"resolution":B=f(B),D=f(D);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":B=l(B),D=l(D);break;case"grid":case"color":case"color-index":case"monochrome":B=parseInt(B,10)||1,D=parseInt(D,10)||0;break}switch(R){case"min":return D>=B;case"max":return D<=B;default:return D===B}});return M&&!x||!M&&x})}function s(m){return m.split(",").map(function(g){g=g.trim();var _=g.match(i),x=_[1],b=_[2],M=_[3]||"",T={};return T.inverse=!!x&&x.toLowerCase()==="not",T.type=b?b.toLowerCase():"all",M=M.match(/\([^\)]+\)/g)||[],T.expressions=M.map(function(A){var R=A.match(e),B=R[1].toLowerCase().match(t);return{modifier:B[1],feature:B[2],value:R[2]}}),T})}function l(m){var g=Number(m),_;return g||(_=m.match(/^(\d+)\s*\/\s*(\d+)$/),g=_[1]/_[2]),g}function f(m){var g=parseFloat(m),_=String(m).match(n)[1];switch(_){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function d(m){var g=parseFloat(m),_=String(m).match(r)[1];switch(_){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return Zb}var _2,I4;function wne(){if(I4)return _2;I4=1;var i=Cne().match,e=typeof window<"u"?window.matchMedia:null;function t(n,a,s){var l=this,f;e&&!s&&(f=e.call(window,n)),f?(this.matches=f.matches,this.media=f.media,f.addListener(g)):(this.matches=i(n,a),this.media=n),this.addListener=d,this.removeListener=m,this.dispose=_;function d(x){f&&f.addListener(x)}function m(x){f&&f.removeListener(x)}function g(x){l.matches=x.matches,l.media=x.media}function _(){f&&f.removeListener(g)}}function r(n,a,s){return new t(n,a,s)}return _2=r,_2}var Rne=wne();const Dne=pv(Rne);var Bne=/[A-Z]/g,Une=/^ms-/,y2={};function One(i){return"-"+i.toLowerCase()}function VH(i){if(y2.hasOwnProperty(i))return y2[i];var e=i.replace(Bne,One);return y2[i]=Une.test(e)?"-"+e:e}function Nne(i,e){if(i===e)return!0;if(!i||!e)return!1;const t=Object.keys(i),r=Object.keys(e),n=t.length;if(r.length!==n)return!1;for(let a=0;a<n;a++){const s=t[a];if(i[s]!==e[s]||!Object.prototype.hasOwnProperty.call(e,s))return!1}return!0}var x2={exports:{}},b2,z4;function Ine(){if(z4)return b2;z4=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b2=i,b2}var S2,L4;function zne(){if(L4)return S2;L4=1;var i=Ine();function e(){}function t(){}return t.resetWarningCache=e,S2=function(){function r(s,l,f,d,m,g){if(g!==i){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function n(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},S2}var P4;function Lne(){return P4||(P4=1,x2.exports=zne()()),x2.exports}var Pne=Lne();const di=pv(Pne),Rs=di.oneOfType([di.string,di.number]),jH={all:di.bool,grid:di.bool,aural:di.bool,braille:di.bool,handheld:di.bool,print:di.bool,projection:di.bool,screen:di.bool,tty:di.bool,tv:di.bool,embossed:di.bool},Fne={orientation:di.oneOf(["portrait","landscape"]),scan:di.oneOf(["progressive","interlace"]),aspectRatio:di.string,deviceAspectRatio:di.string,height:Rs,deviceHeight:Rs,width:Rs,deviceWidth:Rs,color:di.bool,colorIndex:di.bool,monochrome:di.bool,resolution:Rs,type:Object.keys(jH)},{type:Wre,...Hne}=Fne,kne={minAspectRatio:di.string,maxAspectRatio:di.string,minDeviceAspectRatio:di.string,maxDeviceAspectRatio:di.string,minHeight:Rs,maxHeight:Rs,minDeviceHeight:Rs,maxDeviceHeight:Rs,minWidth:Rs,maxWidth:Rs,minDeviceWidth:Rs,maxDeviceWidth:Rs,minColor:di.number,maxColor:di.number,minColorIndex:di.number,maxColorIndex:di.number,minMonochrome:di.number,maxMonochrome:di.number,minResolution:Rs,maxResolution:Rs,...Hne},Gne={...jH,...kne};var Vne={all:Gne};const jne=i=>`not ${i}`,$ne=(i,e)=>{const t=VH(i);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?jne(t):`(${t}: ${e})`},Xne=i=>i.join(" and "),Zne=i=>{const e=[];return Object.keys(Vne.all).forEach(t=>{const r=i[t];r!=null&&e.push($ne(t,r))}),Xne(e)},Yne=ot.createContext(void 0),Jne=i=>i.query||Zne(i),F4=i=>i?Object.keys(i).reduce((t,r)=>(t[VH(r)]=i[r],t),{}):void 0,$H=()=>{const i=ot.useRef(!1);return ot.useEffect(()=>{i.current=!0},[]),i.current},qne=i=>{const e=ot.useContext(Yne),t=()=>F4(i)||F4(e),[r,n]=ot.useState(t);return ot.useEffect(()=>{const a=t();Nne(r,a)||n(a)},[i,e]),r},Wne=i=>{const e=()=>Jne(i),[t,r]=ot.useState(e);return ot.useEffect(()=>{const n=e();t!==n&&r(n)},[i]),t},Kne=(i,e)=>{const t=()=>Dne(i,e||{},!!e),[r,n]=ot.useState(t),a=$H();return ot.useEffect(()=>{if(a){const s=t();return n(s),()=>{s&&s.dispose()}}},[i,e]),r},Qne=i=>{const[e,t]=ot.useState(i.matches);return ot.useEffect(()=>{const r=n=>{t(n.matches)};return i.addListener(r),t(i.matches),()=>{i.removeListener(r)}},[i]),e},H4=(i,e,t)=>{const r=qne(e),n=Wne(i);if(!n)throw new Error("Invalid or missing MediaQuery!");const a=Kne(n,r),s=Qne(a);return $H(),ot.useEffect(()=>{},[s]),ot.useEffect(()=>()=>{a&&a.dispose()},[]),s};var A2=1/1e3,eie=1e3,tie=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(i){typeof document<"u"&&document.hidden!==void 0&&(i?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=i)}get delta(){return this._delta*A2}get fixedDelta(){return this._fixedDelta*A2}set fixedDelta(i){this._fixedDelta=i*eie}get elapsed(){return this._elapsed*A2}update(i){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(i!==void 0?i:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(i){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},nie=(()=>{const i=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]),t=new dn;return t.setAttribute("position",new ei(i,3)),t.setAttribute("uv",new ei(e,2)),t})(),rs=class wC{static get fullscreenGeometry(){return nie}constructor(e="Pass",t=new Ey,r=new Wc){this.name=e,this.renderer=null,this.scene=t,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;t!==null&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new _r(wC.fullscreenGeometry,e),t.frustumCulled=!1,this.scene===null&&(this.scene=new Ey),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=nc){}render(e,t,r,n,a){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,r){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof yr||t instanceof Tr||t instanceof wi||t instanceof wC)&&this[e].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},iie=class extends rs{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(i,e,t,r,n){const a=i.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},rie=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,KD="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",XH=class extends Hr{constructor(){super({name:"CopyMaterial",defines:{COLOR_SPACE_CONVERSION:"1",DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new Dn(null),depthBuffer:new Dn(null),channelWeights:new Dn(null),opacity:new Dn(1)},blending:es,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:rie,vertexShader:KD}),this.depthFunc=Qg}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(i){const e=i!==null;this.colorWrite!==e&&(e?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=e,this.needsUpdate=!0),this.uniforms.inputBuffer.value=i}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(i){const e=i!==null;this.depthWrite!==e&&(e?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=e,this.depthWrite=e,this.needsUpdate=!0),this.uniforms.depthBuffer.value=i}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}get colorSpaceConversion(){return this.defines.COLOR_SPACE_CONVERSION!==void 0}set colorSpaceConversion(i){this.colorSpaceConversion!==i&&(i?this.defines.COLOR_SPACE_CONVERSION=!0:delete this.defines.COLOR_SPACE_CONVERSION,this.needsUpdate=!0)}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(i){i!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=i):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(i){this.uniforms.inputBuffer.value=i}getOpacity(i){return this.uniforms.opacity.value}setOpacity(i){this.uniforms.opacity.value=i}},aie=class extends rs{constructor(i,e=!0){super("CopyPass"),this.fullscreenMaterial=new XH,this.needsSwap=!1,this.renderTarget=i,i===void 0&&(this.renderTarget=new yr(1,1,{minFilter:ki,magFilter:ki,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(i){this.autoResize=i}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(i){this.autoResize=i}render(i,e,t,r,n){this.fullscreenMaterial.inputBuffer=e.texture,i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){this.autoResize&&this.renderTarget.setSize(i,e)}initialize(i,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==Fr?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":i!==null&&i.outputColorSpace===ni&&(this.renderTarget.texture.colorSpace=ni))}},k4=new xt,QD=class extends rs{constructor(i=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=i,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(i,e,t){this.color=i,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(i){this.overrideClearColor=i}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(i){this.overrideClearAlpha=i}render(i,e,t,r,n){const a=this.overrideClearColor,s=this.overrideClearAlpha,l=i.getClearAlpha(),f=a!==null,d=s>=0;f?(i.getClearColor(k4),i.setClearColor(a,d?s:l)):d&&i.setClearAlpha(s),i.setRenderTarget(this.renderToScreen?null:e),i.clear(this.color,this.depth,this.stencil),f?i.setClearColor(k4,l):d&&i.setClearAlpha(l)}},sie=class extends rs{constructor(i,e){super("MaskPass",i,e),this.needsSwap=!1,this.clearPass=new QD(!1,!1,!0),this.inverse=!1}set mainScene(i){this.scene=i}set mainCamera(i){this.camera=i}get inverted(){return this.inverse}set inverted(i){this.inverse=i}get clear(){return this.clearPass.enabled}set clear(i){this.clearPass.enabled=i}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(i){this.inverted=i}render(i,e,t,r,n){const a=i.getContext(),s=i.state.buffers,l=this.scene,f=this.camera,d=this.clearPass,m=this.inverted?0:1,g=1-m;s.color.setMask(!1),s.depth.setMask(!1),s.color.setLocked(!0),s.depth.setLocked(!0),s.stencil.setTest(!0),s.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),s.stencil.setFunc(a.ALWAYS,m,4294967295),s.stencil.setClear(g),s.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?d.render(i,null):(d.render(i,e),d.render(i,t))),this.renderToScreen?(i.setRenderTarget(null),i.render(l,f)):(i.setRenderTarget(e),i.render(l,f),i.setRenderTarget(t),i.render(l,f)),s.color.setLocked(!1),s.depth.setLocked(!1),s.stencil.setLocked(!1),s.stencil.setFunc(a.EQUAL,1,4294967295),s.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),s.stencil.setLocked(!0)}},oie=class{constructor(i=null,{depthBuffer:e=!0,stencilBuffer:t=!1,multisampling:r=0,frameBufferType:n}={}){this.renderer=null,this.inputBuffer=this.createBuffer(e,t,n,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new aie,this.depthTexture=null,this.passes=[],this.timer=new tie,this.autoRenderToScreen=!0,this.setRenderer(i)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(i){const e=this.inputBuffer,t=this.multisampling;t>0&&i>0?(this.inputBuffer.samples=i,this.outputBuffer.samples=i,this.inputBuffer.dispose(),this.outputBuffer.dispose()):t!==i&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(e.depthBuffer,e.stencilBuffer,e.texture.type,i),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(i){if(this.renderer=i,i!==null){const e=i.getSize(new He),t=i.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===Fr&&i.outputColorSpace===ni&&(this.inputBuffer.texture.colorSpace=ni,this.outputBuffer.texture.colorSpace=ni,this.inputBuffer.dispose(),this.outputBuffer.dispose()),i.autoClear=!1,this.setSize(e.width,e.height);for(const n of this.passes)n.initialize(i,t,r)}}replaceRenderer(i,e=!0){const t=this.renderer,r=t.domElement.parentNode;return this.setRenderer(i),e&&r!==null&&(r.removeChild(t.domElement),r.appendChild(i.domElement)),t}createDepthTexture(){const i=this.depthTexture=new PE;return this.inputBuffer.depthTexture=i,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(i.format=Sp,i.type=bp):i.type=Qc,i}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const i of this.passes)i.setDepthTexture(null)}}createBuffer(i,e,t,r){const n=this.renderer,a=n===null?new He:n.getDrawingBufferSize(new He),s={minFilter:ki,magFilter:ki,stencilBuffer:e,depthBuffer:i,type:t},l=new yr(a.width,a.height,s);return r>0&&(l.samples=r),t===Fr&&n!==null&&n.outputColorSpace===ni&&(l.texture.colorSpace=ni),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(i){for(const e of this.passes)e.mainScene=i}setMainCamera(i){for(const e of this.passes)e.mainCamera=i}addPass(i,e){const t=this.passes,r=this.renderer,n=r.getDrawingBufferSize(new He),a=r.getContext().getContextAttributes().alpha,s=this.inputBuffer.texture.type;if(i.setRenderer(r),i.setSize(n.width,n.height),i.initialize(r,a,s),this.autoRenderToScreen&&(t.length>0&&(t[t.length-1].renderToScreen=!1),i.renderToScreen&&(this.autoRenderToScreen=!1)),e!==void 0?t.splice(e,0,i):t.push(i),this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!0),i.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(i of t)i.setDepthTexture(l)}else i.setDepthTexture(this.depthTexture)}removePass(i){const e=this.passes,t=e.indexOf(i);if(t!==-1&&e.splice(t,1).length>0){if(this.depthTexture!==null){const a=(l,f)=>l||f.needsDepthTexture;e.reduce(a,!1)||(i.getDepthTexture()===this.depthTexture&&i.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&t===e.length&&(i.renderToScreen=!1,e.length>0&&(e[e.length-1].renderToScreen=!0))}}removeAllPasses(){const i=this.passes;this.deleteDepthTexture(),i.length>0&&(this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!1),this.passes=[])}render(i){const e=this.renderer,t=this.copyPass;let r=this.inputBuffer,n=this.outputBuffer,a=!1,s,l,f;i===void 0&&(this.timer.update(),i=this.timer.getDelta());for(const d of this.passes)d.enabled&&(d.render(e,r,n,i,a),d.needsSwap&&(a&&(t.renderToScreen=d.renderToScreen,s=e.getContext(),l=e.state.buffers.stencil,l.setFunc(s.NOTEQUAL,1,4294967295),t.render(e,r,n,i,a),l.setFunc(s.EQUAL,1,4294967295)),f=r,r=n,n=f),d instanceof sie?a=!0:d instanceof iie&&(a=!1))}setSize(i,e,t){const r=this.renderer,n=r.getSize(new He);(i===void 0||e===void 0)&&(i=n.width,e=n.height),(n.width!==i||n.height!==e)&&r.setSize(i,e,t);const a=r.getDrawingBufferSize(new He);this.inputBuffer.setSize(a.width,a.height),this.outputBuffer.setSize(a.width,a.height);for(const s of this.passes)s.setSize(a.width,a.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const i of this.passes)i.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),rs.fullscreenGeometry.dispose()}},pd={NONE:0,DEPTH:1,CONVOLUTION:2},ui={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},lie=class{constructor(){this.shaderParts=new Map([[ui.FRAGMENT_HEAD,null],[ui.FRAGMENT_MAIN_UV,null],[ui.FRAGMENT_MAIN_IMAGE,null],[ui.VERTEX_HEAD,null],[ui.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=pd.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=eu}},E2=!1,G4=class{constructor(i=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(i),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case Is:t=this.materialsFlatShadedDoubleSide;break;case ea:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case Is:t=this.materialsDoubleSide;break;case ea:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(i){if(!(i instanceof Hr))return i.clone();const e=i.uniforms,t=new Map;for(const n in e){const a=e[n].value;a.isRenderTargetTexture&&(e[n].value=null,t.set(n,a))}const r=i.clone();for(const n of t)e[n[0]].value=n[1],r.uniforms[n[0]].value=n[1];return r}setMaterial(i){if(this.disposeMaterials(),this.material=i,i!==null){const e=this.materials=[this.cloneMaterial(i),this.cloneMaterial(i),this.cloneMaterial(i)];for(const t of e)t.uniforms=Object.assign({},i.uniforms),t.side=tc;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},i.uniforms),r.side=ea,r}),this.materialsDoubleSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},i.uniforms),r.side=Is,r}),this.materialsFlatShaded=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},i.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},i.uniforms),r.flatShading=!0,r.side=ea,r}),this.materialsFlatShadedDoubleSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},i.uniforms),r.flatShading=!0,r.side=Is,r})}}render(i,e,t){const r=i.shadowMap.enabled;if(i.shadowMap.enabled=!1,E2){const n=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),i.render(e,t);for(const a of n)a[0].material=a[1];this.meshCount!==n.size&&n.clear()}else{const n=e.overrideMaterial;e.overrideMaterial=this.material,i.render(e,t),e.overrideMaterial=n}i.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const i=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of i)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return E2}static set workaroundEnabled(i){E2=i}},qf=-1,ta=class extends Lo{constructor(i,e=qf,t=qf,r=1){super(),this.resizable=i,this.baseSize=new He(1,1),this.preferredSize=new He(e,t),this.target=this.preferredSize,this.s=r,this.effectiveSize=new He,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const i=this.baseSize,e=this.preferredSize,t=this.effectiveSize,r=this.scale;e.width!==qf?t.width=e.width:e.height!==qf?t.width=Math.round(e.height*(i.width/Math.max(i.height,1))):t.width=Math.round(i.width*r),e.height!==qf?t.height=e.height:e.width!==qf?t.height=Math.round(e.width/Math.max(i.width/Math.max(i.height,1),1)):t.height=Math.round(i.height*r)}get width(){return this.effectiveSize.width}set width(i){this.preferredWidth=i}get height(){return this.effectiveSize.height}set height(i){this.preferredHeight=i}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(i){this.s!==i&&(this.s=i,this.preferredSize.setScalar(qf),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(i){this.scale=i}get baseWidth(){return this.baseSize.width}set baseWidth(i){this.baseSize.width!==i&&(this.baseSize.width=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(i){this.baseWidth=i}get baseHeight(){return this.baseSize.height}set baseHeight(i){this.baseSize.height!==i&&(this.baseSize.height=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(i){this.baseHeight=i}setBaseSize(i,e){(this.baseSize.width!==i||this.baseSize.height!==e)&&(this.baseSize.set(i,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(i){this.preferredSize.width!==i&&(this.preferredSize.width=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(i){this.preferredWidth=i}get preferredHeight(){return this.preferredSize.height}set preferredHeight(i){this.preferredSize.height!==i&&(this.preferredSize.height=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(i){this.preferredHeight=i}setPreferredSize(i,e){(this.preferredSize.width!==i||this.preferredSize.height!==e)&&(this.preferredSize.set(i,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(i){this.s=i.scale,this.baseSize.set(i.baseWidth,i.baseHeight),this.preferredSize.set(i.preferredWidth,i.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return qf}},cie=class{constructor(i=0){this.nextId=i}getNextId(){return this.nextId++}reset(i=0){return this.nextId=i,this}},M2=new cie(2),uie=class extends Set{constructor(i,e=M2.getNextId()){super(),this.exclusive=!1,this._layer=e,(this._layer<1||this._layer>31)&&(console.warn("Layer out of range, resetting to 2"),M2.reset(2),this._layer=M2.getNextId()),i!==void 0&&this.set(i)}get layer(){return this._layer}set layer(i){const e=this._layer;for(const t of this)t.layers.disable(e),t.layers.enable(i);this._layer=i}getLayer(){return this.layer}setLayer(i){this.layer=i}isExclusive(){return this.exclusive}setExclusive(i){this.exclusive=i}clear(){const i=this.layer;for(const e of this)e.layers.disable(i);return super.clear()}set(i){this.clear();for(const e of i)this.add(e);return this}indexOf(i){return this.has(i)?0:-1}add(i){return this.exclusive?i.layers.set(this.layer):i.layers.enable(this.layer),super.add(i)}delete(i){return this.has(i)&&i.layers.disable(this.layer),super.delete(i)}toggle(i){let e;return this.has(i)?(this.delete(i),e=!1):(this.add(i),e=!0),e}setVisible(i){for(const e of this)i?e.layers.enable(0):e.layers.disable(0);return this}},Fn={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},fie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",die="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,src.a*opacity);}",hie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=(dst.rgb+src.rgb)*0.5;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",pie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.xy,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",mie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/max(b,1e-9))),vec3(1.0),step(1.0,a));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",gie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",vie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",_ie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=abs(dst.rgb-src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",yie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb/max(src.rgb,1e-9);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",xie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-2.0*dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",bie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb,1.0);vec3 b=min(src.rgb,1.0);vec3 c=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Sie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=step(1.0,dst.rgb+src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Aie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.x,a.yz));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Eie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Mie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=src.rgb*max(1.0-dst.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Tie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Cie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",wie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb+src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Rie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(2.0*src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Die="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.xy,b.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Bie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Uie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-abs(1.0-dst.rgb-src.rgb),0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Oie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,opacity);}",Nie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=2.0*src.rgb*dst.rgb;vec3 b=1.0-2.0*(1.0-src.rgb)*(1.0-dst.rgb);vec3 c=mix(a,b,step(0.5,dst.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Iie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 c=mix(mix(src2,dst.rgb,step(0.5*dst.rgb,src.rgb)),max(src2-1.0,vec3(0.0)),step(dst.rgb,src2-1.0));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",zie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb*dst.rgb/max(1.0-src.rgb,1e-9),1.0);vec3 c=mix(a,src.rgb,step(1.0,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Lie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.x,b.y,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Pie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-min(dst.rgb*src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Fie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 d=dst.rgb+(src2-1.0);vec3 w=step(0.5,src.rgb);vec3 a=dst.rgb-(1.0-src2)*dst.rgb*(1.0-dst.rgb);vec3 b=mix(d*(sqrt(dst.rgb)-dst.rgb),d*dst.rgb*((16.0*dst.rgb-12.0)*dst.rgb+3.0),w*(1.0-step(0.25,dst.rgb)));vec3 c=mix(a,b,w);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Hie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return src;}",kie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Gie="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=mix(max(1.0-min((1.0-dst.rgb)/(2.0*src.rgb),1.0),0.0),min(dst.rgb/(2.0*(1.0-src.rgb)),1.0),step(0.5,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",Vie=new Map([[Fn.ADD,fie],[Fn.ALPHA,die],[Fn.AVERAGE,hie],[Fn.COLOR,pie],[Fn.COLOR_BURN,mie],[Fn.COLOR_DODGE,gie],[Fn.DARKEN,vie],[Fn.DIFFERENCE,_ie],[Fn.DIVIDE,yie],[Fn.DST,null],[Fn.EXCLUSION,xie],[Fn.HARD_LIGHT,bie],[Fn.HARD_MIX,Sie],[Fn.HUE,Aie],[Fn.INVERT,Eie],[Fn.INVERT_RGB,Mie],[Fn.LIGHTEN,Tie],[Fn.LINEAR_BURN,Cie],[Fn.LINEAR_DODGE,wie],[Fn.LINEAR_LIGHT,Rie],[Fn.LUMINOSITY,Die],[Fn.MULTIPLY,Bie],[Fn.NEGATION,Uie],[Fn.NORMAL,Oie],[Fn.OVERLAY,Nie],[Fn.PIN_LIGHT,Iie],[Fn.REFLECT,zie],[Fn.SATURATION,Lie],[Fn.SCREEN,Pie],[Fn.SOFT_LIGHT,Fie],[Fn.SRC,Hie],[Fn.SUBTRACT,kie],[Fn.VIVID_LIGHT,Gie]]),jie=class extends Lo{constructor(i,e=1){super(),this._blendFunction=i,this.opacity=new Dn(e)}getOpacity(){return this.opacity.value}setOpacity(i){this.opacity.value=i}get blendFunction(){return this._blendFunction}set blendFunction(i){this._blendFunction=i,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(i){this.blendFunction=i}getShaderCode(){return Vie.get(this.blendFunction)}},RC=class extends Lo{constructor(i,e,{attributes:t=pd.NONE,blendFunction:r=Fn.NORMAL,defines:n=new Map,uniforms:a=new Map,extensions:s=null,vertexShader:l=null}={}){super(),this.name=i,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=l,this.defines=n,this.uniforms=a,this.extensions=s,this.blendMode=new jie(r),this.blendMode.addEventListener("change",f=>this.setChanged()),this._inputColorSpace=eu,this._outputColorSpace=Wl}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(i){this._inputColorSpace=i,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(i){this._outputColorSpace=i,this.setChanged()}set mainScene(i){}set mainCamera(i){}getName(){return this.name}setRenderer(i){this.renderer=i}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(i){this.attributes=i,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(i){this.fragmentShader=i,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(i){this.vertexShader=i,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(i,e=nc){}update(i,e,t){}setSize(i,e){}initialize(i,e,t){}dispose(){for(const i of Object.keys(this)){const e=this[i];(e instanceof yr||e instanceof Tr||e instanceof wi||e instanceof rs)&&this[i].dispose()}}},e3={MEDIUM:2,LARGE:3},$ie=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,Xie="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",Zie=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Yie=class extends Hr{constructor(i=new Wn){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Dn(null),texelSize:new Dn(new Wn),scale:new Dn(1),kernel:new Dn(0)},blending:es,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:$ie,vertexShader:Xie}),this.setTexelSize(i.x,i.y),this.kernelSize=e3.MEDIUM}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.inputBuffer=i}get kernelSequence(){return Zie[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(i){this.uniforms.scale.value=i}getScale(){return this.uniforms.scale.value}setScale(i){this.uniforms.scale.value=i}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(i){this.uniforms.kernel.value=i}setKernel(i){this.kernel=i}setTexelSize(i,e){this.uniforms.texelSize.value.set(i,e,i*.5,e*.5)}setSize(i,e){const t=1/i,r=1/e;this.uniforms.texelSize.value.set(t,r,t*.5,r*.5)}},Jie=class extends rs{constructor({kernelSize:i=e3.MEDIUM,resolutionScale:e=.5,width:t=ta.AUTO_SIZE,height:r=ta.AUTO_SIZE,resolutionX:n=t,resolutionY:a=r}={}){super("KawaseBlurPass"),this.renderTargetA=new yr(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const s=this.resolution=new ta(this,n,a,e);s.addEventListener("change",l=>this.setSize(s.baseWidth,s.baseHeight)),this._blurMaterial=new Yie,this._blurMaterial.kernelSize=i,this.copyMaterial=new XH}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(i){this._blurMaterial=i}get dithering(){return this.copyMaterial.dithering}set dithering(i){this.copyMaterial.dithering=i}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(i){this.blurMaterial.kernelSize=i}get width(){return this.resolution.width}set width(i){this.resolution.preferredWidth=i}get height(){return this.resolution.height}set height(i){this.resolution.preferredHeight=i}get scale(){return this.blurMaterial.scale}set scale(i){this.blurMaterial.scale=i}getScale(){return this.blurMaterial.scale}setScale(i){this.blurMaterial.scale=i}getKernelSize(){return this.kernelSize}setKernelSize(i){this.kernelSize=i}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}render(i,e,t,r,n){const a=this.scene,s=this.camera,l=this.renderTargetA,f=this.renderTargetB,d=this.blurMaterial,m=d.kernelSequence;let g=e;this.fullscreenMaterial=d;for(let _=0,x=m.length;_<x;++_){const b=(_&1)===0?l:f;d.kernel=m[_],d.inputBuffer=g.texture,i.setRenderTarget(b),i.render(a,s),g=b}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=g.texture,i.setRenderTarget(this.renderToScreen?null:t),i.render(a,s)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e);const r=t.width,n=t.height;this.renderTargetA.setSize(r,n),this.renderTargetB.setSize(r,n),this.blurMaterial.setSize(i,e)}initialize(i,e,t){t!==void 0&&(this.renderTargetA.texture.type=t,this.renderTargetB.texture.type=t,t!==Fr?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):i!==null&&i.outputColorSpace===ni&&(this.renderTargetA.texture.colorSpace=ni,this.renderTargetB.texture.colorSpace=ni))}static get AUTO_SIZE(){return ta.AUTO_SIZE}},qie=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);float mask=1.0;
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);mask=low*high;
#elif defined(THRESHOLD)
mask=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=texel*mask;
#else
gl_FragColor=vec4(l*mask);
#endif
}`,Wie=class extends Hr{constructor(i=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Op.replace(/\D+/g,"")},uniforms:{inputBuffer:new Dn(null),threshold:new Dn(0),smoothing:new Dn(1),range:new Dn(null)},blending:es,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:qie,vertexShader:KD}),this.colorOutput=i,this.luminanceRange=e}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.uniforms.inputBuffer.value=i}get threshold(){return this.uniforms.threshold.value}set threshold(i){this.smoothing>0||i>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=i}getThreshold(){return this.threshold}setThreshold(i){this.threshold=i}get smoothing(){return this.uniforms.smoothing.value}set smoothing(i){this.threshold>0||i>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=i}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(i){this.smoothing=i}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(i){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(i){i?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(i){return this.colorOutput}setColorOutputEnabled(i){this.colorOutput=i}get useRange(){return this.luminanceRange!==null}set useRange(i){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(i){i!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=i,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(i){this.luminanceRange=i}},Kie=class extends rs{constructor({renderTarget:i,luminanceRange:e,colorOutput:t,resolutionScale:r=1,width:n=ta.AUTO_SIZE,height:a=ta.AUTO_SIZE,resolutionX:s=n,resolutionY:l=a}={}){super("LuminancePass"),this.fullscreenMaterial=new Wie(t,e),this.needsSwap=!1,this.renderTarget=i,this.renderTarget===void 0&&(this.renderTarget=new yr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const f=this.resolution=new ta(this,s,l,r);f.addEventListener("change",d=>this.setSize(f.baseWidth,f.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(i,e,t,r,n){const a=this.fullscreenMaterial;a.inputBuffer=e.texture,i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height)}initialize(i,e,t){t!==void 0&&t!==Fr&&(this.renderTarget.texture.type=t,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Qie=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,ere="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",tre=class extends Hr{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Dn(null),texelSize:new Dn(new He)},blending:es,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Qie,vertexShader:ere})}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setSize(i,e){this.uniforms.texelSize.value.set(1/i,1/e)}},nre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,ire="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",rre=class extends Hr{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Dn(null),supportBuffer:new Dn(null),texelSize:new Dn(new He),radius:new Dn(.85)},blending:es,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:nre,vertexShader:ire})}set inputBuffer(i){this.uniforms.inputBuffer.value=i}set supportBuffer(i){this.uniforms.supportBuffer.value=i}get radius(){return this.uniforms.radius.value}set radius(i){this.uniforms.radius.value=i}setSize(i,e){this.uniforms.texelSize.value.set(1/i,1/e)}},are=class extends rs{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new yr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new tre,this.upsamplingMaterial=new rre,this.resolution=new He}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(i){if(this.levels!==i){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let t=0;t<i;++t){const r=e.clone();r.texture.name="Downsampling.Mipmap"+t,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let t=1,r=i-1;t<r;++t){const n=e.clone();n.texture.name="Upsampling.Mipmap"+t,this.upsamplingMipmaps.push(n)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(i){this.upsamplingMaterial.radius=i}render(i,e,t,r,n){const{scene:a,camera:s}=this,{downsamplingMaterial:l,upsamplingMaterial:f}=this,{downsamplingMipmaps:d,upsamplingMipmaps:m}=this;let g=e;this.fullscreenMaterial=l;for(let _=0,x=d.length;_<x;++_){const b=d[_];l.setSize(g.width,g.height),l.inputBuffer=g.texture,i.setRenderTarget(b),i.render(a,s),g=b}this.fullscreenMaterial=f;for(let _=m.length-1;_>=0;--_){const x=m[_];f.setSize(g.width,g.height),f.inputBuffer=g.texture,f.supportBuffer=d[_].texture,i.setRenderTarget(x),i.render(a,s),g=x}}setSize(i,e){const t=this.resolution;t.set(i,e);let r=t.width,n=t.height;for(let a=0,s=this.downsamplingMipmaps.length;a<s;++a)r=Math.round(r*.5),n=Math.round(n*.5),this.downsamplingMipmaps[a].setSize(r,n),a<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[a].setSize(r,n)}initialize(i,e,t){if(t!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const n of r)n.texture.type=t;if(t!==Fr)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(i!==null&&i.outputColorSpace===ni)for(const n of r)n.texture.colorSpace=ni}}dispose(){super.dispose();for(const i of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))i.dispose()}},sre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,ore=class extends RC{constructor({blendFunction:i=Fn.SCREEN,luminanceThreshold:e=1,luminanceSmoothing:t=.03,mipmapBlur:r=!0,intensity:n=1,radius:a=.85,levels:s=8,kernelSize:l=e3.LARGE,resolutionScale:f=.5,width:d=ta.AUTO_SIZE,height:m=ta.AUTO_SIZE,resolutionX:g=d,resolutionY:_=m}={}){super("BloomEffect",sre,{blendFunction:i,uniforms:new Map([["map",new Dn(null)],["intensity",new Dn(n)]])}),this.renderTarget=new yr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Jie({kernelSize:l}),this.luminancePass=new Kie({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=t,this.mipmapBlurPass=new are,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=a,this.mipmapBlurPass.levels=s,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const x=this.resolution=new ta(this,g,_,f);x.addEventListener("change",b=>this.setSize(x.baseWidth,x.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(i){this.resolution.preferredWidth=i}get height(){return this.resolution.height}set height(i){this.resolution.preferredHeight=i}get dithering(){return this.blurPass.dithering}set dithering(i){this.blurPass.dithering=i}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(i){this.blurPass.kernelSize=i}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(i){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(i){this.uniforms.get("intensity").value=i}getIntensity(){return this.intensity}setIntensity(i){this.intensity=i}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}update(i,e,t){const r=this.renderTarget,n=this.luminancePass;n.enabled?(n.render(i,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(i,n.renderTarget):this.blurPass.render(i,n.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(i,e):this.blurPass.render(i,e,r)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t),this.luminancePass.setSize(i,e),this.mipmapBlurPass.setSize(i,e)}initialize(i,e,t){this.blurPass.initialize(i,e,t),this.luminancePass.initialize(i,e,t),this.mipmapBlurPass.initialize(i,e,t),t!==void 0&&(this.renderTarget.texture.type=t,i!==null&&i.outputColorSpace===ni&&(this.renderTarget.texture.colorSpace=ni))}},lre=class extends rs{constructor(i,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=i,this.input=e}setInput(i){this.input=i}render(i,e,t,r,n){const a=this.fullscreenMaterial.uniforms;e!==null&&a!==void 0&&a[this.input]!==void 0&&(a[this.input].value=e.texture),i.setRenderTarget(this.renderToScreen?null:t),i.render(this.scene,this.camera)}initialize(i,e,t){t!==void 0&&t!==Fr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},t3=class extends rs{constructor(i,e,t=null){super("RenderPass",i,e),this.needsSwap=!1,this.clearPass=new QD,this.overrideMaterialManager=t===null?null:new G4(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(i){this.scene=i}set mainCamera(i){this.camera=i}get renderToScreen(){return super.renderToScreen}set renderToScreen(i){super.renderToScreen=i,this.clearPass.renderToScreen=i}get overrideMaterial(){const i=this.overrideMaterialManager;return i!==null?i.material:null}set overrideMaterial(i){const e=this.overrideMaterialManager;i!==null?e!==null?e.setMaterial(i):this.overrideMaterialManager=new G4(i):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(i){this.overrideMaterial=i}get clear(){return this.clearPass.enabled}set clear(i){this.clearPass.enabled=i}getSelection(){return this.selection}setSelection(i){this.selection=i}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(i){this.ignoreBackground=i}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(i){this.skipShadowMapUpdate=i}getClearPass(){return this.clearPass}render(i,e,t,r,n){const a=this.scene,s=this.camera,l=this.selection,f=s.layers.mask,d=a.background,m=i.shadowMap.autoUpdate,g=this.renderToScreen?null:e;l!==null&&s.layers.set(l.getLayer()),this.skipShadowMapUpdate&&(i.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(i,e),i.setRenderTarget(g),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(i,a,s):i.render(a,s),s.layers.mask=f,a.background=d,i.shadowMap.autoUpdate=m}},K_={KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},cre=class extends rs{constructor(i,e,{renderTarget:t,resolutionScale:r=1,width:n=ta.AUTO_SIZE,height:a=ta.AUTO_SIZE,resolutionX:s=n,resolutionY:l=a}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new t3(i,e,new KE({depthPacking:wE}));const f=this.renderPass;f.skipShadowMapUpdate=!0,f.ignoreBackground=!0,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new yr(1,1,{minFilter:Wi,magFilter:Wi}),this.renderTarget.texture.name="DepthPass.Target");const d=this.resolution=new ta(this,s,l,r);d.addEventListener("change",m=>this.setSize(d.baseWidth,d.baseHeight))}set mainScene(i){this.renderPass.mainScene=i}set mainCamera(i){this.renderPass.mainCamera=i}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}render(i,e,t,r,n){const a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(i,a)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height)}initialize(i,e,t){const r=i.capabilities.reversedDepthBuffer?0:16777215,n=this.renderPass.clearPass;n.overrideClearColor=new xt(r),n.overrideClearAlpha=1}},ure=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);float c=log2(cameraNearFar.y+1.0);float d=pow(2.0,depth.x*c)-1.0;depth.x=a+b/d;d=pow(2.0,depth.y*c)-1.0;depth.y=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth.x=1.0-depth.x;depth.y=1.0-depth.y;
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,fre=class extends Hr{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:K_.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new Dn(null),depthBuffer0:new Dn(null),depthBuffer1:new Dn(null),cameraNearFar:new Dn(new He(1,1))},blending:es,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:ure,vertexShader:KD}),this.depthMode=ev}set depthBuffer0(i){this.uniforms.depthBuffer0.value=i}set depthPacking0(i){this.defines.DEPTH_PACKING_0=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(i,e=nc){this.depthBuffer0=i,this.depthPacking0=e}set depthBuffer1(i){this.uniforms.depthBuffer1.value=i}set depthPacking1(i){this.defines.DEPTH_PACKING_1=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(i,e=nc){this.depthBuffer1=i,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(i){this.defines.DEPTH_TEST_STRATEGY=i.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(i){this.maxDepthStrategy=i?K_.KEEP_MAX_DEPTH:K_.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(i){this.maxDepthStrategy=i}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(i){this.defines.DEPTH_EPSILON=i.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(i){this.epsilon=i}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(i){let e;switch(i){case py:e="false";break;case Qg:e="true";break;case xp:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case tv:e="abs(d1 - d0) > DEPTH_EPSILON";break;case ev:e="d0 > d1";break;case Sd:e="d0 >= d1";break;case my:e="d0 <= d1";break;case gy:default:e="d0 < d1";break}this.defines.DEPTH_MODE=i.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(i){this.depthMode=i}adoptCameraSettings(i){this.copyCameraSettings(i)}copyCameraSettings(i){i&&(this.uniforms.cameraNearFar.value.set(i.near,i.far),i instanceof qi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},dre=class extends ore{constructor(i,e,t){super(t),this.setAttributes(this.getAttributes()|pd.DEPTH),this.camera=e,this.depthPass=new cre(i,e),this.clearPass=new QD(!0,!1,!1),this.clearPass.overrideClearColor=new xt(0),this.depthMaskPass=new lre(new fre);const r=this.depthMaskMaterial;r.copyCameraSettings(e),r.depthBuffer1=this.depthPass.texture,r.depthPacking1=wE,r.depthMode=xp,this.renderTargetMasked=new yr(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new uie,this._inverted=!1,this._ignoreBackground=!1}set mainScene(i){this.depthPass.mainScene=i}set mainCamera(i){this.camera=i,this.depthPass.mainCamera=i,this.depthMaskMaterial.copyCameraSettings(i)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(i){this._inverted=i,this.depthMaskMaterial.depthMode=i?tv:xp}isInverted(){return this.inverted}setInverted(i){this.inverted=i}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(i){this._ignoreBackground=i,this.depthMaskMaterial.maxDepthStrategy=i?K_.DISCARD_MAX_DEPTH:K_.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(i){this.ignoreBackground=i}setDepthTexture(i,e=nc){this.depthMaskMaterial.depthBuffer0=i,this.depthMaskMaterial.depthPacking0=e}update(i,e,t){const r=this.camera,n=this.selection,a=this.inverted;let s=e;if(this.ignoreBackground||!a||n.size>0){const l=r.layers.mask;r.layers.set(n.layer),this.depthPass.render(i),r.layers.mask=l,s=this.renderTargetMasked,this.clearPass.render(i,s),this.depthMaskPass.render(i,e,s)}super.update(i,s,t)}setSize(i,e){super.setSize(i,e),this.renderTargetMasked.setSize(i,e),this.depthPass.setSize(i,e)}initialize(i,e,t){super.initialize(i,e,t),this.clearPass.initialize(i,e,t),this.depthPass.initialize(i,e,t),this.depthMaskPass.initialize(i,e,t),i!==null&&i.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),t!==void 0&&(this.renderTargetMasked.texture.type=t,i!==null&&i.outputColorSpace===ni&&(this.renderTargetMasked.texture.colorSpace=ni))}},hre=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,pre="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",mre=class extends Hr{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Dn(null),normalBuffer:new Dn(null),texelSize:new Dn(new He)},blending:es,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:hre,vertexShader:pre})}set depthBuffer(i){this.uniforms.depthBuffer.value=i}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer(i,e=nc){this.depthBuffer=i,this.depthPacking=e}set normalBuffer(i){this.uniforms.normalBuffer.value=i,i!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(i){this.normalBuffer=i}setTexelSize(i,e){this.uniforms.texelSize.value.set(i,e)}setSize(i,e){this.uniforms.texelSize.value.set(1/i,1/e)}},gre=class extends rs{constructor({normalBuffer:i=null,resolutionScale:e=.5,width:t=ta.AUTO_SIZE,height:r=ta.AUTO_SIZE,resolutionX:n=t,resolutionY:a=r}={}){super("DepthDownsamplingPass");const s=new mre;s.normalBuffer=i,this.fullscreenMaterial=s,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new yr(1,1,{minFilter:Wi,magFilter:Wi,depthBuffer:!1,type:Ls}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const l=this.resolution=new ta(this,n,a,e);l.addEventListener("change",f=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(i,e=nc){this.fullscreenMaterial.depthBuffer=i,this.fullscreenMaterial.depthPacking=e}render(i,e,t,r,n){i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height),this.fullscreenMaterial.setSize(i,e)}initialize(i,e,t){const r=i.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},vre=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,_re="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",yre=class extends Hr{constructor(i,e,t,r,n=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Op.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Dn(null),depthBuffer:new Dn(null),resolution:new Dn(new He),texelSize:new Dn(new He),cameraNear:new Dn(.3),cameraFar:new Dn(1e3),aspect:new Dn(1),time:new Dn(0)},blending:dd,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:n}),i&&this.setShaderParts(i),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(r)}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.uniforms.inputBuffer.value=i}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(i){this.uniforms.depthBuffer.value=i}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer(i,e=nc){this.depthBuffer=i,this.depthPacking=e}setShaderData(i){this.setShaderParts(i.shaderParts),this.setDefines(i.defines),this.setUniforms(i.uniforms),this.setExtensions(i.extensions)}setShaderParts(i){return this.fragmentShader=vre.replace(ui.FRAGMENT_HEAD,i.get(ui.FRAGMENT_HEAD)||"").replace(ui.FRAGMENT_MAIN_UV,i.get(ui.FRAGMENT_MAIN_UV)||"").replace(ui.FRAGMENT_MAIN_IMAGE,i.get(ui.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=_re.replace(ui.VERTEX_HEAD,i.get(ui.VERTEX_HEAD)||"").replace(ui.VERTEX_MAIN_SUPPORT,i.get(ui.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(i){for(const e of i.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(i){for(const e of i.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(i){this.extensions={};for(const e of i)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(i){this.encodeOutput!==i&&(i?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(i){return this.encodeOutput}setOutputEncodingEnabled(i){this.encodeOutput=i}get time(){return this.uniforms.time.value}set time(i){this.uniforms.time.value=i}setDeltaTime(i){this.uniforms.time.value+=i}adoptCameraSettings(i){this.copyCameraSettings(i)}copyCameraSettings(i){i&&(this.uniforms.cameraNear.value=i.near,this.uniforms.cameraFar.value=i.far,i instanceof qi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(i,e){const t=this.uniforms;t.resolution.value.set(i,e),t.texelSize.value.set(1/i,1/e),t.aspect.value=i/e}static get Section(){return ui}};function V4(i,e,t){for(const r of e){const n="$1"+i+r.charAt(0).toUpperCase()+r.slice(1),a=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const s of t.entries())s[1]!==null&&t.set(s[0],s[1].replace(a,n))}}function xre(i,e,t){let r=e.getFragmentShader(),n=e.getVertexShader();const a=r!==void 0&&/mainImage/.test(r),s=r!==void 0&&/mainUv/.test(r);if(t.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(s&&(t.attributes&pd.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!a&&!s)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const l=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,f=t.shaderParts;let d=f.get(ui.FRAGMENT_HEAD)||"",m=f.get(ui.FRAGMENT_MAIN_UV)||"",g=f.get(ui.FRAGMENT_MAIN_IMAGE)||"",_=f.get(ui.VERTEX_HEAD)||"",x=f.get(ui.VERTEX_MAIN_SUPPORT)||"";const b=new Set,M=new Set;if(s&&(m+=`	${i}MainUv(UV);
`,t.uvTransformation=!0),n!==null&&/mainSupport/.test(n)){const R=/mainSupport *\([\w\s]*?uv\s*?\)/.test(n);x+=`	${i}MainSupport(`,x+=R?`vUv);
`:`);
`;for(const B of n.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const D of B[1].split(/\s*,\s*/))t.varyings.add(D),b.add(D),M.add(D);for(const B of n.matchAll(l))M.add(B[1])}for(const R of r.matchAll(l))M.add(R[1]);for(const R of e.defines.keys())M.add(R.replace(/\([\w\s,]*\)/g,""));for(const R of e.uniforms.keys())M.add(R);M.delete("while"),M.delete("for"),M.delete("if"),e.uniforms.forEach((R,B)=>t.uniforms.set(i+B.charAt(0).toUpperCase()+B.slice(1),R)),e.defines.forEach((R,B)=>t.defines.set(i+B.charAt(0).toUpperCase()+B.slice(1),R));const T=new Map([["fragment",r],["vertex",n]]);V4(i,M,t.defines),V4(i,M,T),r=T.get("fragment"),n=T.get("vertex");const A=e.blendMode;if(t.blendModes.set(A.blendFunction,A),a){e.inputColorSpace!==null&&e.inputColorSpace!==t.colorSpace&&(g+=e.inputColorSpace===ni?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==Wl?t.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(t.colorSpace=e.inputColorSpace);const R=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;g+=`${i}MainImage(color0, UV, `,(t.attributes&pd.DEPTH)!==0&&R.test(r)&&(g+="depth, ",t.readDepth=!0),g+=`color1);
	`;const B=i+"BlendOpacity";t.uniforms.set(B,A.opacity),g+=`color0 = blend${A.blendFunction}(color0, color1, ${B});

	`,d+=`uniform float ${B};

`}if(d+=r+`
`,n!==null&&(_+=n+`
`),f.set(ui.FRAGMENT_HEAD,d),f.set(ui.FRAGMENT_MAIN_UV,m),f.set(ui.FRAGMENT_MAIN_IMAGE,g),f.set(ui.VERTEX_HEAD,_),f.set(ui.VERTEX_MAIN_SUPPORT,x),e.extensions!==null)for(const R of e.extensions)t.extensions.add(R)}}var bre=class extends rs{constructor(i,...e){super("EffectPass"),this.fullscreenMaterial=new yre(null,null,null,i),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(i){for(const e of this.effects)e.mainScene=i}set mainCamera(i){this.fullscreenMaterial.copyCameraSettings(i);for(const e of this.effects)e.mainCamera=i}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(i){this.fullscreenMaterial.encodeOutput=i}get dithering(){return this.fullscreenMaterial.dithering}set dithering(i){const e=this.fullscreenMaterial;e.dithering=i,e.needsUpdate=!0}get alpha(){return this.renderer!==null&&this.renderer.getContext().getContextAttributes().alpha}setEffects(i){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=i.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const i=new lie;let e=0;for(const s of this.effects)if(s.blendMode.blendFunction===Fn.DST)i.attributes|=s.getAttributes()&pd.DEPTH;else{if((i.attributes&s.getAttributes()&pd.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${s.name})`);xre("e"+e++,s,i)}let t=i.shaderParts.get(ui.FRAGMENT_HEAD),r=i.shaderParts.get(ui.FRAGMENT_MAIN_IMAGE),n=i.shaderParts.get(ui.FRAGMENT_MAIN_UV);const a=/\bblend\b/g;for(const s of i.blendModes.values())t+=s.getShaderCode().replace(a,`blend${s.blendFunction}`)+`
`;(i.attributes&pd.DEPTH)!==0?(i.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,i.colorSpace===ni&&(r+=`color0 = sRGBToLinear(color0);
	`),i.uvTransformation?(n=`vec2 transformedUv = vUv;
`+n,i.defines.set("UV","transformedUv")):i.defines.set("UV","vUv"),i.shaderParts.set(ui.FRAGMENT_HEAD,t),i.shaderParts.set(ui.FRAGMENT_MAIN_IMAGE,r),i.shaderParts.set(ui.FRAGMENT_MAIN_UV,n);for(const[s,l]of i.shaderParts)l!==null&&i.shaderParts.set(s,l.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(i)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(i,e=nc){this.fullscreenMaterial.depthBuffer=i,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(i,e)}render(i,e,t,r,n){for(const a of this.effects)a.update(i,e,r);if(!this.skipRendering||this.renderToScreen){const a=this.fullscreenMaterial;a.transparent=this.renderToScreen&&this.alpha,a.inputBuffer=e.texture,a.time+=r*this.timeScale,i.setRenderTarget(this.renderToScreen?null:t),i.render(this.scene,this.camera)}}setSize(i,e){this.fullscreenMaterial.setSize(i,e);for(const t of this.effects)t.setSize(i,e)}initialize(i,e,t){this.renderer=i;for(const r of this.effects)r.initialize(i,e,t);this.updateMaterial(),t!==void 0&&t!==Fr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const i of this.effects)i.removeEventListener("change",this.listener),i.dispose()}handleEvent(i){i.type==="change"&&this.recompile()}},Sre=class extends rs{constructor(i,e,{renderTarget:t,resolutionScale:r=1,width:n=ta.AUTO_SIZE,height:a=ta.AUTO_SIZE,resolutionX:s=n,resolutionY:l=a}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new t3(i,e,new DD);const f=this.renderPass;f.ignoreBackground=!0,f.skipShadowMapUpdate=!0;const d=f.getClearPass();d.overrideClearColor=new xt(7829503),d.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new yr(1,1,{minFilter:Wi,magFilter:Wi}),this.renderTarget.texture.name="NormalPass.Target");const m=this.resolution=new ta(this,s,l,r);m.addEventListener("change",g=>this.setSize(m.baseWidth,m.baseHeight))}set mainScene(i){this.renderPass.mainScene=i}set mainCamera(i){this.renderPass.mainCamera=i}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}render(i,e,t,r,n){const a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(i,a,a)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height)}};function Q_(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}new He;new He;function ZH(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var al=function i(e,t,r){var n=this;ZH(this,i),Q_(this,"dot2",function(a,s){return n.x*a+n.y*s}),Q_(this,"dot3",function(a,s,l){return n.x*a+n.y*s+n.z*l}),this.x=e,this.y=t,this.z=r},Are=[new al(1,1,0),new al(-1,1,0),new al(1,-1,0),new al(-1,-1,0),new al(1,0,1),new al(-1,0,1),new al(1,0,-1),new al(-1,0,-1),new al(0,1,1),new al(0,-1,1),new al(0,1,-1),new al(0,-1,-1)],j4=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],$4=new Array(512),X4=new Array(512),Ere=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=j4[t]^e&255:r=j4[t]^e>>8&255,$4[t]=$4[t+256]=r,X4[t]=X4[t+256]=Are[r%12]}};Ere(0);function Mre(i){if(typeof i=="number")i=Math.abs(i);else if(typeof i=="string"){var e=i;i=0;for(var t=0;t<e.length;t++)i=(i+(t+1)*(e.charCodeAt(t)%96))%2147483647}return i===0&&(i=311),i}function Z4(i){var e=Mre(i);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Tre=function i(e){var t=this;ZH(this,i),Q_(this,"seed",0),Q_(this,"init",function(r){t.seed=r,t.value=Z4(r)}),Q_(this,"value",Z4(this.seed)),this.init(e)};new Tre(Math.random());const Cre=ot.createContext(null),YH=ot.createContext(null),Y4=i=>(i.getAttributes()&2)===2,wre=ot.memo(ot.forwardRef(({children:i,camera:e,scene:t,resolutionScale:r,enabled:n=!0,renderPriority:a=1,autoClear:s=!0,depthBuffer:l,enableNormalPass:f,stencilBuffer:d,multisampling:m=8,frameBufferType:g=Np},_)=>{const{gl:x,scene:b,camera:M,size:T}=Zl(),A=t||b,R=e||M,[B,D,I]=ot.useMemo(()=>{const F=new oie(x,{depthBuffer:l,stencilBuffer:d,multisampling:m,frameBufferType:g});F.addPass(new t3(A,R));let O=null,U=null;return f&&(U=new Sre(A,R),U.enabled=!1,F.addPass(U),r!==void 0&&(O=new gre({normalBuffer:U.texture,resolutionScale:r}),O.enabled=!1,F.addPass(O))),[F,U,O]},[R,x,l,d,m,g,A,f,r]);ot.useEffect(()=>B?.setSize(T.width,T.height),[B,T]),tM((F,O)=>{if(n){const U=x.autoClear;x.autoClear=s,d&&!s&&x.clearStencil(),B.render(O),x.autoClear=U}},n?a:0);const L=ot.useRef(null);ot.useLayoutEffect(()=>{const F=[],O=L.current.__r3f;if(O&&B){const U=O.children;for(let G=0;G<U.length;G++){const X=U[G].object;if(X instanceof RC){const te=[X];if(!Y4(X)){let le=null;for(;(le=U[G+1]?.object)instanceof RC&&!Y4(le);)te.push(le),G++}const ce=new bre(R,...te);F.push(ce)}else X instanceof rs&&F.push(X)}for(const G of F)B?.addPass(G);D&&(D.enabled=!0),I&&(I.enabled=!0)}return()=>{for(const U of F)B?.removePass(U);D&&(D.enabled=!1),I&&(I.enabled=!1)}},[B,i,R,D,I]),ot.useEffect(()=>{const F=x.toneMapping;return x.toneMapping=ec,()=>{x.toneMapping=F}},[x]);const P=ot.useMemo(()=>({composer:B,normalPass:D,downSamplingPass:I,resolutionScale:r,camera:R,scene:A}),[B,D,I,r,R,A]);return ot.useImperativeHandle(_,()=>B,[B]),ne.jsx(YH.Provider,{value:P,children:ne.jsx("group",{ref:L,children:i})})})),Yb=i=>typeof i=="object"&&i!=null&&"current"in i?i.current:i,Rre=(i,e)=>i.layers.enable(e.selection.layer),Dre=(i,e)=>i.layers.disable(e.selection.layer),Bre=ot.forwardRef(function({selection:i=[],selectionLayer:e=10,lights:t=[],inverted:r=!1,ignoreBackground:n=!1,luminanceThreshold:a,luminanceSmoothing:s,intensity:l,width:f,height:d,kernelSize:m,mipmapBlur:g,..._},x){t.length===0&&console.warn("SelectiveBloom requires lights to work.");const b=Zl(B=>B.invalidate),{scene:M,camera:T}=ot.useContext(YH),A=ot.useMemo(()=>{const B=new dre(M,T,{blendFunction:0,luminanceThreshold:a,luminanceSmoothing:s,intensity:l,width:f,height:d,kernelSize:m,mipmapBlur:g,..._});return B.inverted=r,B.ignoreBackground=n,B},[M,T,a,s,l,f,d,m,g,r,n,_]),R=ot.useContext(Cre);return ot.useEffect(()=>{if(!R&&i)return A.selection.set(Array.isArray(i)?i.map(Yb):[Yb(i)]),b(),()=>{A.selection.clear(),b()}},[A,i,R,b]),ot.useEffect(()=>{A.selection.layer=e,b()},[A,b,e]),ot.useEffect(()=>{if(t&&t.length>0)return t.forEach(B=>Rre(Yb(B),A)),b(),()=>{t.forEach(B=>Dre(Yb(B),A)),b()}},[A,b,t,e]),ot.useEffect(()=>{if(R&&R.enabled&&R.selected?.length)return A.selection.set(R.selected),b(),()=>{A.selection.clear(),b()}},[R,A.selection,b]),ne.jsx("primitive",{ref:x,object:A,dispose:null})});function Ure(i){const{nodes:e,materials:t}=Ev("/models/optimized-room.glb"),r=ot.useRef(),n=WD("/images/textures/mat1.png"),a=new Kf({color:"#d90429"}),s=new Kf({map:n}),l=new Kf({color:"#582f0e"}),f=new Kf({color:"#fff"}),d=new xv({color:"#fff"}),m=new Kf({color:"#8338ec"}),g=new Kf({color:"#000"});return ne.jsxs("group",{...i,dispose:null,children:[ne.jsx(wre,{children:ne.jsx(Bre,{selection:r,intensity:.2,luminanceThreshold:.2,luminanceSmoothing:.9,blendFunction:Fn.ADD})}),ne.jsx("mesh",{geometry:e._________6_blinn1_0.geometry,material:a}),ne.jsx("mesh",{geometry:e.body1_blinn1_0.geometry,material:s}),ne.jsx("mesh",{geometry:e.cabin_blinn1_0.geometry,material:l}),ne.jsx("mesh",{geometry:e.chair_body_blinn1_0.geometry,material:g}),ne.jsx("mesh",{geometry:e.comp_blinn1_0.geometry,material:d}),ne.jsx("mesh",{ref:r,geometry:e.emis_lambert1_0.geometry,material:t.lambert1}),ne.jsx("mesh",{geometry:e.handls_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.keyboard_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.kovrik_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.lamp_bl_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.lamp_white_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.miuse_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.monitor2_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.monitor3_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.pCylinder5_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.pillows_blinn1_0.geometry,material:m}),ne.jsx("mesh",{geometry:e.polySurface53_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.radiator_blinn1_0.geometry,material:f}),ne.jsx("mesh",{geometry:e.radiator_blinn1_0001.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.railing_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.red_bttns_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.red_vac_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.stylus_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.table_blinn1_0.geometry,material:l}),ne.jsx("mesh",{geometry:e.tablet_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.triangle_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.vac_black_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.vacuum1_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.vacuumgrey_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.vires_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.window_blinn1_0.geometry,material:t.blinn1}),ne.jsx("mesh",{geometry:e.window4_phong1_0.geometry,material:t.phong1})]})}Ev.preload("/models/optimized-room.glb");const Ore=()=>ne.jsxs(ne.Fragment,{children:[ne.jsx("spotLight",{position:[2,5,6],angle:.15,penumbra:.2,intensity:100,color:"white"}),ne.jsx("spotLight",{position:[4,5,4],angle:.4,penumbra:.2,intensity:100,color:"#4cc9f0"}),ne.jsx("spotLight",{position:[-3,5,5],angle:.4,penumbra:1,intensity:60,color:"#9d4edd"}),ne.jsx("primitive",{object:new HD("#A259ff",8,3,2),position:[1,3,4],rotation:[-Math.PI/4,Math.PI/4,0],intensity:15}),ne.jsx("pointLight",{position:[0,1,0],intensity:10,color:"#7209b7"}),ne.jsx("pointLight",{position:[1,2,-2],intensity:10,color:"#0d00a4"})]}),Nre=({count:i=200})=>{const e=ot.useRef(),t=ot.useMemo(()=>{const n=[];for(let a=0;a<i;a++)n.push({position:[(Math.random()-.5)*10,Math.random()*10+5,(Math.random()-.5)*10],speed:.005+Math.random()*.001});return n},[i]);tM(()=>{const n=e.current.geometry.attributes.position.array;for(let a=0;a<i;a++){let s=n[a*3+1];s-=t[a].speed,s<-2&&(s=Math.random()*10+5),n[a*3+1]=s}e.current.geometry.attributes.position.needsUpdate=!0});const r=new Float32Array(i*3);return t.forEach((n,a)=>{r[a*3]=n.position[0],r[a*3+1]=n.position[1],r[a*3+2]=n.position[2]}),ne.jsxs("points",{ref:e,children:[ne.jsx("bufferGeometry",{children:ne.jsx("bufferAttribute",{attach:"attributes-position",count:i,array:r,itemSize:3})}),ne.jsx("pointsMaterial",{color:"#ffffff",size:.05,transparent:!0,opacity:.9,depthWrite:!1})]})},Ire=()=>{const i=H4({query:"(max-width: 1024px)"}),e=H4({query:"(max-width: 768px)"});return ne.jsxs(LH,{camera:{position:[0,0,15],fov:45},children:[ne.jsx(Ore,{}),ne.jsx(GH,{enablepan:!1,enableZoom:!i,maxDistance:20,minDistance:5,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2}),ne.jsx(Nre,{count:50}),ne.jsx("group",{scale:e?.7:1,position:[0,-3.5,0],rotation:[0,-Math.PI/4,0],children:ne.jsx(Ure,{})})]})};var m_={},C_={exports:{}},zre=C_.exports,J4;function Lre(){return J4||(J4=1,(function(i,e){(function(t,r){r(e)})(zre,(function(t){var r=function(){return r=Object.assign||function(a){for(var s,l=1,f=arguments.length;l<f;l++)for(var d in s=arguments[l])Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d]);return a},r.apply(this,arguments)},n=(function(){function a(s,l,f){var d=this;this.endVal=l,this.options=f,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(m){d.startTime||(d.startTime=m);var g=m-d.startTime;d.remaining=d.duration-g,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(g,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(g,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(g/d.duration);var _=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=_?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),g<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(m){var g,_,x,b,M=m<0?"-":"";g=Math.abs(m).toFixed(d.options.decimalPlaces);var T=(g+="").split(".");if(_=T[0],x=T.length>1?d.options.decimal+T[1]:"",d.options.useGrouping){b="";for(var A=3,R=0,B=0,D=_.length;B<D;++B)d.options.useIndianSeparators&&B===4&&(A=2,R=1),B!==0&&R%A==0&&(b=d.options.separator+b),R++,b=_[D-B-1]+b;_=b}return d.options.numerals&&d.options.numerals.length&&(_=_.replace(/[0-9]/g,(function(I){return d.options.numerals[+I]})),x=x.replace(/[0-9]/g,(function(I){return d.options.numerals[+I]}))),M+d.options.prefix+_+x+d.options.suffix},this.easeOutExpo=function(m,g,_,x){return _*(1-Math.pow(2,-10*m/x))*1024/1023+g},this.options=r(r({},this.defaults),f),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof s=="string"?document.getElementById(s):s,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,s):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return d.handleScroll(d)})),window.onscroll=function(){window.onScrollFns.forEach((function(m){return m()}))},this.handleScroll(this)))}return a.prototype.handleScroll=function(s){if(s&&window&&!s.once){var l=window.innerHeight+window.scrollY,f=s.el.getBoundingClientRect(),d=f.top+window.pageYOffset,m=f.top+f.height+window.pageYOffset;m<l&&m>window.scrollY&&s.paused?(s.paused=!1,setTimeout((function(){return s.start()}),s.options.scrollSpyDelay),s.options.scrollSpyOnce&&(s.once=!0)):(window.scrollY>m||d>l)&&!s.paused&&s.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var s=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>s;var l=s-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=s;var f=this.countDown?1:-1;this.endVal=s+f*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=s,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(s){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),s&&(this.options.onCompleteCallback=s),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(s){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(s),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(s){var l;if(this.el){var f=this.formattingFn(s);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,f):this.el.tagName==="INPUT"?this.el.value=f:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=f:this.el.innerHTML=f}},a.prototype.ensureNumber=function(s){return typeof s=="number"&&!isNaN(s)},a.prototype.validateValue=function(s){var l=Number(s);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(s),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a.prototype.parse=function(s){var l=function(g){return g.replace(/([.,' ])/g,"\\$1")},f=l(this.options.separator),d=l(this.options.decimal),m=s.replace(new RegExp(f,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(m)},a})();t.CountUp=n}))})(C_,C_.exports)),C_.exports}var q4;function Pre(){if(q4)return m_;q4=1,Object.defineProperty(m_,"__esModule",{value:!0});var i=Rp(),e=Lre();function t(F,O){var U=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(U!=null){var G,X,te,ce,le=[],V=!0,q=!1;try{if(te=(U=U.call(F)).next,O!==0)for(;!(V=(G=te.call(U)).done)&&(le.push(G.value),le.length!==O);V=!0);}catch(ee){q=!0,X=ee}finally{try{if(!V&&U.return!=null&&(ce=U.return(),Object(ce)!==ce))return}finally{if(q)throw X}}return le}}function r(F,O){var U=Object.keys(F);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(F);O&&(G=G.filter(function(X){return Object.getOwnPropertyDescriptor(F,X).enumerable})),U.push.apply(U,G)}return U}function n(F){for(var O=1;O<arguments.length;O++){var U=arguments[O]!=null?arguments[O]:{};O%2?r(Object(U),!0).forEach(function(G){l(F,G,U[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(U)):r(Object(U)).forEach(function(G){Object.defineProperty(F,G,Object.getOwnPropertyDescriptor(U,G))})}return F}function a(F,O){if(typeof F!="object"||!F)return F;var U=F[Symbol.toPrimitive];if(U!==void 0){var G=U.call(F,O);if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(F)}function s(F){var O=a(F,"string");return typeof O=="symbol"?O:String(O)}function l(F,O,U){return O=s(O),O in F?Object.defineProperty(F,O,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[O]=U,F}function f(){return f=Object.assign?Object.assign.bind():function(F){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var G in U)Object.prototype.hasOwnProperty.call(U,G)&&(F[G]=U[G])}return F},f.apply(this,arguments)}function d(F,O){if(F==null)return{};var U={},G=Object.keys(F),X,te;for(te=0;te<G.length;te++)X=G[te],!(O.indexOf(X)>=0)&&(U[X]=F[X]);return U}function m(F,O){if(F==null)return{};var U=d(F,O),G,X;if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(F);for(X=0;X<te.length;X++)G=te[X],!(O.indexOf(G)>=0)&&Object.prototype.propertyIsEnumerable.call(F,G)&&(U[G]=F[G])}return U}function g(F,O){return _(F)||t(F,O)||x(F,O)||M()}function _(F){if(Array.isArray(F))return F}function x(F,O){if(F){if(typeof F=="string")return b(F,O);var U=Object.prototype.toString.call(F).slice(8,-1);if(U==="Object"&&F.constructor&&(U=F.constructor.name),U==="Map"||U==="Set")return Array.from(F);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return b(F,O)}}function b(F,O){(O==null||O>F.length)&&(O=F.length);for(var U=0,G=new Array(O);U<O;U++)G[U]=F[U];return G}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?i.useLayoutEffect:i.useEffect;function A(F){var O=i.useRef(F);return T(function(){O.current=F}),i.useCallback(function(){for(var U=arguments.length,G=new Array(U),X=0;X<U;X++)G[X]=arguments[X];return O.current.apply(void 0,G)},[])}var R=function(O,U){var G=U.decimal,X=U.decimals,te=U.duration,ce=U.easingFn,le=U.end,V=U.formattingFn,q=U.numerals,ee=U.prefix,ve=U.separator,J=U.start,Z=U.suffix,he=U.useEasing,Be=U.useGrouping,we=U.useIndianSeparators,Xe=U.enableScrollSpy,_e=U.scrollSpyDelay,Ce=U.scrollSpyOnce,Ze=U.plugin;return new e.CountUp(O,le,{startVal:J,duration:te,decimal:G,decimalPlaces:X,easingFn:ce,formattingFn:V,numerals:q,separator:ve,prefix:ee,suffix:Z,plugin:Ze,useEasing:he,useIndianSeparators:we,useGrouping:Be,enableScrollSpy:Xe,scrollSpyDelay:_e,scrollSpyOnce:Ce})},B=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],D={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},I=function(O){var U=Object.fromEntries(Object.entries(O).filter(function(Q){var Ie=g(Q,2),Le=Ie[1];return Le!==void 0})),G=i.useMemo(function(){return n(n({},D),U)},[O]),X=G.ref,te=G.startOnMount,ce=G.enableReinitialize,le=G.delay,V=G.onEnd,q=G.onStart,ee=G.onPauseResume,ve=G.onReset,J=G.onUpdate,Z=m(G,B),he=i.useRef(),Be=i.useRef(),we=i.useRef(!1),Xe=A(function(){return R(typeof X=="string"?X:X.current,Z)}),_e=A(function(Q){var Ie=he.current;if(Ie&&!Q)return Ie;var Le=Xe();return he.current=Le,Le}),Ce=A(function(){var Q=function(){return _e(!0).start(function(){V?.({pauseResume:Ze,reset:et,start:Mt,update:mt})})};le&&le>0?Be.current=setTimeout(Q,le*1e3):Q(),q?.({pauseResume:Ze,reset:et,update:mt})}),Ze=A(function(){_e().pauseResume(),ee?.({reset:et,start:Mt,update:mt})}),et=A(function(){_e().el&&(Be.current&&clearTimeout(Be.current),_e().reset(),ve?.({pauseResume:Ze,start:Mt,update:mt}))}),mt=A(function(Q){_e().update(Q),J?.({pauseResume:Ze,reset:et,start:Mt})}),Mt=A(function(){et(),Ce()}),kt=A(function(Q){te&&(Q&&et(),Ce())});return i.useEffect(function(){we.current?ce&&kt(!0):(we.current=!0,kt())},[ce,we,kt,le,O.start,O.suffix,O.prefix,O.duration,O.separator,O.decimals,O.decimal,O.formattingFn]),i.useEffect(function(){return function(){et()}},[et]),{start:Mt,pauseResume:Ze,reset:et,update:mt,getCountUp:_e}},L=["className","redraw","containerProps","children","style"],P=function(O){var U=O.className,G=O.redraw,X=O.containerProps,te=O.children,ce=O.style,le=m(O,L),V=i.useRef(null),q=i.useRef(!1),ee=I(n(n({},le),{},{ref:V,startOnMount:typeof te!="function"||O.delay===0,enableReinitialize:!1})),ve=ee.start,J=ee.reset,Z=ee.update,he=ee.pauseResume,Be=ee.getCountUp,we=A(function(){ve()}),Xe=A(function(Ze){O.preserveValue||J(),Z(Ze)}),_e=A(function(){if(typeof O.children=="function"&&!(V.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}Be()});i.useEffect(function(){_e()},[_e]),i.useEffect(function(){q.current&&Xe(O.end)},[O.end,Xe]);var Ce=G&&O;return i.useEffect(function(){G&&q.current&&we()},[we,G,Ce]),i.useEffect(function(){!G&&q.current&&we()},[we,G,O.start,O.suffix,O.prefix,O.duration,O.separator,O.decimals,O.decimal,O.className,O.formattingFn]),i.useEffect(function(){q.current=!0},[]),typeof te=="function"?te({countUpRef:V,start:ve,reset:J,update:Z,pauseResume:he,getCountUp:Be}):i.createElement("span",f({className:U,ref:V,style:ce},X),typeof O.start<"u"?Be().formattingFn(O.start):"")};return m_.default=P,m_.useCountUp=I,m_}var Fre=Pre();const Hre=pv(Fre),kre=()=>ne.jsx("div",{className:"padding-x-lg xl:mt-0 mt-32",id:"counter",children:ne.jsx("div",{className:"grid-4-cols mx-auto",children:ak.map(i=>ne.jsxs("div",{className:"bg-zinc-900 rounded-lg p-10 flex flex-col items-center justify-center",children:[ne.jsx("div",{className:"counter-number text-white text-5xl font-bold mb-2",children:ne.jsx(Hre,{suffix:i.suffix,end:i.value})}),ne.jsx("p",{className:"font-normal text-white-50 text-[14px]",children:i.label})]},i.label))})}),Gre=()=>(By(()=>{ud.fromTo(".hero-text h1",{y:50,opacity:0},{y:0,opacity:1,stagger:.2,duration:1,ease:"power2.inOut"})}),ne.jsxs("section",{id:"hero",className:"relative overflow-hidden",children:[ne.jsx("div",{className:"absolute top-0 left-0 z-10",children:ne.jsx("img",{src:"/images/bg.png",alt:""})}),ne.jsxs("div",{className:"hero-layout",children:[ne.jsx("header",{className:"flex flex-col justify-center md:w-full w-screen md:px-20 px-5",children:ne.jsxs("div",{className:"flex flex-col gap-7",children:[ne.jsxs("div",{className:"hero-text",children:[ne.jsxs("h1",{children:["Shaping",ne.jsx("span",{className:"slide",children:ne.jsx("span",{className:"wrapper",children:rk.map((i,e)=>ne.jsxs("span",{className:"flex items-center md:gap-3 gap-1 pb-2",children:[ne.jsx("img",{src:i.imgPath,alt:"person",className:"xl:size-12 md:size-10 size-7 md:p-2 p-1 rounded-full bg-white-50"}),ne.jsx("span",{children:i.text})]},e))})})]}),ne.jsx("h1",{children:"into Real Projects"}),ne.jsx("h1",{children:"that Deliver Results"})]}),ne.jsx("p",{className:"text-white-50 md:text-xl relative z-10 pointer-events-none",children:"Hi, Im Imam, a developer based in Cairo with a passion for code."}),ne.jsx(nX,{text:"See My Work",className:"md:w-80 md:h-16 w-60 h-12",id:"counter"})]})}),ne.jsx("figure",{children:ne.jsx("div",{className:"hero-3d-layout",children:ne.jsx(Ire,{})})})]}),ne.jsx(kre,{})]})),Vre=()=>ne.jsx("section",{className:"padding-x-lg mt-32",children:ne.jsxs("div",{className:"max-w-1xl mx-auto",children:[ne.jsx("h2",{className:"text-center text-3xl font-semibold text-white",children:"How I Work"}),ne.jsx("p",{className:"mt-4 text-center text-gray-400 max-w-xl mx-auto",children:"My approach to building clean, scalable, and production-ready web applications."}),ne.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[ne.jsxs("div",{className:"bg-zinc-900/80 border border-white/5 rounded-xl p-6",children:[ne.jsx("div",{className:"mb-4 text-emerald-400 text-xl",children:""}),ne.jsx("h3",{className:"text-lg font-semibold text-white",children:"Clean Architecture"}),ne.jsx("p",{className:"mt-2 text-sm text-gray-400 leading-relaxed",children:"I build well-structured, maintainable components that scale easily as the project grows."})]}),ne.jsxs("div",{className:"bg-zinc-900/80 border border-white/5 rounded-xl p-6",children:[ne.jsx("div",{className:"mb-4 text-blue-400 text-xl",children:""}),ne.jsx("h3",{className:"text-lg font-semibold text-white",children:"Performance First"}),ne.jsx("p",{className:"mt-2 text-sm text-gray-400 leading-relaxed",children:"Optimized rendering, efficient state management, and fast load times are always a priority."})]}),ne.jsxs("div",{className:"bg-zinc-900/80 border border-white/5 rounded-xl p-6",children:[ne.jsx("div",{className:"mb-4 text-purple-400 text-xl",children:""}),ne.jsx("h3",{className:"text-lg font-semibold text-white",children:"Communication & Feedback"}),ne.jsx("p",{className:"mt-2 text-sm text-gray-400 leading-relaxed",children:"Clear communication and continuous feedback help deliver better products with fewer surprises."})]})]})]})}),jre=({model:i})=>{const e=Ev(i.modelPath);return ne.jsxs(LH,{children:[ne.jsx("ambientLight",{intensity:1}),ne.jsx("directionalLight",{position:[5,5,5],intensity:.7}),ne.jsx(GH,{enableZoom:!1}),ne.jsx(Tne,{speed:5,rotationIntensity:.5,floatIntensity:1,children:ne.jsx("group",{scale:i.scale,rotation:i.rotation,children:ne.jsx("primitive",{object:e.scene})})})]})},$re=()=>(By(()=>{ud.fromTo(".tech-card",{y:50,opacity:0},{y:0,opacity:1,duration:1,ease:"power2.inOut",stagger:.2,scrollTrigger:{trigger:"#skills",start:"top center"}})}),ne.jsx("div",{id:"skills",className:"flex-center section-padding",children:ne.jsxs("div",{className:"w-full h-full md:px-10 px-5",children:[ne.jsx(tD,{title:"My Preferred Tech Stack",sub:" The Skills I Bring to the Tabel"}),ne.jsx("div",{className:"tech-grid",children:ok.map(i=>ne.jsxs("div",{className:"relative card-border tech-card overflow-hidden group xl:rounded-full rounded-lg",children:[ne.jsx("div",{className:"tech-card-animated-bg"}),ne.jsxs("div",{className:"tech-card-content",children:[ne.jsx("div",{className:"tech-icon-wrapper",children:ne.jsx(jre,{model:i})}),ne.jsx("div",{className:"padding-x",children:ne.jsx("p",{className:"",children:i.name})})]})]},i.name))}),ne.jsx("div",{className:"w-full overflow-hidden mt-20",children:ne.jsx("div",{className:"flex animate-marquee gap-8 w-max",children:[...sB,...sB].map((i,e)=>ne.jsx("img",{src:i.imgPath,alt:"icon-skill",className:""},e))})})]})})),Xre=()=>ne.jsxs(ne.Fragment,{children:[ne.jsx(ck,{}),ne.jsx(Gre,{}),ne.jsx(nV,{}),ne.jsx(oX,{}),ne.jsx(sX,{}),ne.jsx(Vre,{}),ne.jsx($re,{}),ne.jsx(rX,{})]});Y9.createRoot(document.getElementById("root")).render(ne.jsx(ot.StrictMode,{children:ne.jsx(Xre,{})}));
